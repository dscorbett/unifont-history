\hypertarget{unigencircles_8c}{}\doxysection{src/unigencircles.c File Reference}
\label{unigencircles_8c}\index{src/unigencircles.c@{src/unigencircles.c}}


unigencircles -\/ Superimpose dashed combining circles on combining glyphs  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
Include dependency graph for unigencircles.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=344pt]{d6/daa/unigencircles_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{unigencircles_8c_a2ff420a6c6a2d1effc47a81e37327985}\label{unigencircles_8c_a2ff420a6c6a2d1effc47a81e37327985}} 
\#define \mbox{\hyperlink{unigencircles_8c_a2ff420a6c6a2d1effc47a81e37327985}{M\+A\+X\+S\+T\+R\+I\+NG}}~256
\begin{DoxyCompactList}\small\item\em Maximum input line length -\/ 1. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{unigencircles_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main}} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em The main function. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{unigencircles_8c_a88eb1195637a2f1fe03d339f99582cfe}{add\+\_\+single\+\_\+circle}} (char $\ast$glyphstring)
\begin{DoxyCompactList}\small\item\em Superimpose a single-\/width dashed combining circle on a glyph bitmap. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{unigencircles_8c_a2e8aac93a2a490025d3653467cf40eda}{add\+\_\+double\+\_\+circle}} (char $\ast$glyphstring, int offset)
\begin{DoxyCompactList}\small\item\em Superimpose a double-\/width dashed combining circle on a glyph bitmap. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
unigencircles -\/ Superimpose dashed combining circles on combining glyphs 

\begin{DoxyAuthor}{Author}
Paul Hardy
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
Copyright (C) 2013, Paul Hardy. 
\end{DoxyCopyright}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{unigencircles_8c_a2e8aac93a2a490025d3653467cf40eda}\label{unigencircles_8c_a2e8aac93a2a490025d3653467cf40eda}} 
\index{unigencircles.c@{unigencircles.c}!add\_double\_circle@{add\_double\_circle}}
\index{add\_double\_circle@{add\_double\_circle}!unigencircles.c@{unigencircles.c}}
\doxysubsubsection{\texorpdfstring{add\_double\_circle()}{add\_double\_circle()}}
{\footnotesize\ttfamily void add\+\_\+double\+\_\+circle (\begin{DoxyParamCaption}\item[{char $\ast$}]{glyphstring,  }\item[{int}]{offset }\end{DoxyParamCaption})}



Superimpose a double-\/width dashed combining circle on a glyph bitmap. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em glyphstring} & A double-\/width glyph, 16x16 pixels. \\
\hline
\end{DoxyParams}


Definition at line 221 of file unigencircles.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{222 \{}
\DoxyCodeLine{223 }
\DoxyCodeLine{224    \textcolor{keywordtype}{char} newstring[256];}
\DoxyCodeLine{225    \textcolor{comment}{/* Circle hex string pattern is "{}00000008000024004200240000000000"{} */}}
\DoxyCodeLine{226 }
\DoxyCodeLine{227    \textcolor{comment}{/* For double diacritical glyphs (offset = -\/8) */}}
\DoxyCodeLine{228    \textcolor{comment}{/* Combining circle is left-\/justified.         */}}
\DoxyCodeLine{229    \textcolor{keywordtype}{char} circle08[64]=\{0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  1 */}}
\DoxyCodeLine{230                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  2 */}}
\DoxyCodeLine{231                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  3 */}}
\DoxyCodeLine{232                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  4 */}}
\DoxyCodeLine{233                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  5 */}}
\DoxyCodeLine{234                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  6 */}}
\DoxyCodeLine{235                       0x2,0x4,0x0,0x0,  \textcolor{comment}{/* row  7 */}}
\DoxyCodeLine{236                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  8 */}}
\DoxyCodeLine{237                       0x4,0x2,0x0,0x0,  \textcolor{comment}{/* row  9 */}}
\DoxyCodeLine{238                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 10 */}}
\DoxyCodeLine{239                       0x2,0x4,0x0,0x0,  \textcolor{comment}{/* row 11 */}}
\DoxyCodeLine{240                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 12 */}}
\DoxyCodeLine{241                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 13 */}}
\DoxyCodeLine{242                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 14 */}}
\DoxyCodeLine{243                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 15 */}}
\DoxyCodeLine{244                       0x0,0x0,0x0,0x0\}; \textcolor{comment}{/* row 16 */}}
\DoxyCodeLine{245 }
\DoxyCodeLine{246    \textcolor{comment}{/* For all other combining glyphs (offset = -\/16) */}}
\DoxyCodeLine{247    \textcolor{comment}{/* Combining circle is centered in 16 columns.   */}}
\DoxyCodeLine{248    \textcolor{keywordtype}{char} circle16[64]=\{0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  1 */}}
\DoxyCodeLine{249                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  2 */}}
\DoxyCodeLine{250                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  3 */}}
\DoxyCodeLine{251                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  4 */}}
\DoxyCodeLine{252                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  5 */}}
\DoxyCodeLine{253                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  6 */}}
\DoxyCodeLine{254                       0x0,0x2,0x4,0x0,  \textcolor{comment}{/* row  7 */}}
\DoxyCodeLine{255                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row  8 */}}
\DoxyCodeLine{256                       0x0,0x4,0x2,0x0,  \textcolor{comment}{/* row  9 */}}
\DoxyCodeLine{257                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 10 */}}
\DoxyCodeLine{258                       0x0,0x2,0x4,0x0,  \textcolor{comment}{/* row 11 */}}
\DoxyCodeLine{259                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 12 */}}
\DoxyCodeLine{260                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 13 */}}
\DoxyCodeLine{261                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 14 */}}
\DoxyCodeLine{262                       0x0,0x0,0x0,0x0,  \textcolor{comment}{/* row 15 */}}
\DoxyCodeLine{263                       0x0,0x0,0x0,0x0\}; \textcolor{comment}{/* row 16 */}}
\DoxyCodeLine{264 }
\DoxyCodeLine{265    \textcolor{keywordtype}{char} *circle; \textcolor{comment}{/* points into circle16 or circle08 */}}
\DoxyCodeLine{266 }
\DoxyCodeLine{267    \textcolor{keywordtype}{int} digit1, digit2; \textcolor{comment}{/* corresponding digits in each string */}}
\DoxyCodeLine{268 }
\DoxyCodeLine{269    \textcolor{keywordtype}{int} i; \textcolor{comment}{/* index variables */}}
\DoxyCodeLine{270 }
\DoxyCodeLine{271 }
\DoxyCodeLine{272    \textcolor{comment}{/*}}
\DoxyCodeLine{273 \textcolor{comment}{      Determine if combining circle is left-\/justified (offset = -\/8)}}
\DoxyCodeLine{274 \textcolor{comment}{      or centered (offset = -\/16).}}
\DoxyCodeLine{275 \textcolor{comment}{   */}}
\DoxyCodeLine{276    circle = (offset >= -\/8) ? circle08 : circle16;}
\DoxyCodeLine{277 }
\DoxyCodeLine{278    \textcolor{comment}{/* for each character position, OR the corresponding circle glyph value */}}
\DoxyCodeLine{279    \textcolor{keywordflow}{for} (i = 0; i < 64; i++) \{}
\DoxyCodeLine{280       glyphstring[i] = toupper (glyphstring[i]);}
\DoxyCodeLine{281 }
\DoxyCodeLine{282       \textcolor{comment}{/* Convert ASCII character to a hexadecimal integer */}}
\DoxyCodeLine{283       digit1 = (glyphstring[i] <= \textcolor{charliteral}{'9'}) ?}
\DoxyCodeLine{284                (glyphstring[i] -\/ \textcolor{charliteral}{'0'}) : (glyphstring[i] -\/ \textcolor{charliteral}{'A'} + 0xA);}
\DoxyCodeLine{285 }
\DoxyCodeLine{286       \textcolor{comment}{/* Superimpose dashed circle */}}
\DoxyCodeLine{287       digit2 = digit1 | circle[i];}
\DoxyCodeLine{288 }
\DoxyCodeLine{289       \textcolor{comment}{/* Convert hexadecimal integer to an ASCII character */}}
\DoxyCodeLine{290       newstring[i] = (digit2 <= 9) ?}
\DoxyCodeLine{291                      (\textcolor{charliteral}{'0'} + digit2) : (\textcolor{charliteral}{'A'} + digit2 -\/ 0xA);}
\DoxyCodeLine{292    \}}
\DoxyCodeLine{293 }
\DoxyCodeLine{294    \textcolor{comment}{/* Terminate string for output */}}
\DoxyCodeLine{295    newstring[i++] = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{296    newstring[i++] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{297 }
\DoxyCodeLine{298    memcpy (glyphstring, newstring, i);}
\DoxyCodeLine{299 }
\DoxyCodeLine{300    \textcolor{keywordflow}{return};}
\DoxyCodeLine{301 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{d6/d69/unigencircles_8c_a2e8aac93a2a490025d3653467cf40eda_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{unigencircles_8c_a88eb1195637a2f1fe03d339f99582cfe}\label{unigencircles_8c_a88eb1195637a2f1fe03d339f99582cfe}} 
\index{unigencircles.c@{unigencircles.c}!add\_single\_circle@{add\_single\_circle}}
\index{add\_single\_circle@{add\_single\_circle}!unigencircles.c@{unigencircles.c}}
\doxysubsubsection{\texorpdfstring{add\_single\_circle()}{add\_single\_circle()}}
{\footnotesize\ttfamily void add\+\_\+single\+\_\+circle (\begin{DoxyParamCaption}\item[{char $\ast$}]{glyphstring }\end{DoxyParamCaption})}



Superimpose a single-\/width dashed combining circle on a glyph bitmap. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em glyphstring} & A single-\/width glyph, 8x16 pixels. \\
\hline
\end{DoxyParams}


Definition at line 163 of file unigencircles.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{164 \{}
\DoxyCodeLine{165 }
\DoxyCodeLine{166    \textcolor{keywordtype}{char} newstring[256];}
\DoxyCodeLine{167    \textcolor{comment}{/* Circle hex string pattern is "{}00000008000024004200240000000000"{} */}}
\DoxyCodeLine{168    \textcolor{keywordtype}{char} circle[32]=\{0x0,0x0,  \textcolor{comment}{/* row  1 */}}
\DoxyCodeLine{169                     0x0,0x0,  \textcolor{comment}{/* row  2 */}}
\DoxyCodeLine{170                     0x0,0x0,  \textcolor{comment}{/* row  3 */}}
\DoxyCodeLine{171                     0x0,0x0,  \textcolor{comment}{/* row  4 */}}
\DoxyCodeLine{172                     0x0,0x0,  \textcolor{comment}{/* row  5 */}}
\DoxyCodeLine{173                     0x0,0x0,  \textcolor{comment}{/* row  6 */}}
\DoxyCodeLine{174                     0x2,0x4,  \textcolor{comment}{/* row  7 */}}
\DoxyCodeLine{175                     0x0,0x0,  \textcolor{comment}{/* row  8 */}}
\DoxyCodeLine{176                     0x4,0x2,  \textcolor{comment}{/* row  9 */}}
\DoxyCodeLine{177                     0x0,0x0,  \textcolor{comment}{/* row 10 */}}
\DoxyCodeLine{178                     0x2,0x4,  \textcolor{comment}{/* row 11 */}}
\DoxyCodeLine{179                     0x0,0x0,  \textcolor{comment}{/* row 12 */}}
\DoxyCodeLine{180                     0x0,0x0,  \textcolor{comment}{/* row 13 */}}
\DoxyCodeLine{181                     0x0,0x0,  \textcolor{comment}{/* row 14 */}}
\DoxyCodeLine{182                     0x0,0x0,  \textcolor{comment}{/* row 15 */}}
\DoxyCodeLine{183                     0x0,0x0\}; \textcolor{comment}{/* row 16 */}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185    \textcolor{keywordtype}{int} digit1, digit2; \textcolor{comment}{/* corresponding digits in each string */}}
\DoxyCodeLine{186 }
\DoxyCodeLine{187    \textcolor{keywordtype}{int} i; \textcolor{comment}{/* index variables */}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189    \textcolor{comment}{/* for each character position, OR the corresponding circle glyph value */}}
\DoxyCodeLine{190    \textcolor{keywordflow}{for} (i = 0; i < 32; i++) \{}
\DoxyCodeLine{191       glyphstring[i] = toupper (glyphstring[i]);}
\DoxyCodeLine{192 }
\DoxyCodeLine{193       \textcolor{comment}{/* Convert ASCII character to a hexadecimal integer */}}
\DoxyCodeLine{194       digit1 = (glyphstring[i] <= \textcolor{charliteral}{'9'}) ?}
\DoxyCodeLine{195                (glyphstring[i] -\/ \textcolor{charliteral}{'0'}) : (glyphstring[i] -\/ \textcolor{charliteral}{'A'} + 0xA);}
\DoxyCodeLine{196 }
\DoxyCodeLine{197       \textcolor{comment}{/* Superimpose dashed circle */}}
\DoxyCodeLine{198       digit2 = digit1 | circle[i];}
\DoxyCodeLine{199 }
\DoxyCodeLine{200       \textcolor{comment}{/* Convert hexadecimal integer to an ASCII character */}}
\DoxyCodeLine{201       newstring[i] = (digit2 <= 9) ?}
\DoxyCodeLine{202                      (\textcolor{charliteral}{'0'} + digit2) : (\textcolor{charliteral}{'A'} + digit2 -\/ 0xA);}
\DoxyCodeLine{203    \}}
\DoxyCodeLine{204 }
\DoxyCodeLine{205    \textcolor{comment}{/* Terminate string for output */}}
\DoxyCodeLine{206    newstring[i++] = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{207    newstring[i++] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{208 }
\DoxyCodeLine{209    memcpy (glyphstring, newstring, i);}
\DoxyCodeLine{210 }
\DoxyCodeLine{211    \textcolor{keywordflow}{return};}
\DoxyCodeLine{212 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=258pt]{d6/d69/unigencircles_8c_a88eb1195637a2f1fe03d339f99582cfe_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{unigencircles_8c_a3c04138a5bfe5d72780bb7e82a18e627}\label{unigencircles_8c_a3c04138a5bfe5d72780bb7e82a18e627}} 
\index{unigencircles.c@{unigencircles.c}!main@{main}}
\index{main@{main}!unigencircles.c@{unigencircles.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}



The main function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em argc} & The count of command line arguments. \\
\hline
\mbox{\texttt{ in}}  & {\em argv} & Pointer to array of command line arguments. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This program exits with status E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+SS. 
\end{DoxyReturn}


Definition at line 73 of file unigencircles.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{74 \{}
\DoxyCodeLine{75 }
\DoxyCodeLine{76    \textcolor{keywordtype}{char} teststring[\mbox{\hyperlink{unigencircles_8c_a2ff420a6c6a2d1effc47a81e37327985}{MAXSTRING}}];  \textcolor{comment}{/* current input line                       */}}
\DoxyCodeLine{77    \textcolor{keywordtype}{int}  loc;                    \textcolor{comment}{/* Unicode code point of current input line */}}
\DoxyCodeLine{78    \textcolor{keywordtype}{int}  offset;                 \textcolor{comment}{/* offset value of a combining character    */}}
\DoxyCodeLine{79    \textcolor{keywordtype}{char} *gstart;                \textcolor{comment}{/* glyph start, pointing into teststring    */}}
\DoxyCodeLine{80 }
\DoxyCodeLine{81    \textcolor{keywordtype}{char} combining[0x110000];    \textcolor{comment}{/* 1 -\/-\/> combining glyph; 0 -\/-\/> non-\/combining */}}
\DoxyCodeLine{82    \textcolor{keywordtype}{char} x\_offset [0x110000];    \textcolor{comment}{/* second value in *combining.txt files       */}}
\DoxyCodeLine{83 }
\DoxyCodeLine{84    \textcolor{keywordtype}{void} \mbox{\hyperlink{unigencircles_8c_a88eb1195637a2f1fe03d339f99582cfe}{add\_single\_circle}}(\textcolor{keywordtype}{char} *);      \textcolor{comment}{/* add a single-\/width dashed circle */}}
\DoxyCodeLine{85    \textcolor{keywordtype}{void} \mbox{\hyperlink{unigencircles_8c_a2e8aac93a2a490025d3653467cf40eda}{add\_double\_circle}}(\textcolor{keywordtype}{char} *, \textcolor{keywordtype}{int}); \textcolor{comment}{/* add a double-\/width dashed circle */}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87    FILE *infilefp;}
\DoxyCodeLine{88 }
\DoxyCodeLine{89    \textcolor{comment}{/*}}
\DoxyCodeLine{90 \textcolor{comment}{      if (argc != 3) \{}}
\DoxyCodeLine{91 \textcolor{comment}{         fprintf (stderr,}}
\DoxyCodeLine{92 \textcolor{comment}{                "{}\(\backslash\)n\(\backslash\)nUsage: \%s combining.txt nonprinting.hex < unifont.hex > unifontfull.hex\(\backslash\)n\(\backslash\)n"{});}}
\DoxyCodeLine{93 \textcolor{comment}{         exit (EXIT\_FAILURE);}}
\DoxyCodeLine{94 \textcolor{comment}{      \}}}
\DoxyCodeLine{95 \textcolor{comment}{   */}}
\DoxyCodeLine{96 }
\DoxyCodeLine{97    \textcolor{comment}{/*}}
\DoxyCodeLine{98 \textcolor{comment}{      Read the combining characters list.}}
\DoxyCodeLine{99 \textcolor{comment}{   */}}
\DoxyCodeLine{100    \textcolor{comment}{/* Start with no combining code points flagged */}}
\DoxyCodeLine{101    memset (combining, 0, 0x110000 * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{char}));}
\DoxyCodeLine{102    memset (x\_offset , 0, 0x110000 * \textcolor{keyword}{sizeof} (\textcolor{keywordtype}{char}));}
\DoxyCodeLine{103 }
\DoxyCodeLine{104    \textcolor{keywordflow}{if} ((infilefp = fopen (argv[1],\textcolor{stringliteral}{"{}r"{}})) == NULL) \{}
\DoxyCodeLine{105       fprintf (stderr,\textcolor{stringliteral}{"{}ERROR -\/ combining characters file \%s not found.\(\backslash\)n\(\backslash\)n"{}},}
\DoxyCodeLine{106               argv[1]);}
\DoxyCodeLine{107       exit (EXIT\_FAILURE);}
\DoxyCodeLine{108    \}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110    \textcolor{comment}{/* Flag list of combining characters to add a dashed circle. */}}
\DoxyCodeLine{111    \textcolor{keywordflow}{while} (fscanf (infilefp, \textcolor{stringliteral}{"{}\%X:\%d"{}}, \&loc, \&offset) != EOF) \{}
\DoxyCodeLine{112       \textcolor{comment}{/*}}
\DoxyCodeLine{113 \textcolor{comment}{         U+01107F and U+01D1A0 are not defined as combining characters}}
\DoxyCodeLine{114 \textcolor{comment}{         in Unicode; they were added in a combining.txt file as the}}
\DoxyCodeLine{115 \textcolor{comment}{         only way to make them look acceptable in proximity to other}}
\DoxyCodeLine{116 \textcolor{comment}{         glyphs in their script.}}
\DoxyCodeLine{117 \textcolor{comment}{      */}}
\DoxyCodeLine{118       \textcolor{keywordflow}{if} (loc != 0x01107F \&\& loc != 0x01D1A0) \{}
\DoxyCodeLine{119          combining[loc] = 1;}
\DoxyCodeLine{120          x\_offset [loc] = offset;}
\DoxyCodeLine{121       \}}
\DoxyCodeLine{122    \}}
\DoxyCodeLine{123    fclose (infilefp); \textcolor{comment}{/* all done reading combining.txt */}}
\DoxyCodeLine{124 }
\DoxyCodeLine{125    \textcolor{comment}{/* Now read the non-\/printing glyphs; they never have dashed circles */}}
\DoxyCodeLine{126    \textcolor{keywordflow}{if} ((infilefp = fopen (argv[2],\textcolor{stringliteral}{"{}r"{}})) == NULL) \{}
\DoxyCodeLine{127       fprintf (stderr,\textcolor{stringliteral}{"{}ERROR -\/ nonprinting characters file \%s not found.\(\backslash\)n\(\backslash\)n"{}},}
\DoxyCodeLine{128               argv[1]);}
\DoxyCodeLine{129       exit (EXIT\_FAILURE);}
\DoxyCodeLine{130    \}}
\DoxyCodeLine{131 }
\DoxyCodeLine{132    \textcolor{comment}{/* Reset list of nonprinting characters to avoid adding a dashed circle. */}}
\DoxyCodeLine{133    \textcolor{keywordflow}{while} (fscanf (infilefp, \textcolor{stringliteral}{"{}\%X:\%*s"{}}, \&loc) != EOF) combining[loc] = 0;}
\DoxyCodeLine{134 }
\DoxyCodeLine{135    fclose (infilefp); \textcolor{comment}{/* all done reading nonprinting.hex */}}
\DoxyCodeLine{136 }
\DoxyCodeLine{137    \textcolor{comment}{/*}}
\DoxyCodeLine{138 \textcolor{comment}{      Read the hex glyphs.}}
\DoxyCodeLine{139 \textcolor{comment}{   */}}
\DoxyCodeLine{140    teststring[\mbox{\hyperlink{unigencircles_8c_a2ff420a6c6a2d1effc47a81e37327985}{MAXSTRING}} -\/ 1] = \textcolor{charliteral}{'\(\backslash\)0'};   \textcolor{comment}{/* so there's no chance we leave array  */}}
\DoxyCodeLine{141    \textcolor{keywordflow}{while} (fgets (teststring, \mbox{\hyperlink{unigencircles_8c_a2ff420a6c6a2d1effc47a81e37327985}{MAXSTRING}}-\/1, stdin) != NULL) \{}
\DoxyCodeLine{142       sscanf (teststring, \textcolor{stringliteral}{"{}\%X"{}}, \&loc);     \textcolor{comment}{/* loc == the Uniocde code point    */}}
\DoxyCodeLine{143       gstart = strchr (teststring,\textcolor{charliteral}{':'}) + 1; \textcolor{comment}{/* start of glyph bitmap            */}}
\DoxyCodeLine{144       \textcolor{keywordflow}{if} (combining[loc]) \{                \textcolor{comment}{/* if a combining character         */}}
\DoxyCodeLine{145          \textcolor{keywordflow}{if} (strlen (gstart) < 35)}
\DoxyCodeLine{146             \mbox{\hyperlink{unigencircles_8c_a88eb1195637a2f1fe03d339f99582cfe}{add\_single\_circle}} (gstart);                 \textcolor{comment}{/* single-\/width */}}
\DoxyCodeLine{147          \textcolor{keywordflow}{else}}
\DoxyCodeLine{148             \mbox{\hyperlink{unigencircles_8c_a2e8aac93a2a490025d3653467cf40eda}{add\_double\_circle}} (gstart, x\_offset[loc]);  \textcolor{comment}{/* double-\/width */}}
\DoxyCodeLine{149       \}}
\DoxyCodeLine{150       printf (\textcolor{stringliteral}{"{}\%s"{}}, teststring); \textcolor{comment}{/* output the new character .hex string */}}
\DoxyCodeLine{151    \}}
\DoxyCodeLine{152 }
\DoxyCodeLine{153    exit (EXIT\_SUCCESS);}
\DoxyCodeLine{154 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=261pt]{d6/d69/unigencircles_8c_a3c04138a5bfe5d72780bb7e82a18e627_cgraph}
\end{center}
\end{figure}
