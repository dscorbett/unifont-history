\hypertarget{hex2otf_8c}{}\doxysection{src/hex2otf.c File Reference}
\label{hex2otf_8c}\index{src/hex2otf.c@{src/hex2otf.c}}


hex2otf -\/ Convert GNU Unifont .hex file to Open\+Type font  


{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$ctype.\+h$>$}\newline
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include \char`\"{}hex2otf.\+h\char`\"{}}\newline
Include dependency graph for hex2otf.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structBuffer}{Buffer}}
\begin{DoxyCompactList}\small\item\em Generic data structure for a linked list of buffer elements. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structGlyph}{Glyph}}
\begin{DoxyCompactList}\small\item\em Data structure to hold data for one bitmap glyph. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structFont}{Font}}
\begin{DoxyCompactList}\small\item\em Data structure to hold information for one font. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structTable}{Table}}
\begin{DoxyCompactList}\small\item\em Data structure for an Open\+Type table. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structTableRecord}{Table\+Record}}
\begin{DoxyCompactList}\small\item\em Data structure for data associated with one Open\+Type table. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structOptions}{Options}}
\begin{DoxyCompactList}\small\item\em Data structure to hold options for Open\+Type font output. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hex2otf_8c_a1c6d5de492ac61ad29aec7aa9a436bbf}\label{hex2otf_8c_a1c6d5de492ac61ad29aec7aa9a436bbf}} 
\#define \mbox{\hyperlink{hex2otf_8c_a1c6d5de492ac61ad29aec7aa9a436bbf}{VERSION}}~\char`\"{}1.\+0.\+1\char`\"{}
\begin{DoxyCompactList}\small\item\em Program version, for \char`\"{}-\/-\/version\char`\"{} option. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}\label{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}} 
\#define \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16\+MAX}}~0xffff
\begin{DoxyCompactList}\small\item\em Maximum UTF-\/16 code point value. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a7ccab01e56208030185cefdca13e0ac8}\label{hex2otf_8c_a7ccab01e56208030185cefdca13e0ac8}} 
\#define \mbox{\hyperlink{hex2otf_8c_a7ccab01e56208030185cefdca13e0ac8}{U32\+MAX}}~0xffffffff
\begin{DoxyCompactList}\small\item\em Maximum UTF-\/32 code point value. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}\label{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}} 
\#define \mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\+\_\+\+CP}}~\char`\"{}U+\%.\+4\char`\"{}PRIXFAST32
\begin{DoxyCompactList}\small\item\em Format string to print Unicode code point. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_abce67139ad0bc979ef080a694e60fb36}\label{hex2otf_8c_abce67139ad0bc979ef080a694e60fb36}} 
\#define \mbox{\hyperlink{hex2otf_8c_abce67139ad0bc979ef080a694e60fb36}{static\+\_\+assert}}(a,  b)~(assert(a))
\begin{DoxyCompactList}\small\item\em If \char`\"{}a\char`\"{} is true, return string \char`\"{}b\char`\"{}. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}\label{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}} 
\#define \mbox{\hyperlink{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}{BX}}(shift,  x)~((uintmax\+\_\+t)(!!(x)) $<$$<$ (shift))
\begin{DoxyCompactList}\small\item\em Truncate \& shift word. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}\label{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}} 
\#define \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}}(shift)~\mbox{\hyperlink{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}{BX}}((shift), 0)
\begin{DoxyCompactList}\small\item\em Clear a given bit in a word. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}\label{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}} 
\#define \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}}(shift)~\mbox{\hyperlink{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}{BX}}((shift), 1)
\begin{DoxyCompactList}\small\item\em Set a given bit in a word. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a688a4772d61221e9378e5003da51265a}\label{hex2otf_8c_a688a4772d61221e9378e5003da51265a}} 
\#define \mbox{\hyperlink{hex2otf_8c_a688a4772d61221e9378e5003da51265a}{GLYPH\+\_\+\+MAX\+\_\+\+WIDTH}}~16
\begin{DoxyCompactList}\small\item\em Maximum glyph width, in pixels. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}\label{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}} 
\#define \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\+\_\+\+HEIGHT}}~16
\begin{DoxyCompactList}\small\item\em Maximum glyph height, in pixels. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_ad0f95bf4a3a4a28b173b971e246b8745}\label{hex2otf_8c_ad0f95bf4a3a4a28b173b971e246b8745}} 
\#define \mbox{\hyperlink{hex2otf_8c_ad0f95bf4a3a4a28b173b971e246b8745}{GLYPH\+\_\+\+MAX\+\_\+\+BYTE\+\_\+\+COUNT}}~(\mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\+\_\+\+HEIGHT}} $\ast$ \mbox{\hyperlink{hex2otf_8c_a688a4772d61221e9378e5003da51265a}{GLYPH\+\_\+\+MAX\+\_\+\+WIDTH}} / 8)
\begin{DoxyCompactList}\small\item\em Number of bytes to represent one bitmap glyph as a binary array. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}\label{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}} 
\#define \mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}}~2
\begin{DoxyCompactList}\small\item\em Count of pixels below baseline. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}\label{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}} 
\#define \mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}}~(\mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\+\_\+\+HEIGHT}} -\/ \mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}})
\begin{DoxyCompactList}\small\item\em Count of pixels above baseline. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a652fd701381105d0d34ca4084cca413c}\label{hex2otf_8c_a652fd701381105d0d34ca4084cca413c}} 
\#define \mbox{\hyperlink{hex2otf_8c_a652fd701381105d0d34ca4084cca413c}{FUPEM}}~64
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{structFont}{Font}} units per em. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a1a1d1da8a5f6da54d749399b173c9bfc}\label{hex2otf_8c_a1a1d1da8a5f6da54d749399b173c9bfc}} 
\#define \mbox{\hyperlink{hex2otf_8c_a1a1d1da8a5f6da54d749399b173c9bfc}{MAX\+\_\+\+GLYPHS}}~65536
\begin{DoxyCompactList}\small\item\em An Open\+Type font has at most 65536 glyphs. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a06a292e7a76c13c1fa509187a7e6577a}\label{hex2otf_8c_a06a292e7a76c13c1fa509187a7e6577a}} 
\#define \mbox{\hyperlink{hex2otf_8c_a06a292e7a76c13c1fa509187a7e6577a}{MAX\+\_\+\+NAME\+\_\+\+IDS}}~256
\begin{DoxyCompactList}\small\item\em Name IDs 0-\/255 are used for standard names. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}\label{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}} 
\#define \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}}(x)~((x) $\ast$ \mbox{\hyperlink{hex2otf_8c_a652fd701381105d0d34ca4084cca413c}{FUPEM}} / \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\+\_\+\+HEIGHT}})
\begin{DoxyCompactList}\small\item\em Convert pixels to font units. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a79e768c38f3b21419f01d2d1347523be}\label{hex2otf_8c_a79e768c38f3b21419f01d2d1347523be}} 
\#define \mbox{\hyperlink{hex2otf_8c_a79e768c38f3b21419f01d2d1347523be}{PW}}(x)~((x) / (\mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\+\_\+\+HEIGHT}} / 8))
\begin{DoxyCompactList}\small\item\em Convert glyph byte count to pixel width. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{hex2otf_8c_a0e5f5e7d04aec261ae28e2fca801194c}{define\+Store}}(name,  type)
\begin{DoxyCompactList}\small\item\em Temporary define to look up an element in an array of given type. \end{DoxyCompactList}\item 
\#define {\bfseries add\+Byte}(shift)
\item 
\mbox{\Hypertarget{hex2otf_8c_a557b26ae24c6df65878422040be2e922}\label{hex2otf_8c_a557b26ae24c6df65878422040be2e922}} 
\#define {\bfseries get\+Row\+Bit}(rows,  x,  y)~((rows)\mbox{[}(y)\mbox{]} \&  x0 $>$$>$ (x))
\item 
\mbox{\Hypertarget{hex2otf_8c_aa51bea432733981a06404c5f029108f7}\label{hex2otf_8c_aa51bea432733981a06404c5f029108f7}} 
\#define {\bfseries flip\+Row\+Bit}(rows,  x,  y)~((rows)\mbox{[}(y)\mbox{]} $^\wedge$= x0 $>$$>$ (x))
\item 
\mbox{\Hypertarget{hex2otf_8c_a13f8122753a7298916b3dddc2acb389a}\label{hex2otf_8c_a13f8122753a7298916b3dddc2acb389a}} 
\#define {\bfseries string\+Count}~(sizeof strings / sizeof $\ast$strings)
\item 
\mbox{\Hypertarget{hex2otf_8c_a3aa464534b439904ec3a91db5fd313a0}\label{hex2otf_8c_a3aa464534b439904ec3a91db5fd313a0}} 
\#define {\bfseries cache\+CFF32}(buf,  x)~(\mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cache\+U8}} ((buf), 29), \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cache\+U32}} ((buf), (x)))
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hex2otf_8c_a0c8186d9b9b7880309c27230bbb5e69d}\label{hex2otf_8c_a0c8186d9b9b7880309c27230bbb5e69d}} 
typedef unsigned char \mbox{\hyperlink{hex2otf_8c_a0c8186d9b9b7880309c27230bbb5e69d}{byte}}
\begin{DoxyCompactList}\small\item\em Definition of \char`\"{}byte\char`\"{} type as an unsigned char. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}\label{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}} 
typedef int\+\_\+least8\+\_\+t \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\+\_\+t}}
\begin{DoxyCompactList}\small\item\em This type must be able to represent max(\+GLYPH\+\_\+\+MAX\+\_\+\+WIDTH, GLYPH\+\_\+\+HEIGHT). \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structBuffer}{Buffer}} \mbox{\hyperlink{hex2otf_8c_a7feadaf37f40473cfc76921f8754c0f7}{Buffer}}
\begin{DoxyCompactList}\small\item\em Generic data structure for a linked list of buffer elements. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}\label{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}} 
typedef const char $\ast$ \mbox{\hyperlink{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}{Name\+Strings}}\mbox{[}\mbox{\hyperlink{hex2otf_8c_a06a292e7a76c13c1fa509187a7e6577a}{MAX\+\_\+\+NAME\+\_\+\+IDS}}\mbox{]}
\begin{DoxyCompactList}\small\item\em Array of Open\+Type names indexed directly by Name IDs. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structGlyph}{Glyph}} \mbox{\hyperlink{hex2otf_8c_a8ac383e879c9d7d9af6005444970c837}{Glyph}}
\begin{DoxyCompactList}\small\item\em Data structure to hold data for one bitmap glyph. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a6793c760667fe6bf1481f61567954c12}\label{hex2otf_8c_a6793c760667fe6bf1481f61567954c12}} 
typedef struct \mbox{\hyperlink{structFont}{Font}} \mbox{\hyperlink{hex2otf_8c_a6793c760667fe6bf1481f61567954c12}{Font}}
\begin{DoxyCompactList}\small\item\em Data structure to hold information for one font. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structTable}{Table}} \mbox{\hyperlink{hex2otf_8c_aaa5713bb2ecdf81c430009179b806232}{Table}}
\begin{DoxyCompactList}\small\item\em Data structure for an Open\+Type table. \end{DoxyCompactList}\item 
typedef struct \mbox{\hyperlink{structOptions}{Options}} \mbox{\hyperlink{hex2otf_8c_a97fbabab590ac85657edb01474da7d50}{Options}}
\begin{DoxyCompactList}\small\item\em Data structure to hold options for Open\+Type font output. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}{Loca\+Format}} \{ \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaa9c5871c30feb10df049d99bd703dfda4}{LOCA\+\_\+\+OFFSET16}} = 0
, \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaad5e47b5a6bbf31be31e9b1328e7beef8}{LOCA\+\_\+\+OFFSET32}} = 1
 \}
\begin{DoxyCompactList}\small\item\em Index to Location (\char`\"{}loca\char`\"{}) offset information. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38}{Contour\+Op}} \{ \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}{OP\+\_\+\+CLOSE}}
, \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a01f5371958d06ab1411c46f72f049f45}{OP\+\_\+\+POINT}}
 \}
\begin{DoxyCompactList}\small\item\em Specify the current contour drawing operation. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8c}{Fill\+Side}} \{ \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8caf18243d8ef6a7f601ae03a6cffbabadd}{FILL\+\_\+\+LEFT}}
, \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8ca0bbdc63e5d0938274b80230bc55d03b8}{FILL\+\_\+\+RIGHT}}
 \}
\begin{DoxyCompactList}\small\item\em Fill to the left side (CFF) or right side (True\+Type) of a contour. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (const char $\ast$reason,...)
\begin{DoxyCompactList}\small\item\em Print an error message on stderr, then exit. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a4cebe6a72365812b5f392f4db9dc5db5}{init\+Buffers}} (size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Initialize an array of buffer pointers to all zeroes. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_ac947cbe076da5fbab8f5e4c1c821b7a6}{clean\+Buffers}} ()
\begin{DoxyCompactList}\small\item\em Free all allocated buffer pointers. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$ \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{new\+Buffer}} (size\+\_\+t initial\+Capacity)
\begin{DoxyCompactList}\small\item\em Create a new buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4}{ensure\+Buffer}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf, size\+\_\+t needed)
\begin{DoxyCompactList}\small\item\em Ensure that the buffer has at least the specified minimum size. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{free\+Buffer}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf)
\begin{DoxyCompactList}\small\item\em Free the memory previously allocated for a buffer. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a4580a6e8cc566504bc2b852272c9434e}\label{hex2otf_8c_a4580a6e8cc566504bc2b852272c9434e}} 
{\bfseries define\+Store} (store\+U8, uint\+\_\+least8\+\_\+t)
\item 
void \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cache\+U8}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf, uint\+\_\+fast8\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Append one unsigned byte to the end of a byte array. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cache\+U16}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf, uint\+\_\+fast16\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Append two unsigned bytes to the end of a byte array. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cache\+U32}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf, uint\+\_\+fast32\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Append four unsigned bytes to the end of a byte array. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cache\+CFFOperand}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf, int\+\_\+fast32\+\_\+t value)
\begin{DoxyCompactList}\small\item\em Cache charstring number encoding in a CFF buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397}{cache\+Zeros}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Append 1 to 4 bytes of zeroes to a buffer, for padding. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cache\+Bytes}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$restrict buf, const void $\ast$restrict src, size\+\_\+t count)
\begin{DoxyCompactList}\small\item\em Append a string of bytes to a buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cache\+Buffer}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$restrict buf\+Dest, const \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$restrict buf\+Src)
\begin{DoxyCompactList}\small\item\em Append bytes of a table to a byte buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380}{write\+Bytes}} (const \mbox{\hyperlink{hex2otf_8c_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} bytes\mbox{[}$\,$\mbox{]}, size\+\_\+t count, FILE $\ast$file)
\begin{DoxyCompactList}\small\item\em Write an array of bytes to an output file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1}{write\+U16}} (uint\+\_\+fast16\+\_\+t value, FILE $\ast$file)
\begin{DoxyCompactList}\small\item\em Write an unsigned 16-\/bit value to an output file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}{write\+U32}} (uint\+\_\+fast32\+\_\+t value, FILE $\ast$file)
\begin{DoxyCompactList}\small\item\em Write an unsigned 32-\/bit value to an output file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{add\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, const char tag\mbox{[}static 4\mbox{]}, \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$content)
\begin{DoxyCompactList}\small\item\em Add a True\+Type or Open\+Type table to the font. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a049e485562f7f4dfe978c4146ad225b8}{organize\+Tables}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, bool is\+CFF)
\begin{DoxyCompactList}\small\item\em Sort tables according to Open\+Type recommendations. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{hex2otf_8c_af1223f39e8627e0a3b0b7b533e6d0b64}{by\+Table\+Tag}} (const void $\ast$a, const void $\ast$b)
\begin{DoxyCompactList}\small\item\em Compare tables by 4-\/byte unsigned table tag value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a074562f0527ff6db8b1b956b9356a315}{write\+Font}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, bool is\+CFF, const char $\ast$file\+Name)
\begin{DoxyCompactList}\small\item\em Write Open\+Type font to output file. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{hex2otf_8c_ae28f2f636e4d3dd3b5784a3bc3f92b58}{read\+Code\+Point}} (uint\+\_\+fast32\+\_\+t $\ast$code\+Point, const char $\ast$file\+Name, FILE $\ast$file)
\begin{DoxyCompactList}\small\item\em Read up to 6 hexadecimal digits and a colon from file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_ad77c441582f862d494a734eb9855dd41}{read\+Glyphs}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, const char $\ast$file\+Name)
\begin{DoxyCompactList}\small\item\em Read glyph definitions from a Unifont .hex format file. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{hex2otf_8c_a0d187cc87528ef35478afd7a68309f08}{by\+Code\+Point}} (const void $\ast$a, const void $\ast$b)
\begin{DoxyCompactList}\small\item\em Compare two Unicode code points to determine which is greater. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_af3ba1ba33ebe63ba0340842b7f83021c}{position\+Glyphs}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, const char $\ast$file\+Name, \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\+\_\+t}} $\ast$x\+Min)
\begin{DoxyCompactList}\small\item\em Position a glyph within a 16-\/by-\/16 pixel bounding box. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a77ff68152c5cb38605010bc7621b0722}{sort\+Glyphs}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Sort the glyphs in a font by Unicode code point. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a5af7c9bcfd40e5b11f9d12c40966bb65}{build\+Outline}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$result, const \mbox{\hyperlink{hex2otf_8c_a0c8186d9b9b7880309c27230bbb5e69d}{byte}} bitmap\mbox{[}$\,$\mbox{]}, const size\+\_\+t byte\+Count, const enum \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8c}{Fill\+Side}} fill\+Side)
\begin{DoxyCompactList}\small\item\em Build a glyph outline. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a97af00050b8fd6b7e7b81c7027e4c8e6}{prepare\+Offsets}} (size\+\_\+t $\ast$sizes)
\begin{DoxyCompactList}\small\item\em Prepare 32-\/bit glyph offsets in a font table. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$ \mbox{\hyperlink{hex2otf_8c_aa47cc913bb5b8dd3b3665ee5a587d6f7}{prepare\+String\+Index}} (const \mbox{\hyperlink{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}{Name\+Strings}} names)
\begin{DoxyCompactList}\small\item\em Prepare a font name string index. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a3d62aa29f94c3fa78ca4438739d64a62}{fill\+CFF}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, int version, const \mbox{\hyperlink{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}{Name\+Strings}} names)
\begin{DoxyCompactList}\small\item\em Add a CFF table to a font. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a326e4fa86eb32bb18e37eab8f495bd2f}{fill\+True\+Type}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, enum \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}{Loca\+Format}} $\ast$format, uint\+\_\+fast16\+\_\+t $\ast$max\+Points, uint\+\_\+fast16\+\_\+t $\ast$max\+Contours)
\begin{DoxyCompactList}\small\item\em Add a True\+Type table to a font. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_ab37b4f7111692f8d1163bafd2aab831e}{fill\+Blank\+Outline}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Create a dummy blank outline in a font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_afd499a24ff34cb5c19b52df795422c12}{fill\+Bitmap}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Fill Open\+Type bitmap data and location tables. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a4ac0c02117b703a71bee3dd34e2eb306}{fill\+Head\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, enum \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}{Loca\+Format}} loca\+Format, \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\+\_\+t}} x\+Min)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}head\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a28e889c3a36007c2e5d50a498046a6c6}{fill\+Hhea\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\+\_\+t}} x\+Min)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}hhea\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_aff4f28ce178c84c7365245ec10034433}{fill\+Maxp\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, bool is\+CFF, uint\+\_\+fast16\+\_\+t max\+Points, uint\+\_\+fast16\+\_\+t max\+Contours)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}maxp\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_ab6e3bb110dc3e55193c344cb7b56e328}{fill\+OS2\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Fill an \char`\"{}\+OS/2\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a97c9b2ae58f5989d68e639715c3f9df9}{fill\+Hmtx\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Fill an \char`\"{}hmtx\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a6362601eb41d051a103a1d9edcd4f284}{fill\+Cmap\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}cmap\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a0ddc03905c4918e04aa1e54a7c1716b1}{fill\+Post\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}post\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a6c1e982fdc6c51b9f84051daa2e71936}{fill\+Gpos\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}\+GPOS\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a06b8121dea15c8117b7c951ffb22fb7e}{fill\+Gsub\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}\+GSUB\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a199befd98ef9ec0ee659d82609abded4}{cache\+String\+As\+UTF16\+BE}} (\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$buf, const char $\ast$str)
\begin{DoxyCompactList}\small\item\em Cache a string as a big-\/ending UTF-\/16 surrogate pair. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a79d8a322be9d9131b684a9ea67abe05e}{fill\+Name\+Table}} (\mbox{\hyperlink{structFont}{Font}} $\ast$font, \mbox{\hyperlink{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}{Name\+Strings}} name\+Strings)
\begin{DoxyCompactList}\small\item\em Fill a \char`\"{}name\char`\"{} font table. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a9c4b081f1e1ad60def15811c71a936f2}{print\+Version}} ()
\begin{DoxyCompactList}\small\item\em Print program version string on stdout. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{hex2otf_8c_a0d20b69b0ad703df78459e1033d5c1d4}{print\+Help}} ()
\begin{DoxyCompactList}\small\item\em Print help message to stdout and then exit. \end{DoxyCompactList}\item 
const char $\ast$ \mbox{\hyperlink{hex2otf_8c_a4741278aec97f2731e9296930eef938e}{match\+Token}} (const char $\ast$operand, const char $\ast$key, char delimiter)
\begin{DoxyCompactList}\small\item\em Match a command line option with its key for enabling. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structOptions}{Options}} \mbox{\hyperlink{hex2otf_8c_ac2eec01939cae967aa9882b2517288a1}{parse\+Options}} (char $\ast$const argv\mbox{[}const\mbox{]})
\begin{DoxyCompactList}\small\item\em Parse command line options. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{hex2otf_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em The main function. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}\label{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}} 
\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$ \mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{all\+Buffers}}
\begin{DoxyCompactList}\small\item\em Initial allocation of empty array of buffer pointers. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}\label{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}} 
size\+\_\+t \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{buffer\+Count}}
\begin{DoxyCompactList}\small\item\em Number of buffers in a \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$ array. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}\label{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}} 
size\+\_\+t \mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{next\+Buffer\+Index}}
\begin{DoxyCompactList}\small\item\em Index number to tail element of \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$ array. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
hex2otf -\/ Convert GNU Unifont .hex file to Open\+Type font 

This program reads a Unifont .hex format file and a file containing combining mark offset information, and produces an Open\+Type font file.

\begin{DoxyCopyright}{Copyright}
Copyright © 2022 何志翔 (He Zhixiang)
\end{DoxyCopyright}
\begin{DoxyAuthor}{Author}
何志翔 (He Zhixiang) 
\end{DoxyAuthor}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{hex2otf_8c_a23781d23f31cfbcaf33e86e10d7cce50}\label{hex2otf_8c_a23781d23f31cfbcaf33e86e10d7cce50}} 
\index{hex2otf.c@{hex2otf.c}!addByte@{addByte}}
\index{addByte@{addByte}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{addByte}{addByte}}
{\footnotesize\ttfamily \#define add\+Byte(\begin{DoxyParamCaption}\item[{}]{shift }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{            \textcolor{keywordflow}{if} (p == end) \(\backslash\)}
\DoxyCodeLine{                break; \(\backslash\)}
\DoxyCodeLine{            record-\/>checksum += (uint\_fast32\_t)*p++ << (shift);}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_a0e5f5e7d04aec261ae28e2fca801194c}\label{hex2otf_8c_a0e5f5e7d04aec261ae28e2fca801194c}} 
\index{hex2otf.c@{hex2otf.c}!defineStore@{defineStore}}
\index{defineStore@{defineStore}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{defineStore}{defineStore}}
{\footnotesize\ttfamily \#define define\+Store(\begin{DoxyParamCaption}\item[{}]{name,  }\item[{}]{type }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{void} name (\mbox{\hyperlink{structBuffer}{Buffer}} *buf, type value) \(\backslash\)}
\DoxyCodeLine{\{ \(\backslash\)}
\DoxyCodeLine{    type *slot = getBufferSlot (buf, \textcolor{keyword}{sizeof} value); \(\backslash\)}
\DoxyCodeLine{    *slot = value; \(\backslash\)}
\DoxyCodeLine{\}}

\end{DoxyCode}


Temporary define to look up an element in an array of given type. 

This defintion is used to create lookup functions to return a given element in unsigned arrays of size 8, 16, and 32 bytes, and in an array of pixels. 

Definition at line 350 of file hex2otf.\+c.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{hex2otf_8c_a7feadaf37f40473cfc76921f8754c0f7}\label{hex2otf_8c_a7feadaf37f40473cfc76921f8754c0f7}} 
\index{hex2otf.c@{hex2otf.c}!Buffer@{Buffer}}
\index{Buffer@{Buffer}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{Buffer}{Buffer}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structBuffer}{Buffer}} \mbox{\hyperlink{structBuffer}{Buffer}}}



Generic data structure for a linked list of buffer elements. 

A buffer can act as a vector (when filled with \textquotesingle{}store$\ast$\textquotesingle{} functions), or a temporary output area (when filled with \textquotesingle{}cache$\ast$\textquotesingle{} functions). The \textquotesingle{}store$\ast$\textquotesingle{} functions use native endian. The \textquotesingle{}cache$\ast$\textquotesingle{} functions use big endian or other formats in Open\+Type. Beware of memory alignment. \mbox{\Hypertarget{hex2otf_8c_a8ac383e879c9d7d9af6005444970c837}\label{hex2otf_8c_a8ac383e879c9d7d9af6005444970c837}} 
\index{hex2otf.c@{hex2otf.c}!Glyph@{Glyph}}
\index{Glyph@{Glyph}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{Glyph}{Glyph}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structGlyph}{Glyph}} \mbox{\hyperlink{structGlyph}{Glyph}}}



Data structure to hold data for one bitmap glyph. 

This data structure holds data to represent one Unifont bitmap glyph\+: Unicode code point, number of bytes in its bitmap array, whether or not it is a combining character, and an offset from the glyph origin to the start of the bitmap. \mbox{\Hypertarget{hex2otf_8c_a97fbabab590ac85657edb01474da7d50}\label{hex2otf_8c_a97fbabab590ac85657edb01474da7d50}} 
\index{hex2otf.c@{hex2otf.c}!Options@{Options}}
\index{Options@{Options}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{Options}{Options}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structOptions}{Options}} \mbox{\hyperlink{structOptions}{Options}}}



Data structure to hold options for Open\+Type font output. 

This data structure holds the status of options that can be specified as command line arguments for creating the output Open\+Type font file. \mbox{\Hypertarget{hex2otf_8c_aaa5713bb2ecdf81c430009179b806232}\label{hex2otf_8c_aaa5713bb2ecdf81c430009179b806232}} 
\index{hex2otf.c@{hex2otf.c}!Table@{Table}}
\index{Table@{Table}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{Table}{Table}}
{\footnotesize\ttfamily typedef struct \mbox{\hyperlink{structTable}{Table}} \mbox{\hyperlink{structTable}{Table}}}



Data structure for an Open\+Type table. 

This data structure contains a table tag and a pointer to the start of the buffer that holds data for this Open\+Type table.

For information on the Open\+Type tables and their structure, see \href{https://docs.microsoft.com/en-us/typography/opentype/spec/otff\#font-tables}{\texttt{ https\+://docs.\+microsoft.\+com/en-\/us/typography/opentype/spec/otff\#font-\/tables}}. 

\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38}\label{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38}} 
\index{hex2otf.c@{hex2otf.c}!ContourOp@{ContourOp}}
\index{ContourOp@{ContourOp}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{ContourOp}{ContourOp}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38}{Contour\+Op}}}



Specify the current contour drawing operation. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{OP\_CLOSE@{OP\_CLOSE}!hex2otf.c@{hex2otf.c}}\index{hex2otf.c@{hex2otf.c}!OP\_CLOSE@{OP\_CLOSE}}}\mbox{\Hypertarget{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}\label{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}} 
OP\+\_\+\+CLOSE&Close the current contour path that was being drawn. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{OP\_POINT@{OP\_POINT}!hex2otf.c@{hex2otf.c}}\index{hex2otf.c@{hex2otf.c}!OP\_POINT@{OP\_POINT}}}\mbox{\Hypertarget{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a01f5371958d06ab1411c46f72f049f45}\label{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a01f5371958d06ab1411c46f72f049f45}} 
OP\+\_\+\+POINT&Add one more (x,y) point to the contor being drawn. \\
\hline

\end{DoxyEnumFields}


Definition at line 1136 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1136                \{}
\DoxyCodeLine{1137     \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}{OP\_CLOSE}},    \textcolor{comment}{///< Close the current contour path that was being drawn.}}
\DoxyCodeLine{1138     \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a01f5371958d06ab1411c46f72f049f45}{OP\_POINT}}     \textcolor{comment}{///< Add one more (x,y) point to the contor being drawn.}}
\DoxyCodeLine{1139 \};}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8c}\label{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8c}} 
\index{hex2otf.c@{hex2otf.c}!FillSide@{FillSide}}
\index{FillSide@{FillSide}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{FillSide}{FillSide}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8c}{Fill\+Side}}}



Fill to the left side (CFF) or right side (True\+Type) of a contour. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{FILL\_LEFT@{FILL\_LEFT}!hex2otf.c@{hex2otf.c}}\index{hex2otf.c@{hex2otf.c}!FILL\_LEFT@{FILL\_LEFT}}}\mbox{\Hypertarget{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8caf18243d8ef6a7f601ae03a6cffbabadd}\label{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8caf18243d8ef6a7f601ae03a6cffbabadd}} 
FILL\+\_\+\+LEFT&Draw outline counter-\/clockwise (CFF, Post\+Script). \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{FILL\_RIGHT@{FILL\_RIGHT}!hex2otf.c@{hex2otf.c}}\index{hex2otf.c@{hex2otf.c}!FILL\_RIGHT@{FILL\_RIGHT}}}\mbox{\Hypertarget{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8ca0bbdc63e5d0938274b80230bc55d03b8}\label{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8ca0bbdc63e5d0938274b80230bc55d03b8}} 
FILL\+\_\+\+RIGHT&Draw outline clockwise (True\+Type). \\
\hline

\end{DoxyEnumFields}


Definition at line 1144 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1144               \{}
\DoxyCodeLine{1145     \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8caf18243d8ef6a7f601ae03a6cffbabadd}{FILL\_LEFT}},    \textcolor{comment}{///< Draw outline counter-\/clockwise (CFF, PostScript).}}
\DoxyCodeLine{1146     \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8ca0bbdc63e5d0938274b80230bc55d03b8}{FILL\_RIGHT}}    \textcolor{comment}{///< Draw outline clockwise (TrueType).}}
\DoxyCodeLine{1147 \};}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}\label{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}} 
\index{hex2otf.c@{hex2otf.c}!LocaFormat@{LocaFormat}}
\index{LocaFormat@{LocaFormat}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{LocaFormat}{LocaFormat}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}{Loca\+Format}}}



Index to Location (\char`\"{}loca\char`\"{}) offset information. 

This enumerated type encodes the type of offset to locations in a table. It denotes Offset16 (16-\/bit) and Offset32 (32-\/bit) offset types. \begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{LOCA\_OFFSET16@{LOCA\_OFFSET16}!hex2otf.c@{hex2otf.c}}\index{hex2otf.c@{hex2otf.c}!LOCA\_OFFSET16@{LOCA\_OFFSET16}}}\mbox{\Hypertarget{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaa9c5871c30feb10df049d99bd703dfda4}\label{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaa9c5871c30feb10df049d99bd703dfda4}} 
LOCA\+\_\+\+OFFSET16&Offset to location is a 16-\/bit Offset16 value. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOCA\_OFFSET32@{LOCA\_OFFSET32}!hex2otf.c@{hex2otf.c}}\index{hex2otf.c@{hex2otf.c}!LOCA\_OFFSET32@{LOCA\_OFFSET32}}}\mbox{\Hypertarget{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaad5e47b5a6bbf31be31e9b1328e7beef8}\label{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaad5e47b5a6bbf31be31e9b1328e7beef8}} 
LOCA\+\_\+\+OFFSET32&Offset to location is a 32-\/bit Offset32 value. \\
\hline

\end{DoxyEnumFields}


Definition at line 658 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{658                 \{}
\DoxyCodeLine{659     \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaa9c5871c30feb10df049d99bd703dfda4}{LOCA\_OFFSET16}} = 0,    \textcolor{comment}{///< Offset to location is a 16-\/bit Offset16 value}}
\DoxyCodeLine{660     \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaad5e47b5a6bbf31be31e9b1328e7beef8}{LOCA\_OFFSET32}} = 1     \textcolor{comment}{///< Offset to location is a 32-\/bit Offset32 value}}
\DoxyCodeLine{661 \};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}\label{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}} 
\index{hex2otf.c@{hex2otf.c}!addTable@{addTable}}
\index{addTable@{addTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{addTable()}{addTable()}}
{\footnotesize\ttfamily void add\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{const char}]{tag\mbox{[}static 4\mbox{]},  }\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{content }\end{DoxyParamCaption})}



Add a True\+Type or Open\+Type table to the font. 

This function adds a True\+Type or Open\+Type table to a font. The 4-\/byte table tag is passed as an unsigned 32-\/bit integer in big-\/endian format.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The font to which a font table will be added. \\
\hline
\mbox{\texttt{ in}}  & {\em tag} & The 4-\/byte table name. \\
\hline
\mbox{\texttt{ in}}  & {\em content} & The table bytes to add, of type \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$. \\
\hline
\end{DoxyParams}


Definition at line 694 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{695 \{}
\DoxyCodeLine{696     \mbox{\hyperlink{structTable}{Table}} *table = getBufferSlot (font-\/>tables, sizeof (\mbox{\hyperlink{structTable}{Table}}));}
\DoxyCodeLine{697     table-\/>tag = tagAsU32 (tag);}
\DoxyCodeLine{698     table-\/>content = content;}
\DoxyCodeLine{699 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a5af7c9bcfd40e5b11f9d12c40966bb65}\label{hex2otf_8c_a5af7c9bcfd40e5b11f9d12c40966bb65}} 
\index{hex2otf.c@{hex2otf.c}!buildOutline@{buildOutline}}
\index{buildOutline@{buildOutline}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{buildOutline()}{buildOutline()}}
{\footnotesize\ttfamily void build\+Outline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{result,  }\item[{const \mbox{\hyperlink{hex2otf_8c_a0c8186d9b9b7880309c27230bbb5e69d}{byte}}}]{bitmap\mbox{[}$\,$\mbox{]},  }\item[{const size\+\_\+t}]{byte\+Count,  }\item[{const enum \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8c}{Fill\+Side}}}]{fill\+Side }\end{DoxyParamCaption})}



Build a glyph outline. 

This function builds a glyph outline from a Unifont glyph bitmap.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em result} & The resulting glyph outline. \\
\hline
\mbox{\texttt{ in}}  & {\em bitmap} & A bitmap array. \\
\hline
\mbox{\texttt{ in}}  & {\em byte\+Count} & the number of bytes in the input bitmap array. \\
\hline
\mbox{\texttt{ in}}  & {\em fill\+Side} & Enumerated indicator to fill left or right side. \\
\hline
\end{DoxyParams}
Get the value of a given bit that is in a given row.

Invert the value of a given bit that is in a given row.

Definition at line 1160 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1162 \{}
\DoxyCodeLine{1163     \textcolor{keyword}{enum} Direction \{RIGHT, LEFT, DOWN, UP\}; \textcolor{comment}{// order is significant}}
\DoxyCodeLine{1164 }
\DoxyCodeLine{1165     \textcolor{comment}{// respective coordinate deltas}}
\DoxyCodeLine{1166     \textcolor{keyword}{const} \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} dx[] = \{1, -\/1, 0, 0\}, dy[] = \{0, 0, -\/1, 1\};}
\DoxyCodeLine{1167 }
\DoxyCodeLine{1168     assert (byteCount \% \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}} == 0);}
\DoxyCodeLine{1169     \textcolor{keyword}{const} uint\_fast8\_t bytesPerRow = byteCount / \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}};}
\DoxyCodeLine{1170     \textcolor{keyword}{const} \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} glyphWidth = bytesPerRow * 8;}
\DoxyCodeLine{1171     assert (glyphWidth <= \mbox{\hyperlink{hex2otf_8c_a688a4772d61221e9378e5003da51265a}{GLYPH\_MAX\_WIDTH}});}
\DoxyCodeLine{1172 }
\DoxyCodeLine{1173 \textcolor{preprocessor}{    \#if GLYPH\_MAX\_WIDTH < 32}}
\DoxyCodeLine{1174         \textcolor{keyword}{typedef} uint\_fast32\_t row\_t;}
\DoxyCodeLine{1175 \textcolor{preprocessor}{    \#elif GLYPH\_MAX\_WIDTH < 64}}
\DoxyCodeLine{1176         \textcolor{keyword}{typedef} uint\_fast64\_t row\_t;}
\DoxyCodeLine{1177 \textcolor{preprocessor}{    \#else}}
\DoxyCodeLine{1178 \textcolor{preprocessor}{        \#error GLYPH\_MAX\_WIDTH is too large.}}
\DoxyCodeLine{1179 \textcolor{preprocessor}{    \#endif}}
\DoxyCodeLine{1180 }
\DoxyCodeLine{1181     row\_t pixels[\mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}} + 2] = \{0\};}
\DoxyCodeLine{1182     \textcolor{keywordflow}{for} (\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} row = \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}}; row > 0; row-\/-\/)}
\DoxyCodeLine{1183         \textcolor{keywordflow}{for} (\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} b = 0; b < bytesPerRow; b++)}
\DoxyCodeLine{1184             pixels[row] = pixels[row] << 8 | *bitmap++;}
\DoxyCodeLine{1185     \textcolor{keyword}{typedef} row\_t graph\_t[\mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}} + 1];}
\DoxyCodeLine{1186     graph\_t vectors[4];}
\DoxyCodeLine{1187     \textcolor{keyword}{const} row\_t *lower = pixels, *upper = pixels + 1;}
\DoxyCodeLine{1188     \textcolor{keywordflow}{for} (\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} row = 0; row <= \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}}; row++)}
\DoxyCodeLine{1189     \{}
\DoxyCodeLine{1190         \textcolor{keyword}{const} row\_t m = (fillSide == \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8ca0bbdc63e5d0938274b80230bc55d03b8}{FILL\_RIGHT}}) -\/ 1;}
\DoxyCodeLine{1191         vectors[RIGHT][row] = (m \string^ (*lower << 1)) \& (\string~m \string^ (*upper << 1));}
\DoxyCodeLine{1192         vectors[LEFT ][row] = (m \string^ (*upper     )) \& (\string~m \string^ (*lower     ));}
\DoxyCodeLine{1193         vectors[DOWN ][row] = (m \string^ (*lower     )) \& (\string~m \string^ (*lower << 1));}
\DoxyCodeLine{1194         vectors[UP   ][row] = (m \string^ (*upper << 1)) \& (\string~m \string^ (*upper     ));}
\DoxyCodeLine{1195         lower++;}
\DoxyCodeLine{1196         upper++;}
\DoxyCodeLine{1197     \}}
\DoxyCodeLine{1198     graph\_t selection = \{0\};}
\DoxyCodeLine{1199     \textcolor{keyword}{const} row\_t x0 = (row\_t)1 << glyphWidth;}
\DoxyCodeLine{1200 \textcolor{comment}{}}
\DoxyCodeLine{1201 \textcolor{comment}{    /// Get the value of a given bit that is in a given row.}}
\DoxyCodeLine{1202 \textcolor{comment}{}\textcolor{preprocessor}{    \#define getRowBit(rows, x, y)  ((rows)[(y)] \&  x0 >> (x))}}
\DoxyCodeLine{1203 \textcolor{comment}{}}
\DoxyCodeLine{1204 \textcolor{comment}{    /// Invert the value of a given bit that is in a given row.}}
\DoxyCodeLine{1205 \textcolor{comment}{}\textcolor{preprocessor}{    \#define flipRowBit(rows, x, y) ((rows)[(y)] \string^= x0 >> (x))}}
\DoxyCodeLine{1206 }
\DoxyCodeLine{1207     \textcolor{keywordflow}{for} (\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} y = \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}}; y >= 0; y-\/-\/)}
\DoxyCodeLine{1208     \{}
\DoxyCodeLine{1209         \textcolor{keywordflow}{for} (\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} x = 0; x <= glyphWidth; x++)}
\DoxyCodeLine{1210         \{}
\DoxyCodeLine{1211             assert (!getRowBit (vectors[LEFT], x, y));}
\DoxyCodeLine{1212             assert (!getRowBit (vectors[UP], x, y));}
\DoxyCodeLine{1213             \textcolor{keyword}{enum} Direction initial;}
\DoxyCodeLine{1214 }
\DoxyCodeLine{1215             \textcolor{keywordflow}{if} (getRowBit (vectors[RIGHT], x, y))}
\DoxyCodeLine{1216                 initial = RIGHT;}
\DoxyCodeLine{1217             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (getRowBit (vectors[DOWN], x, y))}
\DoxyCodeLine{1218                 initial = DOWN;}
\DoxyCodeLine{1219             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1220                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1221 }
\DoxyCodeLine{1222             \mbox{\hyperlink{hex2otf_8c_abce67139ad0bc979ef080a694e60fb36}{static\_assert}} ((\mbox{\hyperlink{hex2otf_8c_a688a4772d61221e9378e5003da51265a}{GLYPH\_MAX\_WIDTH}} + 1) * (\mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}} + 1) * 2 <=}
\DoxyCodeLine{1223                 \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}}, \textcolor{stringliteral}{"{}potential overflow"{}});}
\DoxyCodeLine{1224 }
\DoxyCodeLine{1225             uint\_fast16\_t lastPointCount = 0;}
\DoxyCodeLine{1226             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{bool} converged = \textcolor{keyword}{false};;)}
\DoxyCodeLine{1227             \{}
\DoxyCodeLine{1228                 uint\_fast16\_t pointCount = 0;}
\DoxyCodeLine{1229                 \textcolor{keyword}{enum} Direction heading = initial;}
\DoxyCodeLine{1230                 \textcolor{keywordflow}{for} (\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} tx = x, ty = y;;)}
\DoxyCodeLine{1231                 \{}
\DoxyCodeLine{1232                     \textcolor{keywordflow}{if} (converged)}
\DoxyCodeLine{1233                     \{}
\DoxyCodeLine{1234                         storePixels (result, \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a01f5371958d06ab1411c46f72f049f45}{OP\_POINT}});}
\DoxyCodeLine{1235                         storePixels (result, tx);}
\DoxyCodeLine{1236                         storePixels (result, ty);}
\DoxyCodeLine{1237                     \}}
\DoxyCodeLine{1238                     \textcolor{keywordflow}{do}}
\DoxyCodeLine{1239                     \{}
\DoxyCodeLine{1240                         \textcolor{keywordflow}{if} (converged)}
\DoxyCodeLine{1241                             flipRowBit (vectors[heading], tx, ty);}
\DoxyCodeLine{1242                         tx += dx[heading];}
\DoxyCodeLine{1243                         ty += dy[heading];}
\DoxyCodeLine{1244                     \} \textcolor{keywordflow}{while} (getRowBit (vectors[heading], tx, ty));}
\DoxyCodeLine{1245                     \textcolor{keywordflow}{if} (tx == x \&\& ty == y)}
\DoxyCodeLine{1246                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{1247                     \mbox{\hyperlink{hex2otf_8c_abce67139ad0bc979ef080a694e60fb36}{static\_assert}} ((UP \string^ DOWN) == 1 \&\& (LEFT \string^ RIGHT) == 1,}
\DoxyCodeLine{1248                         \textcolor{stringliteral}{"{}wrong enums"{}});}
\DoxyCodeLine{1249                     heading = (heading \& 2) \string^ 2;}
\DoxyCodeLine{1250                     heading |= !!getRowBit (selection, tx, ty);}
\DoxyCodeLine{1251                     heading \string^= !getRowBit (vectors[heading], tx, ty);}
\DoxyCodeLine{1252                     assert (getRowBit (vectors[heading], tx, ty));}
\DoxyCodeLine{1253                     flipRowBit (selection, tx, ty);}
\DoxyCodeLine{1254                     pointCount++;}
\DoxyCodeLine{1255                 \}}
\DoxyCodeLine{1256                 \textcolor{keywordflow}{if} (converged)}
\DoxyCodeLine{1257                     \textcolor{keywordflow}{break};}
\DoxyCodeLine{1258                 converged = pointCount == lastPointCount;}
\DoxyCodeLine{1259                 lastPointCount = pointCount;}
\DoxyCodeLine{1260             \}}
\DoxyCodeLine{1261 }
\DoxyCodeLine{1262             storePixels (result, \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}{OP\_CLOSE}});}
\DoxyCodeLine{1263         \}}
\DoxyCodeLine{1264     \}}
\DoxyCodeLine{1265 \textcolor{preprocessor}{    \#undef getRowBit}}
\DoxyCodeLine{1266 \textcolor{preprocessor}{    \#undef flipRowBit}}
\DoxyCodeLine{1267 \}}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_a0d187cc87528ef35478afd7a68309f08}\label{hex2otf_8c_a0d187cc87528ef35478afd7a68309f08}} 
\index{hex2otf.c@{hex2otf.c}!byCodePoint@{byCodePoint}}
\index{byCodePoint@{byCodePoint}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{byCodePoint()}{byCodePoint()}}
{\footnotesize\ttfamily int by\+Code\+Point (\begin{DoxyParamCaption}\item[{const void $\ast$}]{a,  }\item[{const void $\ast$}]{b }\end{DoxyParamCaption})}



Compare two Unicode code points to determine which is greater. 

This function compares the Unicode code points contained within two \mbox{\hyperlink{structGlyph}{Glyph}} data structures. The function returns 1 if the first code point is greater, and -\/1 if the second is greater.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em a} & A \mbox{\hyperlink{structGlyph}{Glyph}} data structure containing the first code point. \\
\hline
\mbox{\texttt{ in}}  & {\em b} & A \mbox{\hyperlink{structGlyph}{Glyph}} data structure containing the second code point. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the code point a is greater, -\/1 if less, 0 if equal. 
\end{DoxyReturn}


Definition at line 1040 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1041 \{}
\DoxyCodeLine{1042     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} ga = a, *\textcolor{keyword}{const} gb = b;}
\DoxyCodeLine{1043     \textcolor{keywordtype}{int} gt = ga-\/>\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} > gb-\/>codePoint;}
\DoxyCodeLine{1044     \textcolor{keywordtype}{int} lt = ga-\/>\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} < gb-\/>codePoint;}
\DoxyCodeLine{1045     \textcolor{keywordflow}{return} gt -\/ lt;}
\DoxyCodeLine{1046 \}}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_af1223f39e8627e0a3b0b7b533e6d0b64}\label{hex2otf_8c_af1223f39e8627e0a3b0b7b533e6d0b64}} 
\index{hex2otf.c@{hex2otf.c}!byTableTag@{byTableTag}}
\index{byTableTag@{byTableTag}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{byTableTag()}{byTableTag()}}
{\footnotesize\ttfamily int by\+Table\+Tag (\begin{DoxyParamCaption}\item[{const void $\ast$}]{a,  }\item[{const void $\ast$}]{b }\end{DoxyParamCaption})}



Compare tables by 4-\/byte unsigned table tag value. 

This function takes two pointers to a \mbox{\hyperlink{structTableRecord}{Table\+Record}} data structure and extracts the four-\/byte tag structure element for each. The two 32-\/bit numbers are then compared. If the first tag is greater than the first, then gt = 1 and lt = 0, and so 1 -\/ 0 = 1 is returned. If the first is less than the second, then gt = 0 and lt = 1, and so 0 -\/ 1 = -\/1 is returned.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em a} & Pointer to the first \mbox{\hyperlink{structTableRecord}{Table\+Record}} structure. \\
\hline
\mbox{\texttt{ in}}  & {\em b} & Pointer to the second \mbox{\hyperlink{structTableRecord}{Table\+Record}} structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the tag in \char`\"{}a\char`\"{} is greater, -\/1 if less, 0 if equal. 
\end{DoxyReturn}


Definition at line 767 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{768 \{}
\DoxyCodeLine{769     \textcolor{keyword}{const} \textcolor{keyword}{struct }\mbox{\hyperlink{structTableRecord}{TableRecord}} *\textcolor{keyword}{const} ra = a, *\textcolor{keyword}{const} rb = b;}
\DoxyCodeLine{770     \textcolor{keywordtype}{int} gt = ra-\/>tag > rb-\/>tag;}
\DoxyCodeLine{771     \textcolor{keywordtype}{int} lt = ra-\/>tag < rb-\/>tag;}
\DoxyCodeLine{772     \textcolor{keywordflow}{return} gt -\/ lt;}
\DoxyCodeLine{773 \}}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_a560637130747e543118ff304389fd18f}\label{hex2otf_8c_a560637130747e543118ff304389fd18f}} 
\index{hex2otf.c@{hex2otf.c}!cacheBuffer@{cacheBuffer}}
\index{cacheBuffer@{cacheBuffer}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheBuffer()}{cacheBuffer()}}
{\footnotesize\ttfamily void cache\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$restrict}]{buf\+Dest,  }\item[{const \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$restrict}]{buf\+Src }\end{DoxyParamCaption})}



Append bytes of a table to a byte buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf\+Dest} & The buffer to which the new bytes are appended. \\
\hline
\mbox{\texttt{ in}}  & {\em buf\+Src} & The bytes to append to the buffer array. \\
\hline
\end{DoxyParams}


Definition at line 523 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{524 \{}
\DoxyCodeLine{525     \textcolor{keywordtype}{size\_t} length = countBufferedBytes (bufSrc);}
\DoxyCodeLine{526     \mbox{\hyperlink{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4}{ensureBuffer}} (bufDest, length);}
\DoxyCodeLine{527     memcpy (bufDest-\/>next, bufSrc-\/>begin, length);}
\DoxyCodeLine{528     bufDest-\/>next += length;}
\DoxyCodeLine{529 \}}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}\label{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}} 
\index{hex2otf.c@{hex2otf.c}!cacheBytes@{cacheBytes}}
\index{cacheBytes@{cacheBytes}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheBytes()}{cacheBytes()}}
{\footnotesize\ttfamily void cache\+Bytes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$restrict}]{buf,  }\item[{const void $\ast$restrict}]{src,  }\item[{size\+\_\+t}]{count }\end{DoxyParamCaption})}



Append a string of bytes to a buffer. 

This function appends an array of 1 to 4 bytes to the end of a buffer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & The buffer to which the bytes are appended. \\
\hline
\mbox{\texttt{ in}}  & {\em src} & The array of bytes to append to the buffer. \\
\hline
\mbox{\texttt{ in}}  & {\em count} & The number of bytes containing zeroes to append. \\
\hline
\end{DoxyParams}


Definition at line 509 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{510 \{}
\DoxyCodeLine{511     \mbox{\hyperlink{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4}{ensureBuffer}} (buf, count);}
\DoxyCodeLine{512     memcpy (buf-\/>next, src, count);}
\DoxyCodeLine{513     buf-\/>next += count;}
\DoxyCodeLine{514 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}\label{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}} 
\index{hex2otf.c@{hex2otf.c}!cacheCFFOperand@{cacheCFFOperand}}
\index{cacheCFFOperand@{cacheCFFOperand}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheCFFOperand()}{cacheCFFOperand()}}
{\footnotesize\ttfamily void cache\+CFFOperand (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf,  }\item[{int\+\_\+fast32\+\_\+t}]{value }\end{DoxyParamCaption})}



Cache charstring number encoding in a CFF buffer. 

This function caches two\textquotesingle{}s complement 8-\/, 16-\/, and 32-\/bit words as per Adobe\textquotesingle{}s Type 2 Charstring encoding for operands. These operands are used in Compact \mbox{\hyperlink{structFont}{Font}} Format data structures.

Byte values can have offsets, for which this function compensates, optionally followed by additional bytes\+: \begin{DoxyVerb}Byte Range   Offset   Bytes   Adjusted Range
----------   ------   -----   --------------
  0 to 11        0      1     0 to 11 (operators)
    12           0      2     Next byte is 8-bit op code
 13 to 18        0      1     13 to 18 (operators)
 19 to 20        0      2+    hintmask and cntrmask operators
 21 to 27        0      1     21 to 27 (operators)
    28           0      3     16-bit 2's complement number
 29 to 31        0      1     29 to 31 (operators)
 32 to 246    -139      1     -107 to +107
247 to 250    +108      2     +108 to +1131
251 to 254    -108      2     -108 to -1131
   255           0      5     16-bit integer and 16-bit fraction
\end{DoxyVerb}
 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & The buffer to which the operand value is appended. \\
\hline
\mbox{\texttt{ in}}  & {\em value} & The operand value. \\
\hline
\end{DoxyParams}


Definition at line 460 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{461 \{}
\DoxyCodeLine{462     \textcolor{keywordflow}{if} (-\/107 <= value \&\& value <= 107)}
\DoxyCodeLine{463         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (buf, value + 139);}
\DoxyCodeLine{464     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (108 <= value \&\& value <= 1131)}
\DoxyCodeLine{465     \{}
\DoxyCodeLine{466         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (buf, (value -\/ 108) / 256 + 247);}
\DoxyCodeLine{467         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (buf, (value -\/ 108) \% 256);}
\DoxyCodeLine{468     \}}
\DoxyCodeLine{469     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (-\/32768 <= value \&\& value <= 32767)}
\DoxyCodeLine{470     \{}
\DoxyCodeLine{471         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (buf, 28);}
\DoxyCodeLine{472         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (buf, value);}
\DoxyCodeLine{473     \}}
\DoxyCodeLine{474     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (-\/2147483647 <= value \&\& value <= 2147483647)}
\DoxyCodeLine{475     \{}
\DoxyCodeLine{476         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (buf, 29);}
\DoxyCodeLine{477         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (buf, value);}
\DoxyCodeLine{478     \}}
\DoxyCodeLine{479     \textcolor{keywordflow}{else}}
\DoxyCodeLine{480         assert (\textcolor{keyword}{false}); \textcolor{comment}{// other encodings are not used and omitted}}
\DoxyCodeLine{481     \mbox{\hyperlink{hex2otf_8c_abce67139ad0bc979ef080a694e60fb36}{static\_assert}} (\mbox{\hyperlink{hex2otf_8c_a688a4772d61221e9378e5003da51265a}{GLYPH\_MAX\_WIDTH}} <= 107, \textcolor{stringliteral}{"{}More encodings are needed."{}});}
\DoxyCodeLine{482 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a199befd98ef9ec0ee659d82609abded4}\label{hex2otf_8c_a199befd98ef9ec0ee659d82609abded4}} 
\index{hex2otf.c@{hex2otf.c}!cacheStringAsUTF16BE@{cacheStringAsUTF16BE}}
\index{cacheStringAsUTF16BE@{cacheStringAsUTF16BE}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheStringAsUTF16BE()}{cacheStringAsUTF16BE()}}
{\footnotesize\ttfamily void cache\+String\+As\+UTF16\+BE (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf,  }\item[{const char $\ast$}]{str }\end{DoxyParamCaption})}



Cache a string as a big-\/ending UTF-\/16 surrogate pair. 

This function encodes a UTF-\/8 string as a big-\/endian UTF-\/16 surrogate pair.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & Pointer to a \mbox{\hyperlink{structBuffer}{Buffer}} struct to update. \\
\hline
\mbox{\texttt{ in}}  & {\em str} & The character array to encode. \\
\hline
\end{DoxyParams}


Definition at line 2316 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2317 \{}
\DoxyCodeLine{2318     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *p = str; *p; p++)}
\DoxyCodeLine{2319     \{}
\DoxyCodeLine{2320         \textcolor{keywordtype}{byte} c = *p;}
\DoxyCodeLine{2321         \textcolor{keywordflow}{if} (c < 0x80)}
\DoxyCodeLine{2322         \{}
\DoxyCodeLine{2323             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (buf, c);}
\DoxyCodeLine{2324             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2325         \}}
\DoxyCodeLine{2326         \textcolor{keywordtype}{int} length = 1;}
\DoxyCodeLine{2327         \textcolor{keywordtype}{byte} mask = 0x40;}
\DoxyCodeLine{2328         \textcolor{keywordflow}{for} (; c \& mask; mask >>= 1)}
\DoxyCodeLine{2329             length++;}
\DoxyCodeLine{2330         \textcolor{keywordflow}{if} (length == 1 || length > 4)}
\DoxyCodeLine{2331             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Ill-\/formed UTF-\/8 sequence."{}});}
\DoxyCodeLine{2332         uint\_fast32\_t codePoint = c \& (mask -\/ 1);}
\DoxyCodeLine{2333         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 1; i < length; i++)}
\DoxyCodeLine{2334         \{}
\DoxyCodeLine{2335             c = *++p;}
\DoxyCodeLine{2336             \textcolor{keywordflow}{if} ((c \& 0xc0) != 0x80) \textcolor{comment}{// NUL checked here}}
\DoxyCodeLine{2337                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Ill-\/formed UTF-\/8 sequence."{}});}
\DoxyCodeLine{2338             codePoint = (codePoint << 6) | (c \& 0x3f);}
\DoxyCodeLine{2339         \}}
\DoxyCodeLine{2340         \textcolor{keyword}{const} \textcolor{keywordtype}{int} lowerBits = length==2 ? 7 : length==3 ? 11 : 16;}
\DoxyCodeLine{2341         \textcolor{keywordflow}{if} (codePoint >> lowerBits == 0)}
\DoxyCodeLine{2342             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Ill-\/formed UTF-\/8 sequence."{}}); \textcolor{comment}{// sequence should be shorter}}
\DoxyCodeLine{2343         \textcolor{keywordflow}{if} (codePoint >= 0xd800 \&\& codePoint <= 0xdfff)}
\DoxyCodeLine{2344             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Ill-\/formed UTF-\/8 sequence."{}});}
\DoxyCodeLine{2345         \textcolor{keywordflow}{if} (codePoint > 0x10ffff)}
\DoxyCodeLine{2346             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Ill-\/formed UTF-\/8 sequence."{}});}
\DoxyCodeLine{2347         \textcolor{keywordflow}{if} (codePoint > 0xffff)}
\DoxyCodeLine{2348         \{}
\DoxyCodeLine{2349             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (buf, 0xd800 | (codePoint -\/ 0x10000) >> 10);}
\DoxyCodeLine{2350             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (buf, 0xdc00 | (codePoint \& 0x3ff));}
\DoxyCodeLine{2351         \}}
\DoxyCodeLine{2352         \textcolor{keywordflow}{else}}
\DoxyCodeLine{2353             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (buf, codePoint);}
\DoxyCodeLine{2354     \}}
\DoxyCodeLine{2355 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{hex2otf_8c_a199befd98ef9ec0ee659d82609abded4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a07b29528c561e5852a228c98391225f7}\label{hex2otf_8c_a07b29528c561e5852a228c98391225f7}} 
\index{hex2otf.c@{hex2otf.c}!cacheU16@{cacheU16}}
\index{cacheU16@{cacheU16}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheU16()}{cacheU16()}}
{\footnotesize\ttfamily void cache\+U16 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf,  }\item[{uint\+\_\+fast16\+\_\+t}]{value }\end{DoxyParamCaption})}



Append two unsigned bytes to the end of a byte array. 

This function adds two bytes to the end of a byte array. The buffer is updated to account for the newly-\/added bytes.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & The array of bytes to which to append two new bytes. \\
\hline
\mbox{\texttt{ in}}  & {\em value} & The 16-\/bit unsigned value to append to the buf array. \\
\hline
\end{DoxyParams}


Definition at line 412 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{413 \{}
\DoxyCodeLine{414     cacheU (buf, value, 2);}
\DoxyCodeLine{415 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_a07b29528c561e5852a228c98391225f7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}\label{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}} 
\index{hex2otf.c@{hex2otf.c}!cacheU32@{cacheU32}}
\index{cacheU32@{cacheU32}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheU32()}{cacheU32()}}
{\footnotesize\ttfamily void cache\+U32 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf,  }\item[{uint\+\_\+fast32\+\_\+t}]{value }\end{DoxyParamCaption})}



Append four unsigned bytes to the end of a byte array. 

This function adds four bytes to the end of a byte array. The buffer is updated to account for the newly-\/added bytes.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & The array of bytes to which to append four new bytes. \\
\hline
\mbox{\texttt{ in}}  & {\em value} & The 32-\/bit unsigned value to append to the buf array. \\
\hline
\end{DoxyParams}


Definition at line 427 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{428 \{}
\DoxyCodeLine{429     cacheU (buf, value, 4);}
\DoxyCodeLine{430 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}\label{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}} 
\index{hex2otf.c@{hex2otf.c}!cacheU8@{cacheU8}}
\index{cacheU8@{cacheU8}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheU8()}{cacheU8()}}
{\footnotesize\ttfamily void cache\+U8 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf,  }\item[{uint\+\_\+fast8\+\_\+t}]{value }\end{DoxyParamCaption})}



Append one unsigned byte to the end of a byte array. 

This function adds one byte to the end of a byte array. The buffer is updated to account for the newly-\/added byte.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & The array of bytes to which to append a new byte. \\
\hline
\mbox{\texttt{ in}}  & {\em value} & The 8-\/bit unsigned value to append to the buf array. \\
\hline
\end{DoxyParams}


Definition at line 397 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{398 \{}
\DoxyCodeLine{399     storeU8 (buf, value \& 0xff);}
\DoxyCodeLine{400 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{hex2otf_8c_a84d7310553d31f4ec587dc001f472834_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397}\label{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397}} 
\index{hex2otf.c@{hex2otf.c}!cacheZeros@{cacheZeros}}
\index{cacheZeros@{cacheZeros}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cacheZeros()}{cacheZeros()}}
{\footnotesize\ttfamily void cache\+Zeros (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf,  }\item[{size\+\_\+t}]{count }\end{DoxyParamCaption})}



Append 1 to 4 bytes of zeroes to a buffer, for padding. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & The buffer to which the operand value is appended. \\
\hline
\mbox{\texttt{ in}}  & {\em count} & The number of bytes containing zeroes to append. \\
\hline
\end{DoxyParams}


Definition at line 491 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{492 \{}
\DoxyCodeLine{493     \mbox{\hyperlink{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4}{ensureBuffer}} (buf, count);}
\DoxyCodeLine{494     memset (buf-\/>next, 0, count);}
\DoxyCodeLine{495     buf-\/>next += count;}
\DoxyCodeLine{496 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=320pt]{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ac947cbe076da5fbab8f5e4c1c821b7a6}\label{hex2otf_8c_ac947cbe076da5fbab8f5e4c1c821b7a6}} 
\index{hex2otf.c@{hex2otf.c}!cleanBuffers@{cleanBuffers}}
\index{cleanBuffers@{cleanBuffers}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{cleanBuffers()}{cleanBuffers()}}
{\footnotesize\ttfamily void clean\+Buffers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Free all allocated buffer pointers. 

This function frees all buffer pointers previously allocated in the init\+Buffers function. 

Definition at line 170 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{171 \{}
\DoxyCodeLine{172     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}}; i++)}
\DoxyCodeLine{173         \textcolor{keywordflow}{if} (\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}}[i].capacity)}
\DoxyCodeLine{174             free (\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}}[i].begin);}
\DoxyCodeLine{175     free (\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}});}
\DoxyCodeLine{176     \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}} = 0;}
\DoxyCodeLine{177 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{hex2otf_8c_ac947cbe076da5fbab8f5e4c1c821b7a6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4}\label{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4}} 
\index{hex2otf.c@{hex2otf.c}!ensureBuffer@{ensureBuffer}}
\index{ensureBuffer@{ensureBuffer}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{ensureBuffer()}{ensureBuffer()}}
{\footnotesize\ttfamily void ensure\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf,  }\item[{size\+\_\+t}]{needed }\end{DoxyParamCaption})}



Ensure that the buffer has at least the specified minimum size. 

This function takes a buffer array of type \mbox{\hyperlink{structBuffer}{Buffer}} and the necessary minimum number of elements as inputs, and attempts to increase the size of the buffer if it must be larger.

If the buffer is too small and cannot be resized, the program will terminate with an error message and an exit status of EXIT\+\_\+\+FAILURE.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buf} & The buffer to check. \\
\hline
\mbox{\texttt{ in}}  & {\em needed} & The required minimum number of elements in the buffer. \\
\hline
\end{DoxyParams}


Definition at line 239 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{240 \{}
\DoxyCodeLine{241     \textcolor{keywordflow}{if} (buf-\/>end -\/ buf-\/>next >= needed)}
\DoxyCodeLine{242         \textcolor{keywordflow}{return};}
\DoxyCodeLine{243     ptrdiff\_t occupied = buf-\/>next -\/ buf-\/>begin;}
\DoxyCodeLine{244     \textcolor{keywordtype}{size\_t} required = occupied + needed;}
\DoxyCodeLine{245     \textcolor{keywordflow}{if} (required < needed) \textcolor{comment}{// overflow}}
\DoxyCodeLine{246         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Cannot allocate \%zu + \%zu bytes of memory."{}}, occupied, needed);}
\DoxyCodeLine{247     \textcolor{keywordflow}{if} (required > SIZE\_MAX / 2)}
\DoxyCodeLine{248         buf-\/>capacity = required;}
\DoxyCodeLine{249     \textcolor{keywordflow}{else} \textcolor{keywordflow}{while} (buf-\/>capacity < required)}
\DoxyCodeLine{250         buf-\/>capacity *= 2;}
\DoxyCodeLine{251     \textcolor{keywordtype}{void} *extended = realloc (buf-\/>begin, buf-\/>capacity);}
\DoxyCodeLine{252     \textcolor{keywordflow}{if} (!extended)}
\DoxyCodeLine{253         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to allocate \%zu bytes of memory."{}}, buf-\/>capacity);}
\DoxyCodeLine{254     buf-\/>begin = extended;}
\DoxyCodeLine{255     buf-\/>next = buf-\/>begin + occupied;}
\DoxyCodeLine{256     buf-\/>end = buf-\/>begin + buf-\/>capacity;}
\DoxyCodeLine{257 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=216pt]{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_ae32c0f82cbb6a4d8ece0559f1c7b74f4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}\label{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}} 
\index{hex2otf.c@{hex2otf.c}!fail@{fail}}
\index{fail@{fail}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fail()}{fail()}}
{\footnotesize\ttfamily void fail (\begin{DoxyParamCaption}\item[{const char $\ast$}]{reason,  }\item[{}]{... }\end{DoxyParamCaption})}



Print an error message on stderr, then exit. 

This function prints the provided error string and optional following arguments to stderr, and then exits with a status of EXIT\+\_\+\+FAILURE.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em reason} & The output string to describe the error. \\
\hline
\mbox{\texttt{ in}}  & {\em ...} & Optional following arguments to output. \\
\hline
\end{DoxyParams}


Definition at line 113 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{114 \{}
\DoxyCodeLine{115     fputs (\textcolor{stringliteral}{"{}ERROR: "{}}, stderr);}
\DoxyCodeLine{116     va\_list args;}
\DoxyCodeLine{117     va\_start (args, reason);}
\DoxyCodeLine{118     vfprintf (stderr, reason, args);}
\DoxyCodeLine{119     va\_end (args);}
\DoxyCodeLine{120     putc (\textcolor{charliteral}{'\(\backslash\)n'}, stderr);}
\DoxyCodeLine{121     exit (EXIT\_FAILURE);}
\DoxyCodeLine{122 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{hex2otf_8c_a2f5976201b1e630a94045f04a0348572_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_afd499a24ff34cb5c19b52df795422c12}\label{hex2otf_8c_afd499a24ff34cb5c19b52df795422c12}} 
\index{hex2otf.c@{hex2otf.c}!fillBitmap@{fillBitmap}}
\index{fillBitmap@{fillBitmap}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillBitmap()}{fillBitmap()}}
{\footnotesize\ttfamily void fill\+Bitmap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Fill Open\+Type bitmap data and location tables. 

This function fills an Embedded Bitmap Data (EBDT) \mbox{\hyperlink{structTable}{Table}} and an Embedded Bitmap Location (EBLC) \mbox{\hyperlink{structTable}{Table}} with glyph bitmap information. These tables enable embedding bitmaps in Open\+Type fonts. No Embedded Bitmap Scaling (EBSC) table is used for the bitmap glyphs, only EBDT and EBLC.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & Pointer to a \mbox{\hyperlink{structFont}{Font}} struct in which to add bitmaps. \\
\hline
\end{DoxyParams}


Definition at line 1728 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1729 \{}
\DoxyCodeLine{1730     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphs = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{1731     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphsEnd = getBufferTail (font-\/>glyphs);}
\DoxyCodeLine{1732     \textcolor{keywordtype}{size\_t} bitmapsSize = 0;}
\DoxyCodeLine{1733     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = glyphs; glyph < glyphsEnd; glyph++)}
\DoxyCodeLine{1734         bitmapsSize += glyph-\/>byteCount;}
\DoxyCodeLine{1735     \mbox{\hyperlink{structBuffer}{Buffer}} *ebdt = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (4 + bitmapsSize);}
\DoxyCodeLine{1736     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}EBDT"{}}, ebdt);}
\DoxyCodeLine{1737     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (ebdt, 2); \textcolor{comment}{// majorVersion}}
\DoxyCodeLine{1738     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (ebdt, 0); \textcolor{comment}{// minorVersion}}
\DoxyCodeLine{1739     uint\_fast8\_t byteCount = 0; \textcolor{comment}{// unequal to any glyph}}
\DoxyCodeLine{1740     \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} pos = 0;}
\DoxyCodeLine{1741     \textcolor{keywordtype}{bool} combining = \textcolor{keyword}{false};}
\DoxyCodeLine{1742     \mbox{\hyperlink{structBuffer}{Buffer}} *rangeHeads = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (32);}
\DoxyCodeLine{1743     \mbox{\hyperlink{structBuffer}{Buffer}} *offsets = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (64);}
\DoxyCodeLine{1744     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = glyphs; glyph < glyphsEnd; glyph++)}
\DoxyCodeLine{1745     \{}
\DoxyCodeLine{1746         \textcolor{keywordflow}{if} (glyph-\/>byteCount != byteCount || glyph-\/>pos != pos ||}
\DoxyCodeLine{1747             glyph-\/>combining != combining)}
\DoxyCodeLine{1748         \{}
\DoxyCodeLine{1749             storeU16 (rangeHeads, glyph -\/ glyphs);}
\DoxyCodeLine{1750             storeU32 (offsets, countBufferedBytes (ebdt));}
\DoxyCodeLine{1751             byteCount = glyph-\/>byteCount;}
\DoxyCodeLine{1752             pos = glyph-\/>pos;}
\DoxyCodeLine{1753             combining = glyph-\/>combining;}
\DoxyCodeLine{1754         \}}
\DoxyCodeLine{1755         \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (ebdt, glyph-\/>bitmap, byteCount);}
\DoxyCodeLine{1756     \}}
\DoxyCodeLine{1757     \textcolor{keyword}{const} uint\_least16\_t *ranges = getBufferHead (rangeHeads);}
\DoxyCodeLine{1758     \textcolor{keyword}{const} uint\_least16\_t *rangesEnd = getBufferTail (rangeHeads);}
\DoxyCodeLine{1759     uint\_fast32\_t rangeCount = rangesEnd -\/ ranges;}
\DoxyCodeLine{1760     storeU16 (rangeHeads, font-\/>glyphCount);}
\DoxyCodeLine{1761     \mbox{\hyperlink{structBuffer}{Buffer}} *eblc = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (4096);}
\DoxyCodeLine{1762     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}EBLC"{}}, eblc);}
\DoxyCodeLine{1763     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, 2); \textcolor{comment}{// majorVersion}}
\DoxyCodeLine{1764     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, 0); \textcolor{comment}{// minorVersion}}
\DoxyCodeLine{1765     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, 1); \textcolor{comment}{// numSizes}}
\DoxyCodeLine{1766     \{ \textcolor{comment}{// bitmapSizes[0]}}
\DoxyCodeLine{1767         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, 56); \textcolor{comment}{// indexSubTableArrayOffset}}
\DoxyCodeLine{1768         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, (8 + 20) * rangeCount); \textcolor{comment}{// indexTablesSize}}
\DoxyCodeLine{1769         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, rangeCount); \textcolor{comment}{// numberOfIndexSubTables}}
\DoxyCodeLine{1770         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, 0); \textcolor{comment}{// colorRef}}
\DoxyCodeLine{1771         \{ \textcolor{comment}{// hori}}
\DoxyCodeLine{1772             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, \mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}}); \textcolor{comment}{// ascender}}
\DoxyCodeLine{1773             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, -\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}}); \textcolor{comment}{// descender}}
\DoxyCodeLine{1774             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, font-\/>maxWidth); \textcolor{comment}{// widthMax}}
\DoxyCodeLine{1775             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 1); \textcolor{comment}{// caretSlopeNumerator}}
\DoxyCodeLine{1776             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// caretSlopeDenominator}}
\DoxyCodeLine{1777             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// caretOffset}}
\DoxyCodeLine{1778             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// minOriginSB}}
\DoxyCodeLine{1779             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// minAdvanceSB}}
\DoxyCodeLine{1780             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, \mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}}); \textcolor{comment}{// maxBeforeBL}}
\DoxyCodeLine{1781             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, -\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}}); \textcolor{comment}{// minAfterBL}}
\DoxyCodeLine{1782             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// pad1}}
\DoxyCodeLine{1783             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// pad2}}
\DoxyCodeLine{1784         \}}
\DoxyCodeLine{1785         \{ \textcolor{comment}{// vert}}
\DoxyCodeLine{1786             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, \mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}}); \textcolor{comment}{// ascender}}
\DoxyCodeLine{1787             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, -\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}}); \textcolor{comment}{// descender}}
\DoxyCodeLine{1788             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, font-\/>maxWidth); \textcolor{comment}{// widthMax}}
\DoxyCodeLine{1789             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 1); \textcolor{comment}{// caretSlopeNumerator}}
\DoxyCodeLine{1790             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// caretSlopeDenominator}}
\DoxyCodeLine{1791             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// caretOffset}}
\DoxyCodeLine{1792             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// minOriginSB}}
\DoxyCodeLine{1793             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// minAdvanceSB}}
\DoxyCodeLine{1794             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, \mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}}); \textcolor{comment}{// maxBeforeBL}}
\DoxyCodeLine{1795             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, -\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}}); \textcolor{comment}{// minAfterBL}}
\DoxyCodeLine{1796             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// pad1}}
\DoxyCodeLine{1797             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// pad2}}
\DoxyCodeLine{1798         \}}
\DoxyCodeLine{1799         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, 0); \textcolor{comment}{// startGlyphIndex}}
\DoxyCodeLine{1800         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, font-\/>glyphCount -\/ 1); \textcolor{comment}{// endGlyphIndex}}
\DoxyCodeLine{1801         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 16); \textcolor{comment}{// ppemX}}
\DoxyCodeLine{1802         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 16); \textcolor{comment}{// ppemY}}
\DoxyCodeLine{1803         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 1); \textcolor{comment}{// bitDepth}}
\DoxyCodeLine{1804         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 1); \textcolor{comment}{// flags = Horizontal}}
\DoxyCodeLine{1805     \}}
\DoxyCodeLine{1806     \{ \textcolor{comment}{// IndexSubTableArray}}
\DoxyCodeLine{1807         uint\_fast32\_t offset = rangeCount * 8;}
\DoxyCodeLine{1808         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} uint\_least16\_t *p = ranges; p < rangesEnd; p++)}
\DoxyCodeLine{1809         \{}
\DoxyCodeLine{1810             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, *p); \textcolor{comment}{// firstGlyphIndex}}
\DoxyCodeLine{1811             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, p[1] -\/ 1); \textcolor{comment}{// lastGlyphIndex}}
\DoxyCodeLine{1812             \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, offset); \textcolor{comment}{// additionalOffsetToIndexSubtable}}
\DoxyCodeLine{1813             offset += 20;}
\DoxyCodeLine{1814         \}}
\DoxyCodeLine{1815     \}}
\DoxyCodeLine{1816     \{ \textcolor{comment}{// IndexSubTables}}
\DoxyCodeLine{1817         \textcolor{keyword}{const} uint\_least32\_t *offset = getBufferHead (offsets);}
\DoxyCodeLine{1818         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} uint\_least16\_t *p = ranges; p < rangesEnd; p++)}
\DoxyCodeLine{1819         \{}
\DoxyCodeLine{1820             \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = \&glyphs[*p];}
\DoxyCodeLine{1821             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, 2); \textcolor{comment}{// indexFormat}}
\DoxyCodeLine{1822             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (eblc, 5); \textcolor{comment}{// imageFormat}}
\DoxyCodeLine{1823             \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, *offset++); \textcolor{comment}{// imageDataOffset}}
\DoxyCodeLine{1824             \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (eblc, glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}}); \textcolor{comment}{// imageSize}}
\DoxyCodeLine{1825             \{ \textcolor{comment}{// bigMetrics}}
\DoxyCodeLine{1826                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}}); \textcolor{comment}{// height}}
\DoxyCodeLine{1827                 \textcolor{keyword}{const} uint\_fast8\_t width = \mbox{\hyperlink{hex2otf_8c_a79e768c38f3b21419f01d2d1347523be}{PW}} (glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}});}
\DoxyCodeLine{1828                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, width); \textcolor{comment}{// width}}
\DoxyCodeLine{1829                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, glyph-\/>\mbox{\hyperlink{structGlyph_ac113da35f4193641855eaf51547f9b43}{pos}}); \textcolor{comment}{// horiBearingX}}
\DoxyCodeLine{1830                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, \mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}}); \textcolor{comment}{// horiBearingY}}
\DoxyCodeLine{1831                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, glyph-\/>\mbox{\hyperlink{structGlyph_ada6b8b4b9419096c413b5a29dbc54aac}{combining}} ? 0 : width); \textcolor{comment}{// horiAdvance}}
\DoxyCodeLine{1832                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// vertBearingX}}
\DoxyCodeLine{1833                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, 0); \textcolor{comment}{// vertBearingY}}
\DoxyCodeLine{1834                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (eblc, \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}}); \textcolor{comment}{// vertAdvance}}
\DoxyCodeLine{1835             \}}
\DoxyCodeLine{1836         \}}
\DoxyCodeLine{1837     \}}
\DoxyCodeLine{1838     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (rangeHeads);}
\DoxyCodeLine{1839     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (offsets);}
\DoxyCodeLine{1840 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{hex2otf_8c_afd499a24ff34cb5c19b52df795422c12_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ab37b4f7111692f8d1163bafd2aab831e}\label{hex2otf_8c_ab37b4f7111692f8d1163bafd2aab831e}} 
\index{hex2otf.c@{hex2otf.c}!fillBlankOutline@{fillBlankOutline}}
\index{fillBlankOutline@{fillBlankOutline}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillBlankOutline()}{fillBlankOutline()}}
{\footnotesize\ttfamily void fill\+Blank\+Outline (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Create a dummy blank outline in a font table. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & Pointer to a \mbox{\hyperlink{structFont}{Font}} struct to insert a blank outline. \\
\hline
\end{DoxyParams}


Definition at line 1697 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1698 \{}
\DoxyCodeLine{1699     \mbox{\hyperlink{structBuffer}{Buffer}} *glyf = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (12);}
\DoxyCodeLine{1700     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}glyf"{}}, glyf);}
\DoxyCodeLine{1701     \textcolor{comment}{// Empty table is not allowed, but an empty outline for glyph 0 suffices.}}
\DoxyCodeLine{1702     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, 0); \textcolor{comment}{// numberOfContours}}
\DoxyCodeLine{1703     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// xMin}}
\DoxyCodeLine{1704     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// yMin}}
\DoxyCodeLine{1705     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// xMax}}
\DoxyCodeLine{1706     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// yMax}}
\DoxyCodeLine{1707     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, 0); \textcolor{comment}{// instructionLength}}
\DoxyCodeLine{1708     \mbox{\hyperlink{structBuffer}{Buffer}} *loca = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (2 * (font-\/>glyphCount + 1));}
\DoxyCodeLine{1709     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}loca"{}}, loca);}
\DoxyCodeLine{1710     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (loca, 0); \textcolor{comment}{// offsets[0]}}
\DoxyCodeLine{1711     assert (countBufferedBytes (glyf) \% 2 == 0);}
\DoxyCodeLine{1712     \textcolor{keywordflow}{for} (uint\_fast32\_t i = 1; i <= font-\/>glyphCount; i++)}
\DoxyCodeLine{1713         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (loca, countBufferedBytes (glyf) / 2); \textcolor{comment}{// offsets[i]}}
\DoxyCodeLine{1714 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{hex2otf_8c_ab37b4f7111692f8d1163bafd2aab831e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=236pt]{hex2otf_8c_ab37b4f7111692f8d1163bafd2aab831e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a3d62aa29f94c3fa78ca4438739d64a62}\label{hex2otf_8c_a3d62aa29f94c3fa78ca4438739d64a62}} 
\index{hex2otf.c@{hex2otf.c}!fillCFF@{fillCFF}}
\index{fillCFF@{fillCFF}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillCFF()}{fillCFF()}}
{\footnotesize\ttfamily void fill\+CFF (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{int}]{version,  }\item[{const \mbox{\hyperlink{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}{Name\+Strings}}}]{names }\end{DoxyParamCaption})}



Add a CFF table to a font. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & Pointer to a \mbox{\hyperlink{structFont}{Font}} struct to contain the CFF table. \\
\hline
\mbox{\texttt{ in}}  & {\em version} & Version of CFF table, with value 1 or 2. \\
\hline
\mbox{\texttt{ in}}  & {\em names} & List of Name\+Strings. \\
\hline
\end{DoxyParams}
Use fixed width integer for variables to simplify offset calculation.

Definition at line 1329 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1330 \{}
\DoxyCodeLine{1331     \textcolor{comment}{// HACK: For convenience, CFF data structures are hard coded.}}
\DoxyCodeLine{1332     assert (0 < version \&\& version <= 2);}
\DoxyCodeLine{1333     \mbox{\hyperlink{structBuffer}{Buffer}} *cff = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (65536);}
\DoxyCodeLine{1334     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, version == 1 ? \textcolor{stringliteral}{"{}CFF "{}} : \textcolor{stringliteral}{"{}CFF2"{}}, cff);}
\DoxyCodeLine{1335 \textcolor{comment}{}}
\DoxyCodeLine{1336 \textcolor{comment}{    /// Use fixed width integer for variables to simplify offset calculation.}}
\DoxyCodeLine{1337 \textcolor{comment}{}\textcolor{preprocessor}{    \#define cacheCFF32(buf, x) (cacheU8 ((buf), 29), cacheU32 ((buf), (x)))}}
\DoxyCodeLine{1338 }
\DoxyCodeLine{1339     \textcolor{comment}{// In Unifont, 16px glyphs are more common. This is used by CFF1 only.}}
\DoxyCodeLine{1340     \textcolor{keyword}{const} \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} defaultWidth = 16, nominalWidth = 8;}
\DoxyCodeLine{1341     \textcolor{keywordflow}{if} (version == 1)}
\DoxyCodeLine{1342     \{}
\DoxyCodeLine{1343         \mbox{\hyperlink{structBuffer}{Buffer}} *strings = \mbox{\hyperlink{hex2otf_8c_aa47cc913bb5b8dd3b3665ee5a587d6f7}{prepareStringIndex}} (names);}
\DoxyCodeLine{1344         \textcolor{keywordtype}{size\_t} stringsSize = countBufferedBytes (strings);}
\DoxyCodeLine{1345         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *cffName = names[6];}
\DoxyCodeLine{1346         assert (cffName);}
\DoxyCodeLine{1347         \textcolor{keywordtype}{size\_t} nameLength = strlen (cffName);}
\DoxyCodeLine{1348         \textcolor{keywordtype}{size\_t} namesSize = nameLength + 5;}
\DoxyCodeLine{1349         \textcolor{comment}{// These sizes must be updated together with the data below.}}
\DoxyCodeLine{1350         \textcolor{keywordtype}{size\_t} offsets[] = \{4, namesSize, 45, stringsSize, 2, 5, 8, 32, 4, 0\};}
\DoxyCodeLine{1351         \mbox{\hyperlink{hex2otf_8c_a97af00050b8fd6b7e7b81c7027e4c8e6}{prepareOffsets}} (offsets);}
\DoxyCodeLine{1352         \{ \textcolor{comment}{// Header}}
\DoxyCodeLine{1353             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// major}}
\DoxyCodeLine{1354             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 0); \textcolor{comment}{// minor}}
\DoxyCodeLine{1355             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 4); \textcolor{comment}{// hdrSize}}
\DoxyCodeLine{1356             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offSize}}
\DoxyCodeLine{1357         \}}
\DoxyCodeLine{1358         assert (countBufferedBytes (cff) == offsets[0]);}
\DoxyCodeLine{1359         \{ \textcolor{comment}{// Name INDEX (should not be used by OpenType readers)}}
\DoxyCodeLine{1360             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, 1); \textcolor{comment}{// count}}
\DoxyCodeLine{1361             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offSize}}
\DoxyCodeLine{1362             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offset[0]}}
\DoxyCodeLine{1363             \textcolor{keywordflow}{if} (nameLength + 1 > 255) \textcolor{comment}{// must be too long; spec limit is 63}}
\DoxyCodeLine{1364                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}PostScript name is too long."{}});}
\DoxyCodeLine{1365             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, nameLength + 1); \textcolor{comment}{// offset[1]}}
\DoxyCodeLine{1366             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, cffName, nameLength);}
\DoxyCodeLine{1367         \}}
\DoxyCodeLine{1368         assert (countBufferedBytes (cff) == offsets[1]);}
\DoxyCodeLine{1369         \{ \textcolor{comment}{// Top DICT INDEX}}
\DoxyCodeLine{1370             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, 1); \textcolor{comment}{// count}}
\DoxyCodeLine{1371             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offSize}}
\DoxyCodeLine{1372             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offset[0]}}
\DoxyCodeLine{1373             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 41); \textcolor{comment}{// offset[1]}}
\DoxyCodeLine{1374             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 391); \textcolor{comment}{// "{}Adobe"{}}}
\DoxyCodeLine{1375             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 392); \textcolor{comment}{// "{}Identity"{}}}
\DoxyCodeLine{1376             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1377             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 30\}, 2); \textcolor{comment}{// ROS}}
\DoxyCodeLine{1378             cacheCFF32 (cff, font-\/>glyphCount);}
\DoxyCodeLine{1379             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 34\}, 2); \textcolor{comment}{// CIDCount}}
\DoxyCodeLine{1380             cacheCFF32 (cff, offsets[6]);}
\DoxyCodeLine{1381             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 36\}, 2); \textcolor{comment}{// FDArray}}
\DoxyCodeLine{1382             cacheCFF32 (cff, offsets[5]);}
\DoxyCodeLine{1383             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 37\}, 2); \textcolor{comment}{// FDSelect}}
\DoxyCodeLine{1384             cacheCFF32 (cff, offsets[4]);}
\DoxyCodeLine{1385             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 15); \textcolor{comment}{// charset}}
\DoxyCodeLine{1386             cacheCFF32 (cff, offsets[8]);}
\DoxyCodeLine{1387             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 17); \textcolor{comment}{// CharStrings}}
\DoxyCodeLine{1388         \}}
\DoxyCodeLine{1389         assert (countBufferedBytes (cff) == offsets[2]);}
\DoxyCodeLine{1390         \{ \textcolor{comment}{// String INDEX}}
\DoxyCodeLine{1391             \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cacheBuffer}} (cff, strings);}
\DoxyCodeLine{1392             \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (strings);}
\DoxyCodeLine{1393         \}}
\DoxyCodeLine{1394         assert (countBufferedBytes (cff) == offsets[3]);}
\DoxyCodeLine{1395         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, 0); \textcolor{comment}{// Global Subr INDEX}}
\DoxyCodeLine{1396         assert (countBufferedBytes (cff) == offsets[4]);}
\DoxyCodeLine{1397         \{ \textcolor{comment}{// Charsets}}
\DoxyCodeLine{1398             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 2); \textcolor{comment}{// format}}
\DoxyCodeLine{1399             \{ \textcolor{comment}{// Range2[0]}}
\DoxyCodeLine{1400                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, 1); \textcolor{comment}{// first}}
\DoxyCodeLine{1401                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, font-\/>glyphCount -\/ 2); \textcolor{comment}{// nLeft}}
\DoxyCodeLine{1402             \}}
\DoxyCodeLine{1403         \}}
\DoxyCodeLine{1404         assert (countBufferedBytes (cff) == offsets[5]);}
\DoxyCodeLine{1405         \{ \textcolor{comment}{// FDSelect}}
\DoxyCodeLine{1406             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 3); \textcolor{comment}{// format}}
\DoxyCodeLine{1407             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, 1); \textcolor{comment}{// nRanges}}
\DoxyCodeLine{1408             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, 0); \textcolor{comment}{// first}}
\DoxyCodeLine{1409             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 0); \textcolor{comment}{// fd}}
\DoxyCodeLine{1410             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, font-\/>glyphCount); \textcolor{comment}{// sentinel}}
\DoxyCodeLine{1411         \}}
\DoxyCodeLine{1412         assert (countBufferedBytes (cff) == offsets[6]);}
\DoxyCodeLine{1413         \{ \textcolor{comment}{// FDArray}}
\DoxyCodeLine{1414             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, 1); \textcolor{comment}{// count}}
\DoxyCodeLine{1415             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offSize}}
\DoxyCodeLine{1416             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offset[0]}}
\DoxyCodeLine{1417             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 28); \textcolor{comment}{// offset[1]}}
\DoxyCodeLine{1418             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 393);}
\DoxyCodeLine{1419             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 38\}, 2); \textcolor{comment}{// FontName}}
\DoxyCodeLine{1420             \textcolor{comment}{// Windows requires FontMatrix in Font DICT.}}
\DoxyCodeLine{1421             \textcolor{keyword}{const} \textcolor{keywordtype}{byte} unit[] = \{0x1e,0x15,0x62,0x5c,0x6f\}; \textcolor{comment}{// 1/64 (0.015625)}}
\DoxyCodeLine{1422             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, unit, \textcolor{keyword}{sizeof} unit);}
\DoxyCodeLine{1423             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1424             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1425             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, unit, \textcolor{keyword}{sizeof} unit);}
\DoxyCodeLine{1426             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1427             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1428             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 7\}, 2); \textcolor{comment}{// FontMatrix}}
\DoxyCodeLine{1429             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, offsets[8] -\/ offsets[7]); \textcolor{comment}{// size}}
\DoxyCodeLine{1430             cacheCFF32 (cff, offsets[7]); \textcolor{comment}{// offset}}
\DoxyCodeLine{1431             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 18); \textcolor{comment}{// Private}}
\DoxyCodeLine{1432         \}}
\DoxyCodeLine{1433         assert (countBufferedBytes (cff) == offsets[7]);}
\DoxyCodeLine{1434         \{ \textcolor{comment}{// Private}}
\DoxyCodeLine{1435             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (defaultWidth));}
\DoxyCodeLine{1436             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 20); \textcolor{comment}{// defaultWidthX}}
\DoxyCodeLine{1437             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (nominalWidth));}
\DoxyCodeLine{1438             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 21); \textcolor{comment}{// nominalWidthX}}
\DoxyCodeLine{1439         \}}
\DoxyCodeLine{1440         assert (countBufferedBytes (cff) == offsets[8]);}
\DoxyCodeLine{1441     \}}
\DoxyCodeLine{1442     \textcolor{keywordflow}{else}}
\DoxyCodeLine{1443     \{}
\DoxyCodeLine{1444         assert (version == 2);}
\DoxyCodeLine{1445         \textcolor{comment}{// These sizes must be updated together with the data below.}}
\DoxyCodeLine{1446         \textcolor{keywordtype}{size\_t} offsets[] = \{5, 21, 4, 10, 0\};}
\DoxyCodeLine{1447         \mbox{\hyperlink{hex2otf_8c_a97af00050b8fd6b7e7b81c7027e4c8e6}{prepareOffsets}} (offsets);}
\DoxyCodeLine{1448         \{ \textcolor{comment}{// Header}}
\DoxyCodeLine{1449             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 2); \textcolor{comment}{// majorVersion}}
\DoxyCodeLine{1450             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 0); \textcolor{comment}{// minorVersion}}
\DoxyCodeLine{1451             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 5); \textcolor{comment}{// headerSize}}
\DoxyCodeLine{1452             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cff, offsets[1] -\/ offsets[0]); \textcolor{comment}{// topDictLength}}
\DoxyCodeLine{1453         \}}
\DoxyCodeLine{1454         assert (countBufferedBytes (cff) == offsets[0]);}
\DoxyCodeLine{1455         \{ \textcolor{comment}{// Top DICT}}
\DoxyCodeLine{1456             \textcolor{keyword}{const} \textcolor{keywordtype}{byte} unit[] = \{0x1e,0x15,0x62,0x5c,0x6f\}; \textcolor{comment}{// 1/64 (0.015625)}}
\DoxyCodeLine{1457             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, unit, \textcolor{keyword}{sizeof} unit);}
\DoxyCodeLine{1458             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1459             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1460             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, unit, \textcolor{keyword}{sizeof} unit);}
\DoxyCodeLine{1461             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1462             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1463             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 7\}, 2); \textcolor{comment}{// FontMatrix}}
\DoxyCodeLine{1464             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, offsets[2]);}
\DoxyCodeLine{1465             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (cff, (\textcolor{keywordtype}{byte}[])\{12, 36\}, 2); \textcolor{comment}{// FDArray}}
\DoxyCodeLine{1466             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, offsets[3]);}
\DoxyCodeLine{1467             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 17); \textcolor{comment}{// CharStrings}}
\DoxyCodeLine{1468         \}}
\DoxyCodeLine{1469         assert (countBufferedBytes (cff) == offsets[1]);}
\DoxyCodeLine{1470         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cff, 0); \textcolor{comment}{// Global Subr INDEX}}
\DoxyCodeLine{1471         assert (countBufferedBytes (cff) == offsets[2]);}
\DoxyCodeLine{1472         \{ \textcolor{comment}{// Font DICT INDEX}}
\DoxyCodeLine{1473             \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cff, 1); \textcolor{comment}{// count}}
\DoxyCodeLine{1474             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offSize}}
\DoxyCodeLine{1475             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 1); \textcolor{comment}{// offset[0]}}
\DoxyCodeLine{1476             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 4); \textcolor{comment}{// offset[1]}}
\DoxyCodeLine{1477             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1478             \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (cff, 0);}
\DoxyCodeLine{1479             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, 18); \textcolor{comment}{// Private}}
\DoxyCodeLine{1480         \}}
\DoxyCodeLine{1481         assert (countBufferedBytes (cff) == offsets[3]);}
\DoxyCodeLine{1482     \}}
\DoxyCodeLine{1483     \{ \textcolor{comment}{// CharStrings INDEX}}
\DoxyCodeLine{1484         \mbox{\hyperlink{structBuffer}{Buffer}} *offsets = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (4096);}
\DoxyCodeLine{1485         \mbox{\hyperlink{structBuffer}{Buffer}} *charstrings = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (4096);}
\DoxyCodeLine{1486         \mbox{\hyperlink{structBuffer}{Buffer}} *outline = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (1024);}
\DoxyCodeLine{1487         \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{1488         \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} endGlyph = glyph + font-\/>glyphCount;}
\DoxyCodeLine{1489         \textcolor{keywordflow}{for} (; glyph < endGlyph; glyph++)}
\DoxyCodeLine{1490         \{}
\DoxyCodeLine{1491             \textcolor{comment}{// CFF offsets start at 1}}
\DoxyCodeLine{1492             storeU32 (offsets, countBufferedBytes (charstrings) + 1);}
\DoxyCodeLine{1493 }
\DoxyCodeLine{1494             \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} rx = -\/glyph-\/>\mbox{\hyperlink{structGlyph_ac113da35f4193641855eaf51547f9b43}{pos}};}
\DoxyCodeLine{1495             \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} ry = \mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}};}
\DoxyCodeLine{1496             resetBuffer (outline);}
\DoxyCodeLine{1497             \mbox{\hyperlink{hex2otf_8c_a5af7c9bcfd40e5b11f9d12c40966bb65}{buildOutline}} (outline, glyph-\/>\mbox{\hyperlink{structGlyph_abbbc1113c6e10dc0fa986abbb7f7665e}{bitmap}}, glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}}, \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8caf18243d8ef6a7f601ae03a6cffbabadd}{FILL\_LEFT}});}
\DoxyCodeLine{1498             \textcolor{keyword}{enum} CFFOp \{rmoveto=21, hmoveto=22, vmoveto=4, hlineto=6,}
\DoxyCodeLine{1499                 vlineto=7, endchar=14\};}
\DoxyCodeLine{1500             \textcolor{keyword}{enum} CFFOp pendingOp = 0;}
\DoxyCodeLine{1501             \textcolor{keyword}{const} \textcolor{keywordtype}{int} STACK\_LIMIT = version == 1 ? 48 : 513;}
\DoxyCodeLine{1502             \textcolor{keywordtype}{int} stackSize = 0;}
\DoxyCodeLine{1503             \textcolor{keywordtype}{bool} isDrawing = \textcolor{keyword}{false};}
\DoxyCodeLine{1504             \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} width = glyph-\/>\mbox{\hyperlink{structGlyph_ada6b8b4b9419096c413b5a29dbc54aac}{combining}} ? 0 : \mbox{\hyperlink{hex2otf_8c_a79e768c38f3b21419f01d2d1347523be}{PW}} (glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}});}
\DoxyCodeLine{1505             \textcolor{keywordflow}{if} (version == 1 \&\& width != defaultWidth)}
\DoxyCodeLine{1506             \{}
\DoxyCodeLine{1507                 \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (charstrings, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (width -\/ nominalWidth));}
\DoxyCodeLine{1508                 stackSize++;}
\DoxyCodeLine{1509             \}}
\DoxyCodeLine{1510             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} *p = getBufferHead (outline),}
\DoxyCodeLine{1511                  *\textcolor{keyword}{const} end = getBufferTail (outline); p < end;)}
\DoxyCodeLine{1512             \{}
\DoxyCodeLine{1513                 \textcolor{keywordtype}{int} s = 0;}
\DoxyCodeLine{1514                 \textcolor{keyword}{const} \textcolor{keyword}{enum} \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38}{ContourOp}} op = *p++;}
\DoxyCodeLine{1515                 \textcolor{keywordflow}{if} (op == \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a01f5371958d06ab1411c46f72f049f45}{OP\_POINT}})}
\DoxyCodeLine{1516                 \{}
\DoxyCodeLine{1517                     \textcolor{keyword}{const} \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} x = *p++, y = *p++;}
\DoxyCodeLine{1518                     \textcolor{keywordflow}{if} (x != rx)}
\DoxyCodeLine{1519                     \{}
\DoxyCodeLine{1520                         \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (charstrings, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (x -\/ rx));}
\DoxyCodeLine{1521                         rx = x;}
\DoxyCodeLine{1522                         stackSize++;}
\DoxyCodeLine{1523                         s |= 1;}
\DoxyCodeLine{1524                     \}}
\DoxyCodeLine{1525                     \textcolor{keywordflow}{if} (y != ry)}
\DoxyCodeLine{1526                     \{}
\DoxyCodeLine{1527                         \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (charstrings, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (y -\/ ry));}
\DoxyCodeLine{1528                         ry = y;}
\DoxyCodeLine{1529                         stackSize++;}
\DoxyCodeLine{1530                         s |= 2;}
\DoxyCodeLine{1531                     \}}
\DoxyCodeLine{1532                     assert (!(isDrawing \&\& s == 3));}
\DoxyCodeLine{1533                 \}}
\DoxyCodeLine{1534                 \textcolor{keywordflow}{if} (s)}
\DoxyCodeLine{1535                 \{}
\DoxyCodeLine{1536                     \textcolor{keywordflow}{if} (!isDrawing)}
\DoxyCodeLine{1537                     \{}
\DoxyCodeLine{1538                         \textcolor{keyword}{const} \textcolor{keyword}{enum} CFFOp moves[] = \{0, hmoveto, vmoveto,}
\DoxyCodeLine{1539                             rmoveto\};}
\DoxyCodeLine{1540                         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (charstrings, moves[s]);}
\DoxyCodeLine{1541                         stackSize = 0;}
\DoxyCodeLine{1542                     \}}
\DoxyCodeLine{1543                     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!pendingOp)}
\DoxyCodeLine{1544                         pendingOp = (\textcolor{keyword}{enum} CFFOp[])\{0, hlineto, vlineto\}[s];}
\DoxyCodeLine{1545                 \}}
\DoxyCodeLine{1546                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!isDrawing)}
\DoxyCodeLine{1547                 \{}
\DoxyCodeLine{1548                     \textcolor{comment}{// only when the first point happens to be (0, 0)}}
\DoxyCodeLine{1549                     \mbox{\hyperlink{hex2otf_8c_a51be7f69e0f6053772b3ddacf215df84}{cacheCFFOperand}} (charstrings, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0));}
\DoxyCodeLine{1550                     \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (charstrings, hmoveto);}
\DoxyCodeLine{1551                     stackSize = 0;}
\DoxyCodeLine{1552                 \}}
\DoxyCodeLine{1553                 \textcolor{keywordflow}{if} (op == \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}{OP\_CLOSE}} || stackSize >= STACK\_LIMIT)}
\DoxyCodeLine{1554                 \{}
\DoxyCodeLine{1555                     assert (stackSize <= STACK\_LIMIT);}
\DoxyCodeLine{1556                     \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (charstrings, pendingOp);}
\DoxyCodeLine{1557                     pendingOp = 0;}
\DoxyCodeLine{1558                     stackSize = 0;}
\DoxyCodeLine{1559                 \}}
\DoxyCodeLine{1560                 isDrawing = op != \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}{OP\_CLOSE}};}
\DoxyCodeLine{1561             \}}
\DoxyCodeLine{1562             \textcolor{keywordflow}{if} (version == 1)}
\DoxyCodeLine{1563                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (charstrings, endchar);}
\DoxyCodeLine{1564         \}}
\DoxyCodeLine{1565         \textcolor{keywordtype}{size\_t} lastOffset = countBufferedBytes (charstrings) + 1;}
\DoxyCodeLine{1566 \textcolor{preprocessor}{        \#if SIZE\_MAX > U32MAX}}
\DoxyCodeLine{1567             \textcolor{keywordflow}{if} (lastOffset > \mbox{\hyperlink{hex2otf_8c_a7ccab01e56208030185cefdca13e0ac8}{U32MAX}})}
\DoxyCodeLine{1568                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}CFF data exceeded size limit."{}});}
\DoxyCodeLine{1569 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{1570         storeU32 (offsets, lastOffset);}
\DoxyCodeLine{1571         \textcolor{keywordtype}{int} offsetSize = 1 + (lastOffset > 0xff)}
\DoxyCodeLine{1572                            + (lastOffset > 0xffff)}
\DoxyCodeLine{1573                            + (lastOffset > 0xffffff);}
\DoxyCodeLine{1574         \textcolor{comment}{// count (must match 'numGlyphs' in 'maxp' table)}}
\DoxyCodeLine{1575         cacheU (cff, font-\/>glyphCount, version * 2);}
\DoxyCodeLine{1576         \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (cff, offsetSize); \textcolor{comment}{// offSize}}
\DoxyCodeLine{1577         \textcolor{keyword}{const} uint\_least32\_t *p = getBufferHead (offsets);}
\DoxyCodeLine{1578         \textcolor{keyword}{const} uint\_least32\_t *\textcolor{keyword}{const} end = getBufferTail (offsets);}
\DoxyCodeLine{1579         \textcolor{keywordflow}{for} (; p < end; p++)}
\DoxyCodeLine{1580             cacheU (cff, *p, offsetSize); \textcolor{comment}{// offsets}}
\DoxyCodeLine{1581         \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cacheBuffer}} (cff, charstrings); \textcolor{comment}{// data}}
\DoxyCodeLine{1582         \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (offsets);}
\DoxyCodeLine{1583         \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (charstrings);}
\DoxyCodeLine{1584         \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (outline);}
\DoxyCodeLine{1585     \}}
\DoxyCodeLine{1586 \textcolor{preprocessor}{    \#undef cacheCFF32}}
\DoxyCodeLine{1587 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_a3d62aa29f94c3fa78ca4438739d64a62_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=200pt]{hex2otf_8c_a3d62aa29f94c3fa78ca4438739d64a62_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a6362601eb41d051a103a1d9edcd4f284}\label{hex2otf_8c_a6362601eb41d051a103a1d9edcd4f284}} 
\index{hex2otf.c@{hex2otf.c}!fillCmapTable@{fillCmapTable}}
\index{fillCmapTable@{fillCmapTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillCmapTable()}{fillCmapTable()}}
{\footnotesize\ttfamily void fill\+Cmap\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Fill a \char`\"{}cmap\char`\"{} font table. 

The \char`\"{}cmap\char`\"{} table contains character to glyph index mapping information.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\end{DoxyParams}


Definition at line 2109 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2110 \{}
\DoxyCodeLine{2111     \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphs = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{2112     \mbox{\hyperlink{structBuffer}{Buffer}} *rangeHeads = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (16);}
\DoxyCodeLine{2113     uint\_fast32\_t rangeCount = 0;}
\DoxyCodeLine{2114     uint\_fast32\_t bmpRangeCount = 1; \textcolor{comment}{// 1 for the last 0xffff-\/0xffff range}}
\DoxyCodeLine{2115     glyphs[0].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} = glyphs[1].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}}; \textcolor{comment}{// to start a range at glyph 1}}
\DoxyCodeLine{2116     \textcolor{keywordflow}{for} (uint\_fast16\_t i = 1; i < font-\/>glyphCount; i++)}
\DoxyCodeLine{2117     \{}
\DoxyCodeLine{2118         \textcolor{keywordflow}{if} (glyphs[i].codePoint != glyphs[i -\/ 1].codePoint + 1)}
\DoxyCodeLine{2119         \{}
\DoxyCodeLine{2120             storeU16 (rangeHeads, i);}
\DoxyCodeLine{2121             rangeCount++;}
\DoxyCodeLine{2122             bmpRangeCount += glyphs[i].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} < 0xffff;}
\DoxyCodeLine{2123         \}}
\DoxyCodeLine{2124     \}}
\DoxyCodeLine{2125     \mbox{\hyperlink{structBuffer}{Buffer}} *cmap = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (256);}
\DoxyCodeLine{2126     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}cmap"{}}, cmap);}
\DoxyCodeLine{2127     \textcolor{comment}{// Format 4 table is always generated for compatibility.}}
\DoxyCodeLine{2128     \textcolor{keywordtype}{bool} hasFormat12 = glyphs[font-\/>glyphCount -\/ 1].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} > 0xffff;}
\DoxyCodeLine{2129     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 0); \textcolor{comment}{// version}}
\DoxyCodeLine{2130     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 1 + hasFormat12); \textcolor{comment}{// numTables}}
\DoxyCodeLine{2131     \{ \textcolor{comment}{// encodingRecords[0]}}
\DoxyCodeLine{2132         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 3); \textcolor{comment}{// platformID}}
\DoxyCodeLine{2133         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 1); \textcolor{comment}{// encodingID}}
\DoxyCodeLine{2134         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, 12 + 8 * hasFormat12); \textcolor{comment}{// subtableOffset}}
\DoxyCodeLine{2135     \}}
\DoxyCodeLine{2136     \textcolor{keywordflow}{if} (hasFormat12) \textcolor{comment}{// encodingRecords[1]}}
\DoxyCodeLine{2137     \{}
\DoxyCodeLine{2138         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 3); \textcolor{comment}{// platformID}}
\DoxyCodeLine{2139         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 10); \textcolor{comment}{// encodingID}}
\DoxyCodeLine{2140         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, 36 + 8 * bmpRangeCount); \textcolor{comment}{// subtableOffset}}
\DoxyCodeLine{2141     \}}
\DoxyCodeLine{2142     \textcolor{keyword}{const} uint\_least16\_t *ranges = getBufferHead (rangeHeads);}
\DoxyCodeLine{2143     \textcolor{keyword}{const} uint\_least16\_t *\textcolor{keyword}{const} rangesEnd = getBufferTail (rangeHeads);}
\DoxyCodeLine{2144     storeU16 (rangeHeads, font-\/>glyphCount);}
\DoxyCodeLine{2145     \{ \textcolor{comment}{// format 4 table}}
\DoxyCodeLine{2146         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 4); \textcolor{comment}{// format}}
\DoxyCodeLine{2147         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 16 + 8 * bmpRangeCount); \textcolor{comment}{// length}}
\DoxyCodeLine{2148         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 0); \textcolor{comment}{// language}}
\DoxyCodeLine{2149         \textcolor{keywordflow}{if} (bmpRangeCount * 2 > \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}})}
\DoxyCodeLine{2150             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Too many ranges in 'cmap' table."{}});}
\DoxyCodeLine{2151         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, bmpRangeCount * 2); \textcolor{comment}{// segCountX2}}
\DoxyCodeLine{2152         uint\_fast16\_t searchRange = 1, entrySelector = -\/1;}
\DoxyCodeLine{2153         \textcolor{keywordflow}{while} (searchRange <= bmpRangeCount)}
\DoxyCodeLine{2154         \{}
\DoxyCodeLine{2155             searchRange <<= 1;}
\DoxyCodeLine{2156             entrySelector++;}
\DoxyCodeLine{2157         \}}
\DoxyCodeLine{2158         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, searchRange); \textcolor{comment}{// searchRange}}
\DoxyCodeLine{2159         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, entrySelector); \textcolor{comment}{// entrySelector}}
\DoxyCodeLine{2160         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, bmpRangeCount * 2 -\/ searchRange); \textcolor{comment}{// rangeShift}}
\DoxyCodeLine{2161         \{ \textcolor{comment}{// endCode[]}}
\DoxyCodeLine{2162             \textcolor{keyword}{const} uint\_least16\_t *p = ranges;}
\DoxyCodeLine{2163             \textcolor{keywordflow}{for} (p++; p < rangesEnd \&\& glyphs[*p].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} < 0xffff; p++)}
\DoxyCodeLine{2164                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, glyphs[*p -\/ 1].codePoint);}
\DoxyCodeLine{2165             uint\_fast32\_t cp = glyphs[*p -\/ 1].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}};}
\DoxyCodeLine{2166             \textcolor{keywordflow}{if} (cp > 0xfffe)}
\DoxyCodeLine{2167                 cp = 0xfffe;}
\DoxyCodeLine{2168             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, cp);}
\DoxyCodeLine{2169             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 0xffff);}
\DoxyCodeLine{2170         \}}
\DoxyCodeLine{2171         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 0); \textcolor{comment}{// reservedPad}}
\DoxyCodeLine{2172         \{ \textcolor{comment}{// startCode[]}}
\DoxyCodeLine{2173             \textcolor{keywordflow}{for} (uint\_fast32\_t i = 0; i < bmpRangeCount -\/ 1; i++)}
\DoxyCodeLine{2174                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, glyphs[ranges[i]].codePoint);}
\DoxyCodeLine{2175             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 0xffff);}
\DoxyCodeLine{2176         \}}
\DoxyCodeLine{2177         \{ \textcolor{comment}{// idDelta[]}}
\DoxyCodeLine{2178             \textcolor{keyword}{const} uint\_least16\_t *p = ranges;}
\DoxyCodeLine{2179             \textcolor{keywordflow}{for} (; p < rangesEnd \&\& glyphs[*p].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} < 0xffff; p++)}
\DoxyCodeLine{2180                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, *p -\/ glyphs[*p].codePoint);}
\DoxyCodeLine{2181             uint\_fast16\_t delta = 1;}
\DoxyCodeLine{2182             \textcolor{keywordflow}{if} (p < rangesEnd \&\& *p == 0xffff)}
\DoxyCodeLine{2183                 delta = *p -\/ glyphs[*p].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}};}
\DoxyCodeLine{2184             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, delta);}
\DoxyCodeLine{2185         \}}
\DoxyCodeLine{2186         \{ \textcolor{comment}{// idRangeOffsets[]}}
\DoxyCodeLine{2187             \textcolor{keywordflow}{for} (uint\_least16\_t i = 0; i < bmpRangeCount; i++)}
\DoxyCodeLine{2188                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 0);}
\DoxyCodeLine{2189         \}}
\DoxyCodeLine{2190     \}}
\DoxyCodeLine{2191     \textcolor{keywordflow}{if} (hasFormat12) \textcolor{comment}{// format 12 table}}
\DoxyCodeLine{2192     \{}
\DoxyCodeLine{2193         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 12); \textcolor{comment}{// format}}
\DoxyCodeLine{2194         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (cmap, 0); \textcolor{comment}{// reserved}}
\DoxyCodeLine{2195         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, 16 + 12 * rangeCount); \textcolor{comment}{// length}}
\DoxyCodeLine{2196         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, 0); \textcolor{comment}{// language}}
\DoxyCodeLine{2197         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, rangeCount); \textcolor{comment}{// numGroups}}
\DoxyCodeLine{2198 }
\DoxyCodeLine{2199         \textcolor{comment}{// groups[]}}
\DoxyCodeLine{2200         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} uint\_least16\_t *p = ranges; p < rangesEnd; p++)}
\DoxyCodeLine{2201         \{}
\DoxyCodeLine{2202             \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, glyphs[*p].codePoint); \textcolor{comment}{// startCharCode}}
\DoxyCodeLine{2203             \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, glyphs[p[1] -\/ 1].codePoint); \textcolor{comment}{// endCharCode}}
\DoxyCodeLine{2204             \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (cmap, *p); \textcolor{comment}{// startGlyphID}}
\DoxyCodeLine{2205         \}}
\DoxyCodeLine{2206     \}}
\DoxyCodeLine{2207     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (rangeHeads);}
\DoxyCodeLine{2208 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=230pt]{hex2otf_8c_a6362601eb41d051a103a1d9edcd4f284_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a6c1e982fdc6c51b9f84051daa2e71936}\label{hex2otf_8c_a6c1e982fdc6c51b9f84051daa2e71936}} 
\index{hex2otf.c@{hex2otf.c}!fillGposTable@{fillGposTable}}
\index{fillGposTable@{fillGposTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillGposTable()}{fillGposTable()}}
{\footnotesize\ttfamily void fill\+Gpos\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Fill a \char`\"{}\+GPOS\char`\"{} font table. 

The \char`\"{}\+GPOS\char`\"{} table contains information for glyph positioning.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\end{DoxyParams}


Definition at line 2241 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2242 \{}
\DoxyCodeLine{2243     \mbox{\hyperlink{structBuffer}{Buffer}} *gpos = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (16);}
\DoxyCodeLine{2244     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}GPOS"{}}, gpos);}
\DoxyCodeLine{2245     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 1); \textcolor{comment}{// majorVersion}}
\DoxyCodeLine{2246     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 0); \textcolor{comment}{// minorVersion}}
\DoxyCodeLine{2247     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 10); \textcolor{comment}{// scriptListOffset}}
\DoxyCodeLine{2248     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 12); \textcolor{comment}{// featureListOffset}}
\DoxyCodeLine{2249     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 14); \textcolor{comment}{// lookupListOffset}}
\DoxyCodeLine{2250     \{ \textcolor{comment}{// ScriptList table}}
\DoxyCodeLine{2251         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 0); \textcolor{comment}{// scriptCount}}
\DoxyCodeLine{2252     \}}
\DoxyCodeLine{2253     \{ \textcolor{comment}{// Feature List table}}
\DoxyCodeLine{2254         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 0); \textcolor{comment}{// featureCount}}
\DoxyCodeLine{2255     \}}
\DoxyCodeLine{2256     \{ \textcolor{comment}{// Lookup List Table}}
\DoxyCodeLine{2257         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gpos, 0); \textcolor{comment}{// lookupCount}}
\DoxyCodeLine{2258     \}}
\DoxyCodeLine{2259 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{hex2otf_8c_a6c1e982fdc6c51b9f84051daa2e71936_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{hex2otf_8c_a6c1e982fdc6c51b9f84051daa2e71936_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a06b8121dea15c8117b7c951ffb22fb7e}\label{hex2otf_8c_a06b8121dea15c8117b7c951ffb22fb7e}} 
\index{hex2otf.c@{hex2otf.c}!fillGsubTable@{fillGsubTable}}
\index{fillGsubTable@{fillGsubTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillGsubTable()}{fillGsubTable()}}
{\footnotesize\ttfamily void fill\+Gsub\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Fill a \char`\"{}\+GSUB\char`\"{} font table. 

The \char`\"{}\+GSUB\char`\"{} table contains information for glyph substitution.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\end{DoxyParams}


Definition at line 2269 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2270 \{}
\DoxyCodeLine{2271     \mbox{\hyperlink{structBuffer}{Buffer}} *gsub = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (38);}
\DoxyCodeLine{2272     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}GSUB"{}}, gsub);}
\DoxyCodeLine{2273     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 1); \textcolor{comment}{// majorVersion}}
\DoxyCodeLine{2274     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 0); \textcolor{comment}{// minorVersion}}
\DoxyCodeLine{2275     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 10); \textcolor{comment}{// scriptListOffset}}
\DoxyCodeLine{2276     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 34); \textcolor{comment}{// featureListOffset}}
\DoxyCodeLine{2277     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 36); \textcolor{comment}{// lookupListOffset}}
\DoxyCodeLine{2278     \{ \textcolor{comment}{// ScriptList table}}
\DoxyCodeLine{2279         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 2); \textcolor{comment}{// scriptCount}}
\DoxyCodeLine{2280         \{ \textcolor{comment}{// scriptRecords[0]}}
\DoxyCodeLine{2281             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (gsub, \textcolor{stringliteral}{"{}DFLT"{}}, 4); \textcolor{comment}{// scriptTag}}
\DoxyCodeLine{2282             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 14); \textcolor{comment}{// scriptOffset}}
\DoxyCodeLine{2283         \}}
\DoxyCodeLine{2284         \{ \textcolor{comment}{// scriptRecords[1]}}
\DoxyCodeLine{2285             \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (gsub, \textcolor{stringliteral}{"{}thai"{}}, 4); \textcolor{comment}{// scriptTag}}
\DoxyCodeLine{2286             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 14); \textcolor{comment}{// scriptOffset}}
\DoxyCodeLine{2287         \}}
\DoxyCodeLine{2288         \{ \textcolor{comment}{// Script table}}
\DoxyCodeLine{2289             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 4); \textcolor{comment}{// defaultLangSysOffset}}
\DoxyCodeLine{2290             \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 0); \textcolor{comment}{// langSysCount}}
\DoxyCodeLine{2291             \{ \textcolor{comment}{// Default Language System table}}
\DoxyCodeLine{2292                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 0); \textcolor{comment}{// lookupOrderOffset}}
\DoxyCodeLine{2293                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 0); \textcolor{comment}{// requiredFeatureIndex}}
\DoxyCodeLine{2294                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 0); \textcolor{comment}{// featureIndexCount}}
\DoxyCodeLine{2295             \}}
\DoxyCodeLine{2296         \}}
\DoxyCodeLine{2297     \}}
\DoxyCodeLine{2298     \{ \textcolor{comment}{// Feature List table}}
\DoxyCodeLine{2299         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 0); \textcolor{comment}{// featureCount}}
\DoxyCodeLine{2300     \}}
\DoxyCodeLine{2301     \{ \textcolor{comment}{// Lookup List Table}}
\DoxyCodeLine{2302         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (gsub, 0); \textcolor{comment}{// lookupCount}}
\DoxyCodeLine{2303     \}}
\DoxyCodeLine{2304 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_a06b8121dea15c8117b7c951ffb22fb7e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{hex2otf_8c_a06b8121dea15c8117b7c951ffb22fb7e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a4ac0c02117b703a71bee3dd34e2eb306}\label{hex2otf_8c_a4ac0c02117b703a71bee3dd34e2eb306}} 
\index{hex2otf.c@{hex2otf.c}!fillHeadTable@{fillHeadTable}}
\index{fillHeadTable@{fillHeadTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillHeadTable()}{fillHeadTable()}}
{\footnotesize\ttfamily void fill\+Head\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{enum \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}{Loca\+Format}}}]{loca\+Format,  }\item[{\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\+\_\+t}}}]{x\+Min }\end{DoxyParamCaption})}



Fill a \char`\"{}head\char`\"{} font table. 

The \char`\"{}head\char`\"{} table contains font header information common to the whole font.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\mbox{\texttt{ in}}  & {\em loca\+Format} & The \char`\"{}loca\char`\"{} offset index location table. \\
\hline
\mbox{\texttt{ in}}  & {\em x\+Min} & The minimum x-\/coordinate for a glyph. \\
\hline
\end{DoxyParams}


Definition at line 1853 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1854 \{}
\DoxyCodeLine{1855     \mbox{\hyperlink{structBuffer}{Buffer}} *head = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (56);}
\DoxyCodeLine{1856     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}head"{}}, head);}
\DoxyCodeLine{1857     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, 1); \textcolor{comment}{// majorVersion}}
\DoxyCodeLine{1858     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, 0); \textcolor{comment}{// minorVersion}}
\DoxyCodeLine{1859     \mbox{\hyperlink{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397}{cacheZeros}} (head, 4); \textcolor{comment}{// fontRevision (unused)}}
\DoxyCodeLine{1860     \textcolor{comment}{// The 'checksumAdjustment' field is a checksum of the entire file.}}
\DoxyCodeLine{1861     \textcolor{comment}{// It is later calculated and written directly in the 'writeFont' function.}}
\DoxyCodeLine{1862     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (head, 0); \textcolor{comment}{// checksumAdjustment (placeholder)}}
\DoxyCodeLine{1863     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (head, 0x5f0f3cf5); \textcolor{comment}{// magicNumber}}
\DoxyCodeLine{1864     \textcolor{keyword}{const} uint\_fast16\_t flags =}
\DoxyCodeLine{1865         + \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}} ( 0) \textcolor{comment}{// baseline at y=0}}
\DoxyCodeLine{1866         + \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}} ( 1) \textcolor{comment}{// LSB at x=0 (doubtful; probably should be LSB=xMin)}}
\DoxyCodeLine{1867         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 2) \textcolor{comment}{// instructions may depend on point size}}
\DoxyCodeLine{1868         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 3) \textcolor{comment}{// force internal ppem to integers}}
\DoxyCodeLine{1869         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 4) \textcolor{comment}{// instructions may alter advance width}}
\DoxyCodeLine{1870         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 5) \textcolor{comment}{// not used in OpenType}}
\DoxyCodeLine{1871         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 6) \textcolor{comment}{// not used in OpenType}}
\DoxyCodeLine{1872         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 7) \textcolor{comment}{// not used in OpenType}}
\DoxyCodeLine{1873         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 8) \textcolor{comment}{// not used in OpenType}}
\DoxyCodeLine{1874         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} ( 9) \textcolor{comment}{// not used in OpenType}}
\DoxyCodeLine{1875         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (10) \textcolor{comment}{// not used in OpenType}}
\DoxyCodeLine{1876         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (11) \textcolor{comment}{// font transformed}}
\DoxyCodeLine{1877         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (12) \textcolor{comment}{// font converted}}
\DoxyCodeLine{1878         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (13) \textcolor{comment}{// font optimized for ClearType}}
\DoxyCodeLine{1879         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (14) \textcolor{comment}{// last resort font}}
\DoxyCodeLine{1880         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (15) \textcolor{comment}{// reserved}}
\DoxyCodeLine{1881     ;}
\DoxyCodeLine{1882     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, flags); \textcolor{comment}{// flags}}
\DoxyCodeLine{1883     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, \mbox{\hyperlink{hex2otf_8c_a652fd701381105d0d34ca4084cca413c}{FUPEM}}); \textcolor{comment}{// unitsPerEm}}
\DoxyCodeLine{1884     \mbox{\hyperlink{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397}{cacheZeros}} (head, 8); \textcolor{comment}{// created (unused)}}
\DoxyCodeLine{1885     \mbox{\hyperlink{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397}{cacheZeros}} (head, 8); \textcolor{comment}{// modified (unused)}}
\DoxyCodeLine{1886     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (xMin)); \textcolor{comment}{// xMin}}
\DoxyCodeLine{1887     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (-\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}})); \textcolor{comment}{// yMin}}
\DoxyCodeLine{1888     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (font-\/>maxWidth)); \textcolor{comment}{// xMax}}
\DoxyCodeLine{1889     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (\mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}})); \textcolor{comment}{// yMax}}
\DoxyCodeLine{1890     \textcolor{comment}{// macStyle (must agree with 'fsSelection' in 'OS/2' table)}}
\DoxyCodeLine{1891     \textcolor{keyword}{const} uint\_fast16\_t macStyle =}
\DoxyCodeLine{1892         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (0) \textcolor{comment}{// bold}}
\DoxyCodeLine{1893         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (1) \textcolor{comment}{// italic}}
\DoxyCodeLine{1894         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (2) \textcolor{comment}{// underline}}
\DoxyCodeLine{1895         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (3) \textcolor{comment}{// outline}}
\DoxyCodeLine{1896         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (4) \textcolor{comment}{// shadow}}
\DoxyCodeLine{1897         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (5) \textcolor{comment}{// condensed}}
\DoxyCodeLine{1898         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (6) \textcolor{comment}{// extended}}
\DoxyCodeLine{1899         \textcolor{comment}{//    7-\/15  reserved}}
\DoxyCodeLine{1900     ;}
\DoxyCodeLine{1901     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, macStyle);}
\DoxyCodeLine{1902     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}}); \textcolor{comment}{// lowestRecPPEM}}
\DoxyCodeLine{1903     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, 2); \textcolor{comment}{// fontDirectionHint}}
\DoxyCodeLine{1904     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, locaFormat); \textcolor{comment}{// indexToLocFormat}}
\DoxyCodeLine{1905     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (head, 0); \textcolor{comment}{// glyphDataFormat}}
\DoxyCodeLine{1906 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_a4ac0c02117b703a71bee3dd34e2eb306_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{hex2otf_8c_a4ac0c02117b703a71bee3dd34e2eb306_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a28e889c3a36007c2e5d50a498046a6c6}\label{hex2otf_8c_a28e889c3a36007c2e5d50a498046a6c6}} 
\index{hex2otf.c@{hex2otf.c}!fillHheaTable@{fillHheaTable}}
\index{fillHheaTable@{fillHheaTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillHheaTable()}{fillHheaTable()}}
{\footnotesize\ttfamily void fill\+Hhea\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\+\_\+t}}}]{x\+Min }\end{DoxyParamCaption})}



Fill a \char`\"{}hhea\char`\"{} font table. 

The \char`\"{}hhea\char`\"{} table contains horizontal header information, for example left and right side bearings.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\mbox{\texttt{ in}}  & {\em x\+Min} & The minimum x-\/coordinate for a glyph. \\
\hline
\end{DoxyParams}


Definition at line 1918 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1919 \{}
\DoxyCodeLine{1920     \mbox{\hyperlink{structBuffer}{Buffer}} *hhea = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (36);}
\DoxyCodeLine{1921     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}hhea"{}}, hhea);}
\DoxyCodeLine{1922     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 1); \textcolor{comment}{// majorVersion}}
\DoxyCodeLine{1923     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// minorVersion}}
\DoxyCodeLine{1924     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (\mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}})); \textcolor{comment}{// ascender}}
\DoxyCodeLine{1925     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (-\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}})); \textcolor{comment}{// descender}}
\DoxyCodeLine{1926     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// lineGap}}
\DoxyCodeLine{1927     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (font-\/>maxWidth)); \textcolor{comment}{// advanceWidthMax}}
\DoxyCodeLine{1928     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (xMin)); \textcolor{comment}{// minLeftSideBearing}}
\DoxyCodeLine{1929     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// minRightSideBearing (unused)}}
\DoxyCodeLine{1930     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (font-\/>maxWidth)); \textcolor{comment}{// xMaxExtent}}
\DoxyCodeLine{1931     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 1); \textcolor{comment}{// caretSlopeRise}}
\DoxyCodeLine{1932     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// caretSlopeRun}}
\DoxyCodeLine{1933     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// caretOffset}}
\DoxyCodeLine{1934     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// reserved}}
\DoxyCodeLine{1935     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// reserved}}
\DoxyCodeLine{1936     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// reserved}}
\DoxyCodeLine{1937     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// reserved}}
\DoxyCodeLine{1938     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, 0); \textcolor{comment}{// metricDataFormat}}
\DoxyCodeLine{1939     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hhea, font-\/>glyphCount); \textcolor{comment}{// numberOfHMetrics}}
\DoxyCodeLine{1940 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{hex2otf_8c_a28e889c3a36007c2e5d50a498046a6c6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=227pt]{hex2otf_8c_a28e889c3a36007c2e5d50a498046a6c6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a97c9b2ae58f5989d68e639715c3f9df9}\label{hex2otf_8c_a97c9b2ae58f5989d68e639715c3f9df9}} 
\index{hex2otf.c@{hex2otf.c}!fillHmtxTable@{fillHmtxTable}}
\index{fillHmtxTable@{fillHmtxTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillHmtxTable()}{fillHmtxTable()}}
{\footnotesize\ttfamily void fill\+Hmtx\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Fill an \char`\"{}hmtx\char`\"{} font table. 

The \char`\"{}hmtx\char`\"{} table contains horizontal metrics information.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\end{DoxyParams}


Definition at line 2087 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2088 \{}
\DoxyCodeLine{2089     \mbox{\hyperlink{structBuffer}{Buffer}} *hmtx = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (4 * font-\/>glyphCount);}
\DoxyCodeLine{2090     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}hmtx"{}}, hmtx);}
\DoxyCodeLine{2091     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphs = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{2092     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphsEnd = getBufferTail (font-\/>glyphs);}
\DoxyCodeLine{2093     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = glyphs; glyph < glyphsEnd; glyph++)}
\DoxyCodeLine{2094     \{}
\DoxyCodeLine{2095         int\_fast16\_t aw = glyph-\/>combining ? 0 : \mbox{\hyperlink{hex2otf_8c_a79e768c38f3b21419f01d2d1347523be}{PW}} (glyph-\/>byteCount);}
\DoxyCodeLine{2096         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hmtx, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (aw)); \textcolor{comment}{// advanceWidth}}
\DoxyCodeLine{2097         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (hmtx, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (glyph-\/>lsb)); \textcolor{comment}{// lsb}}
\DoxyCodeLine{2098     \}}
\DoxyCodeLine{2099 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=315pt]{hex2otf_8c_a97c9b2ae58f5989d68e639715c3f9df9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{hex2otf_8c_a97c9b2ae58f5989d68e639715c3f9df9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_aff4f28ce178c84c7365245ec10034433}\label{hex2otf_8c_aff4f28ce178c84c7365245ec10034433}} 
\index{hex2otf.c@{hex2otf.c}!fillMaxpTable@{fillMaxpTable}}
\index{fillMaxpTable@{fillMaxpTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillMaxpTable()}{fillMaxpTable()}}
{\footnotesize\ttfamily void fill\+Maxp\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{bool}]{is\+CFF,  }\item[{uint\+\_\+fast16\+\_\+t}]{max\+Points,  }\item[{uint\+\_\+fast16\+\_\+t}]{max\+Contours }\end{DoxyParamCaption})}



Fill a \char`\"{}maxp\char`\"{} font table. 

The \char`\"{}maxp\char`\"{} table contains maximum profile information, such as the memory required to contain the font.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\mbox{\texttt{ in}}  & {\em is\+CFF} & true if a CFF font is included, false otherwise. \\
\hline
\mbox{\texttt{ in}}  & {\em max\+Points} & Maximum points in a non-\/composite glyph. \\
\hline
\mbox{\texttt{ in}}  & {\em max\+Contours} & Maximum contours in a non-\/composite glyph. \\
\hline
\end{DoxyParams}


Definition at line 1954 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1956 \{}
\DoxyCodeLine{1957     \mbox{\hyperlink{structBuffer}{Buffer}} *maxp = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (32);}
\DoxyCodeLine{1958     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}maxp"{}}, maxp);}
\DoxyCodeLine{1959     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (maxp, isCFF ? 0x00005000 : 0x00010000); \textcolor{comment}{// version}}
\DoxyCodeLine{1960     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, font-\/>glyphCount); \textcolor{comment}{// numGlyphs}}
\DoxyCodeLine{1961     \textcolor{keywordflow}{if} (isCFF)}
\DoxyCodeLine{1962         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1963     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, maxPoints); \textcolor{comment}{// maxPoints}}
\DoxyCodeLine{1964     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, maxContours); \textcolor{comment}{// maxContours}}
\DoxyCodeLine{1965     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxCompositePoints}}
\DoxyCodeLine{1966     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxCompositeContours}}
\DoxyCodeLine{1967     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxZones}}
\DoxyCodeLine{1968     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxTwilightPoints}}
\DoxyCodeLine{1969     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxStorage}}
\DoxyCodeLine{1970     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxFunctionDefs}}
\DoxyCodeLine{1971     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxInstructionDefs}}
\DoxyCodeLine{1972     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxStackElements}}
\DoxyCodeLine{1973     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxSizeOfInstructions}}
\DoxyCodeLine{1974     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxComponentElements}}
\DoxyCodeLine{1975     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (maxp, 0); \textcolor{comment}{// maxComponentDepth}}
\DoxyCodeLine{1976 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{hex2otf_8c_aff4f28ce178c84c7365245ec10034433_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{hex2otf_8c_aff4f28ce178c84c7365245ec10034433_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a79d8a322be9d9131b684a9ea67abe05e}\label{hex2otf_8c_a79d8a322be9d9131b684a9ea67abe05e}} 
\index{hex2otf.c@{hex2otf.c}!fillNameTable@{fillNameTable}}
\index{fillNameTable@{fillNameTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillNameTable()}{fillNameTable()}}
{\footnotesize\ttfamily void fill\+Name\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{\mbox{\hyperlink{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}{Name\+Strings}}}]{name\+Strings }\end{DoxyParamCaption})}



Fill a \char`\"{}name\char`\"{} font table. 

The \char`\"{}name\char`\"{} table contains name information, for example for Name IDs.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\mbox{\texttt{ in}}  & {\em names} & List of Name\+Strings. \\
\hline
\end{DoxyParams}


Definition at line 2366 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2367 \{}
\DoxyCodeLine{2368     \mbox{\hyperlink{structBuffer}{Buffer}} *name = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (2048);}
\DoxyCodeLine{2369     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}name"{}}, name);}
\DoxyCodeLine{2370     \textcolor{keywordtype}{size\_t} nameStringCount = 0;}
\DoxyCodeLine{2371     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{hex2otf_8c_a06a292e7a76c13c1fa509187a7e6577a}{MAX\_NAME\_IDS}}; i++)}
\DoxyCodeLine{2372         nameStringCount += !!nameStrings[i];}
\DoxyCodeLine{2373     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, 0); \textcolor{comment}{// version}}
\DoxyCodeLine{2374     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, nameStringCount); \textcolor{comment}{// count}}
\DoxyCodeLine{2375     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, 2 * 3 + 12 * nameStringCount); \textcolor{comment}{// storageOffset}}
\DoxyCodeLine{2376     \mbox{\hyperlink{structBuffer}{Buffer}} *stringData = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (1024);}
\DoxyCodeLine{2377     \textcolor{comment}{// nameRecord[]}}
\DoxyCodeLine{2378     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{hex2otf_8c_a06a292e7a76c13c1fa509187a7e6577a}{MAX\_NAME\_IDS}}; i++)}
\DoxyCodeLine{2379     \{}
\DoxyCodeLine{2380         \textcolor{keywordflow}{if} (!nameStrings[i])}
\DoxyCodeLine{2381             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{2382         \textcolor{keywordtype}{size\_t} offset = countBufferedBytes (stringData);}
\DoxyCodeLine{2383         \mbox{\hyperlink{hex2otf_8c_a199befd98ef9ec0ee659d82609abded4}{cacheStringAsUTF16BE}} (stringData, nameStrings[i]);}
\DoxyCodeLine{2384         \textcolor{keywordtype}{size\_t} length = countBufferedBytes (stringData) -\/ offset;}
\DoxyCodeLine{2385         \textcolor{keywordflow}{if} (offset > \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}} || length > \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}})}
\DoxyCodeLine{2386             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Name strings are too long."{}});}
\DoxyCodeLine{2387         \textcolor{comment}{// Platform ID 0 (Unicode) is not well supported.}}
\DoxyCodeLine{2388         \textcolor{comment}{// ID 3 (Windows) seems to be the best for compatibility.}}
\DoxyCodeLine{2389         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, 3); \textcolor{comment}{// platformID = Windows}}
\DoxyCodeLine{2390         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, 1); \textcolor{comment}{// encodingID = Unicode BMP}}
\DoxyCodeLine{2391         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, 0x0409); \textcolor{comment}{// languageID = en-\/US}}
\DoxyCodeLine{2392         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, i); \textcolor{comment}{// nameID}}
\DoxyCodeLine{2393         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, length); \textcolor{comment}{// length}}
\DoxyCodeLine{2394         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (name, offset); \textcolor{comment}{// stringOffset}}
\DoxyCodeLine{2395     \}}
\DoxyCodeLine{2396     \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cacheBuffer}} (name, stringData);}
\DoxyCodeLine{2397     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (stringData);}
\DoxyCodeLine{2398 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{hex2otf_8c_a79d8a322be9d9131b684a9ea67abe05e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=230pt]{hex2otf_8c_a79d8a322be9d9131b684a9ea67abe05e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ab6e3bb110dc3e55193c344cb7b56e328}\label{hex2otf_8c_ab6e3bb110dc3e55193c344cb7b56e328}} 
\index{hex2otf.c@{hex2otf.c}!fillOS2Table@{fillOS2Table}}
\index{fillOS2Table@{fillOS2Table}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillOS2Table()}{fillOS2Table()}}
{\footnotesize\ttfamily void fill\+OS2\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Fill an \char`\"{}\+OS/2\char`\"{} font table. 

The \char`\"{}\+OS/2\char`\"{} table contains OS/2 and Windows font metrics information.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\end{DoxyParams}


Definition at line 1986 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1987 \{}
\DoxyCodeLine{1988     \mbox{\hyperlink{structBuffer}{Buffer}} *os2 = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (100);}
\DoxyCodeLine{1989     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}OS/2"{}}, os2);}
\DoxyCodeLine{1990     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 5); \textcolor{comment}{// version}}
\DoxyCodeLine{1991     \textcolor{comment}{// HACK: Average glyph width is not actually calculated.}}
\DoxyCodeLine{1992     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (font-\/>maxWidth)); \textcolor{comment}{// xAvgCharWidth}}
\DoxyCodeLine{1993     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 400); \textcolor{comment}{// usWeightClass = Normal}}
\DoxyCodeLine{1994     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 5); \textcolor{comment}{// usWidthClass = Medium}}
\DoxyCodeLine{1995     \textcolor{keyword}{const} uint\_fast16\_t typeFlags =}
\DoxyCodeLine{1996         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (0) \textcolor{comment}{// reserved}}
\DoxyCodeLine{1997         \textcolor{comment}{// usage permissions, one of:}}
\DoxyCodeLine{1998             \textcolor{comment}{// Default: Installable embedding}}
\DoxyCodeLine{1999             + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (1) \textcolor{comment}{// Restricted License embedding}}
\DoxyCodeLine{2000             + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (2) \textcolor{comment}{// Preview \& Print embedding}}
\DoxyCodeLine{2001             + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (3) \textcolor{comment}{// Editable embedding}}
\DoxyCodeLine{2002         \textcolor{comment}{//    4-\/7   reserved}}
\DoxyCodeLine{2003         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (8) \textcolor{comment}{// no subsetting}}
\DoxyCodeLine{2004         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (9) \textcolor{comment}{// bitmap embedding only}}
\DoxyCodeLine{2005         \textcolor{comment}{//    10-\/15 reserved}}
\DoxyCodeLine{2006     ;}
\DoxyCodeLine{2007     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, typeFlags); \textcolor{comment}{// fsType}}
\DoxyCodeLine{2008     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (5)); \textcolor{comment}{// ySubscriptXSize}}
\DoxyCodeLine{2009     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (7)); \textcolor{comment}{// ySubscriptYSize}}
\DoxyCodeLine{2010     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// ySubscriptXOffset}}
\DoxyCodeLine{2011     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (1)); \textcolor{comment}{// ySubscriptYOffset}}
\DoxyCodeLine{2012     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (5)); \textcolor{comment}{// ySuperscriptXSize}}
\DoxyCodeLine{2013     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (7)); \textcolor{comment}{// ySuperscriptYSize}}
\DoxyCodeLine{2014     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// ySuperscriptXOffset}}
\DoxyCodeLine{2015     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (4)); \textcolor{comment}{// ySuperscriptYOffset}}
\DoxyCodeLine{2016     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (1)); \textcolor{comment}{// yStrikeoutSize}}
\DoxyCodeLine{2017     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (5)); \textcolor{comment}{// yStrikeoutPosition}}
\DoxyCodeLine{2018     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 0x080a); \textcolor{comment}{// sFamilyClass = Sans Serif, Matrix}}
\DoxyCodeLine{2019     \textcolor{keyword}{const} \textcolor{keywordtype}{byte} panose[] =}
\DoxyCodeLine{2020     \{}
\DoxyCodeLine{2021         2, \textcolor{comment}{// Family Kind = Latin Text}}
\DoxyCodeLine{2022         11, \textcolor{comment}{// Serif Style = Normal Sans}}
\DoxyCodeLine{2023         4, \textcolor{comment}{// Weight = Thin}}
\DoxyCodeLine{2024         \textcolor{comment}{// Windows would render all glyphs to the same width,}}
\DoxyCodeLine{2025         \textcolor{comment}{// if 'Proportion' is set to 'Monospaced' (as Unifont should be).}}
\DoxyCodeLine{2026         \textcolor{comment}{// 'Condensed' is the best alternative according to metrics.}}
\DoxyCodeLine{2027         6, \textcolor{comment}{// Proportion = Condensed}}
\DoxyCodeLine{2028         2, \textcolor{comment}{// Contrast = None}}
\DoxyCodeLine{2029         2, \textcolor{comment}{// Stroke = No Variation}}
\DoxyCodeLine{2030         2, \textcolor{comment}{// Arm Style = Straight Arms}}
\DoxyCodeLine{2031         8, \textcolor{comment}{// Letterform = Normal/Square}}
\DoxyCodeLine{2032         2, \textcolor{comment}{// Midline = Standard/Trimmed}}
\DoxyCodeLine{2033         4, \textcolor{comment}{// X-\/height = Constant/Large}}
\DoxyCodeLine{2034     \};}
\DoxyCodeLine{2035     \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (os2, panose, \textcolor{keyword}{sizeof} panose); \textcolor{comment}{// panose}}
\DoxyCodeLine{2036     \textcolor{comment}{// HACK: All defined Unicode ranges are marked functional for convenience.}}
\DoxyCodeLine{2037     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (os2, 0xffffffff); \textcolor{comment}{// ulUnicodeRange1}}
\DoxyCodeLine{2038     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (os2, 0xffffffff); \textcolor{comment}{// ulUnicodeRange2}}
\DoxyCodeLine{2039     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (os2, 0xffffffff); \textcolor{comment}{// ulUnicodeRange3}}
\DoxyCodeLine{2040     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (os2, 0x0effffff); \textcolor{comment}{// ulUnicodeRange4}}
\DoxyCodeLine{2041     \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (os2, \textcolor{stringliteral}{"{}GNU "{}}, 4); \textcolor{comment}{// achVendID}}
\DoxyCodeLine{2042     \textcolor{comment}{// fsSelection (must agree with 'macStyle' in 'head' table)}}
\DoxyCodeLine{2043     \textcolor{keyword}{const} uint\_fast16\_t selection =}
\DoxyCodeLine{2044         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (0) \textcolor{comment}{// italic}}
\DoxyCodeLine{2045         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (1) \textcolor{comment}{// underscored}}
\DoxyCodeLine{2046         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (2) \textcolor{comment}{// negative}}
\DoxyCodeLine{2047         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (3) \textcolor{comment}{// outlined}}
\DoxyCodeLine{2048         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (4) \textcolor{comment}{// strikeout}}
\DoxyCodeLine{2049         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (5) \textcolor{comment}{// bold}}
\DoxyCodeLine{2050         + \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}} (6) \textcolor{comment}{// regular}}
\DoxyCodeLine{2051         + \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}} (7) \textcolor{comment}{// use sTypo* metrics in this table}}
\DoxyCodeLine{2052         + \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}} (8) \textcolor{comment}{// font name conforms to WWS model}}
\DoxyCodeLine{2053         + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (9) \textcolor{comment}{// oblique}}
\DoxyCodeLine{2054         \textcolor{comment}{//    10-\/15 reserved}}
\DoxyCodeLine{2055     ;}
\DoxyCodeLine{2056     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, selection);}
\DoxyCodeLine{2057     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *glyphs = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{2058     uint\_fast32\_t first = glyphs[1].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}};}
\DoxyCodeLine{2059     uint\_fast32\_t last = glyphs[font-\/>glyphCount -\/ 1].\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}};}
\DoxyCodeLine{2060     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, first < \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}} ? first : \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}}); \textcolor{comment}{// usFirstCharIndex}}
\DoxyCodeLine{2061     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, last  < \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}} ? last  : \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}}); \textcolor{comment}{// usLastCharIndex}}
\DoxyCodeLine{2062     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (\mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}})); \textcolor{comment}{// sTypoAscender}}
\DoxyCodeLine{2063     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (-\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}})); \textcolor{comment}{// sTypoDescender}}
\DoxyCodeLine{2064     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (0)); \textcolor{comment}{// sTypoLineGap}}
\DoxyCodeLine{2065     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (\mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}})); \textcolor{comment}{// usWinAscent}}
\DoxyCodeLine{2066     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}})); \textcolor{comment}{// usWinDescent}}
\DoxyCodeLine{2067     \textcolor{comment}{// HACK: All reasonable code pages are marked functional for convenience.}}
\DoxyCodeLine{2068     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (os2, 0x603f01ff); \textcolor{comment}{// ulCodePageRange1}}
\DoxyCodeLine{2069     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (os2, 0xffff0000); \textcolor{comment}{// ulCodePageRange2}}
\DoxyCodeLine{2070     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (8)); \textcolor{comment}{// sxHeight}}
\DoxyCodeLine{2071     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (10)); \textcolor{comment}{// sCapHeight}}
\DoxyCodeLine{2072     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 0); \textcolor{comment}{// usDefaultChar}}
\DoxyCodeLine{2073     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 0x20); \textcolor{comment}{// usBreakChar}}
\DoxyCodeLine{2074     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 0); \textcolor{comment}{// usMaxContext}}
\DoxyCodeLine{2075     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 0); \textcolor{comment}{// usLowerOpticalPointSize}}
\DoxyCodeLine{2076     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (os2, 0xffff); \textcolor{comment}{// usUpperOpticalPointSize}}
\DoxyCodeLine{2077 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_ab6e3bb110dc3e55193c344cb7b56e328_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=223pt]{hex2otf_8c_ab6e3bb110dc3e55193c344cb7b56e328_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a0ddc03905c4918e04aa1e54a7c1716b1}\label{hex2otf_8c_a0ddc03905c4918e04aa1e54a7c1716b1}} 
\index{hex2otf.c@{hex2otf.c}!fillPostTable@{fillPostTable}}
\index{fillPostTable@{fillPostTable}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillPostTable()}{fillPostTable()}}
{\footnotesize\ttfamily void fill\+Post\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Fill a \char`\"{}post\char`\"{} font table. 

The \char`\"{}post\char`\"{} table contains information for Post\+Script printers.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The \mbox{\hyperlink{structFont}{Font}} struct to which to add the table. \\
\hline
\end{DoxyParams}


Definition at line 2218 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2219 \{}
\DoxyCodeLine{2220     \mbox{\hyperlink{structBuffer}{Buffer}} *post = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (32);}
\DoxyCodeLine{2221     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}post"{}}, post);}
\DoxyCodeLine{2222     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (post, 0x00030000); \textcolor{comment}{// version = 3.0}}
\DoxyCodeLine{2223     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (post, 0); \textcolor{comment}{// italicAngle}}
\DoxyCodeLine{2224     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (post, 0); \textcolor{comment}{// underlinePosition}}
\DoxyCodeLine{2225     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (post, 1); \textcolor{comment}{// underlineThickness}}
\DoxyCodeLine{2226     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (post, 1); \textcolor{comment}{// isFixedPitch}}
\DoxyCodeLine{2227     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (post, 0); \textcolor{comment}{// minMemType42}}
\DoxyCodeLine{2228     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (post, 0); \textcolor{comment}{// maxMemType42}}
\DoxyCodeLine{2229     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (post, 0); \textcolor{comment}{// minMemType1}}
\DoxyCodeLine{2230     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (post, 0); \textcolor{comment}{// maxMemType1}}
\DoxyCodeLine{2231 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{hex2otf_8c_a0ddc03905c4918e04aa1e54a7c1716b1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{hex2otf_8c_a0ddc03905c4918e04aa1e54a7c1716b1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a326e4fa86eb32bb18e37eab8f495bd2f}\label{hex2otf_8c_a326e4fa86eb32bb18e37eab8f495bd2f}} 
\index{hex2otf.c@{hex2otf.c}!fillTrueType@{fillTrueType}}
\index{fillTrueType@{fillTrueType}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{fillTrueType()}{fillTrueType()}}
{\footnotesize\ttfamily void fill\+True\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{enum \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}{Loca\+Format}} $\ast$}]{format,  }\item[{uint\+\_\+fast16\+\_\+t $\ast$}]{max\+Points,  }\item[{uint\+\_\+fast16\+\_\+t $\ast$}]{max\+Contours }\end{DoxyParamCaption})}



Add a True\+Type table to a font. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & Pointer to a \mbox{\hyperlink{structFont}{Font}} struct to contain the True\+Type table. \\
\hline
\mbox{\texttt{ in}}  & {\em format} & The True\+Type \char`\"{}loca\char`\"{} table format, Offset16 or Offset32. \\
\hline
\mbox{\texttt{ in}}  & {\em names} & List of Name\+Strings. \\
\hline
\end{DoxyParams}


Definition at line 1597 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1599 \{}
\DoxyCodeLine{1600     \mbox{\hyperlink{structBuffer}{Buffer}} *glyf = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (65536);}
\DoxyCodeLine{1601     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}glyf"{}}, glyf);}
\DoxyCodeLine{1602     \mbox{\hyperlink{structBuffer}{Buffer}} *loca = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (4 * (font-\/>glyphCount + 1));}
\DoxyCodeLine{1603     \mbox{\hyperlink{hex2otf_8c_a1fab24bb2d2b38b68a38ec871afc3f9c}{addTable}} (font, \textcolor{stringliteral}{"{}loca"{}}, loca);}
\DoxyCodeLine{1604     *format = \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaad5e47b5a6bbf31be31e9b1328e7beef8}{LOCA\_OFFSET32}};}
\DoxyCodeLine{1605     \mbox{\hyperlink{structBuffer}{Buffer}} *endPoints = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (256);}
\DoxyCodeLine{1606     \mbox{\hyperlink{structBuffer}{Buffer}} *flags = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (256);}
\DoxyCodeLine{1607     \mbox{\hyperlink{structBuffer}{Buffer}} *xs = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (256);}
\DoxyCodeLine{1608     \mbox{\hyperlink{structBuffer}{Buffer}} *ys = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (256);}
\DoxyCodeLine{1609     \mbox{\hyperlink{structBuffer}{Buffer}} *outline = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (1024);}
\DoxyCodeLine{1610     \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphs = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{1611     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphsEnd = getBufferTail (font-\/>glyphs);}
\DoxyCodeLine{1612     \textcolor{keywordflow}{for} (\mbox{\hyperlink{structGlyph}{Glyph}} *glyph = glyphs; glyph < glyphsEnd; glyph++)}
\DoxyCodeLine{1613     \{}
\DoxyCodeLine{1614         \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (loca, countBufferedBytes (glyf));}
\DoxyCodeLine{1615         \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} rx = -\/glyph-\/>pos;}
\DoxyCodeLine{1616         \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} ry = \mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}};}
\DoxyCodeLine{1617         \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} xMin = \mbox{\hyperlink{hex2otf_8c_a688a4772d61221e9378e5003da51265a}{GLYPH\_MAX\_WIDTH}}, xMax = 0;}
\DoxyCodeLine{1618         \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} yMin = \mbox{\hyperlink{hex2otf_8c_ad0d9350c8943e5550a14f1cff5580a6c}{ASCENDER}}, yMax = -\/\mbox{\hyperlink{hex2otf_8c_a91005fb187034d042b6bad9c9b1ae7c4}{DESCENDER}};}
\DoxyCodeLine{1619         resetBuffer (endPoints);}
\DoxyCodeLine{1620         resetBuffer (flags);}
\DoxyCodeLine{1621         resetBuffer (xs);}
\DoxyCodeLine{1622         resetBuffer (ys);}
\DoxyCodeLine{1623         resetBuffer (outline);}
\DoxyCodeLine{1624         \mbox{\hyperlink{hex2otf_8c_a5af7c9bcfd40e5b11f9d12c40966bb65}{buildOutline}} (outline, glyph-\/>bitmap, glyph-\/>byteCount, \mbox{\hyperlink{hex2otf_8c_a6a06835afab662d1c9fd91960654bb8ca0bbdc63e5d0938274b80230bc55d03b8}{FILL\_RIGHT}});}
\DoxyCodeLine{1625         uint\_fast32\_t pointCount = 0, contourCount = 0;}
\DoxyCodeLine{1626         \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} *p = getBufferHead (outline),}
\DoxyCodeLine{1627              *\textcolor{keyword}{const} end = getBufferTail (outline); p < end;)}
\DoxyCodeLine{1628         \{}
\DoxyCodeLine{1629             \textcolor{keyword}{const} \textcolor{keyword}{enum} \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38}{ContourOp}} op = *p++;}
\DoxyCodeLine{1630             \textcolor{keywordflow}{if} (op == \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a9e771dc35104ec1246adba881d27e372}{OP\_CLOSE}})}
\DoxyCodeLine{1631             \{}
\DoxyCodeLine{1632                 contourCount++;}
\DoxyCodeLine{1633                 assert (contourCount <= \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}});}
\DoxyCodeLine{1634                 \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (endPoints, pointCount -\/ 1);}
\DoxyCodeLine{1635                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1636             \}}
\DoxyCodeLine{1637             assert (op == \mbox{\hyperlink{hex2otf_8c_a25218b5574c0da4a0580647c1a084f38a01f5371958d06ab1411c46f72f049f45}{OP\_POINT}});}
\DoxyCodeLine{1638             pointCount++;}
\DoxyCodeLine{1639             assert (pointCount <= \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}});}
\DoxyCodeLine{1640             \textcolor{keyword}{const} \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} x = *p++, y = *p++;}
\DoxyCodeLine{1641             uint\_fast8\_t pointFlags =}
\DoxyCodeLine{1642                 + \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}} (0) \textcolor{comment}{// point is on curve}}
\DoxyCodeLine{1643                 + \mbox{\hyperlink{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}{BX}} (1, x != rx) \textcolor{comment}{// x coordinate is 1 byte instead of 2}}
\DoxyCodeLine{1644                 + \mbox{\hyperlink{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}{BX}} (2, y != ry) \textcolor{comment}{// y coordinate is 1 byte instead of 2}}
\DoxyCodeLine{1645                 + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (3) \textcolor{comment}{// repeat}}
\DoxyCodeLine{1646                 + \mbox{\hyperlink{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}{BX}} (4, x >= rx) \textcolor{comment}{// when x is 1 byte: x is positive;}}
\DoxyCodeLine{1647                                   \textcolor{comment}{// when x is 2 bytes: x unchanged and omitted}}
\DoxyCodeLine{1648                 + \mbox{\hyperlink{hex2otf_8c_a77e92e56b5af63bc912ed4cbf5f5c585}{BX}} (5, y >= ry) \textcolor{comment}{// when y is 1 byte: y is positive;}}
\DoxyCodeLine{1649                                   \textcolor{comment}{// when y is 2 bytes: y unchanged and omitted}}
\DoxyCodeLine{1650                 + \mbox{\hyperlink{hex2otf_8c_a2177c1b55319bb7fd9015fb8b8629ead}{B1}} (6) \textcolor{comment}{// contours may overlap}}
\DoxyCodeLine{1651                 + \mbox{\hyperlink{hex2otf_8c_a15c6f2a017088c5db6daac264f992a67}{B0}} (7) \textcolor{comment}{// reserved}}
\DoxyCodeLine{1652             ;}
\DoxyCodeLine{1653             \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (flags, pointFlags);}
\DoxyCodeLine{1654             \textcolor{keywordflow}{if} (x != rx)}
\DoxyCodeLine{1655                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (xs, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (x > rx ? x -\/ rx : rx -\/ x));}
\DoxyCodeLine{1656             \textcolor{keywordflow}{if} (y != ry)}
\DoxyCodeLine{1657                 \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (ys, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (y > ry ? y -\/ ry : ry -\/ y));}
\DoxyCodeLine{1658             \textcolor{keywordflow}{if} (x < xMin) xMin = x;}
\DoxyCodeLine{1659             \textcolor{keywordflow}{if} (y < yMin) yMin = y;}
\DoxyCodeLine{1660             \textcolor{keywordflow}{if} (x > xMax) xMax = x;}
\DoxyCodeLine{1661             \textcolor{keywordflow}{if} (y > yMax) yMax = y;}
\DoxyCodeLine{1662             rx = x;}
\DoxyCodeLine{1663             ry = y;}
\DoxyCodeLine{1664         \}}
\DoxyCodeLine{1665         \textcolor{keywordflow}{if} (contourCount == 0)}
\DoxyCodeLine{1666             \textcolor{keywordflow}{continue}; \textcolor{comment}{// blank glyph is indicated by the 'loca' table}}
\DoxyCodeLine{1667         glyph-\/>lsb = glyph-\/>pos + xMin;}
\DoxyCodeLine{1668         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, contourCount); \textcolor{comment}{// numberOfContours}}
\DoxyCodeLine{1669         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (glyph-\/>pos + xMin)); \textcolor{comment}{// xMin}}
\DoxyCodeLine{1670         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (yMin)); \textcolor{comment}{// yMin}}
\DoxyCodeLine{1671         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (glyph-\/>pos + xMax)); \textcolor{comment}{// xMax}}
\DoxyCodeLine{1672         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, \mbox{\hyperlink{hex2otf_8c_a84fd83fab1f19cfb33addaa0557c4682}{FU}} (yMax)); \textcolor{comment}{// yMax}}
\DoxyCodeLine{1673         \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cacheBuffer}} (glyf, endPoints); \textcolor{comment}{// endPtsOfContours[]}}
\DoxyCodeLine{1674         \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (glyf, 0); \textcolor{comment}{// instructionLength}}
\DoxyCodeLine{1675         \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cacheBuffer}} (glyf, flags); \textcolor{comment}{// flags[]}}
\DoxyCodeLine{1676         \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cacheBuffer}} (glyf, xs); \textcolor{comment}{// xCoordinates[]}}
\DoxyCodeLine{1677         \mbox{\hyperlink{hex2otf_8c_a560637130747e543118ff304389fd18f}{cacheBuffer}} (glyf, ys); \textcolor{comment}{// yCoordinates[]}}
\DoxyCodeLine{1678         \textcolor{keywordflow}{if} (pointCount > *maxPoints)}
\DoxyCodeLine{1679             *maxPoints = pointCount;}
\DoxyCodeLine{1680         \textcolor{keywordflow}{if} (contourCount > *maxContours)}
\DoxyCodeLine{1681             *maxContours = contourCount;}
\DoxyCodeLine{1682     \}}
\DoxyCodeLine{1683     \mbox{\hyperlink{hex2otf_8c_a051a88b0ac4eb063945b84e2242408ea}{cacheU32}} (loca, countBufferedBytes (glyf));}
\DoxyCodeLine{1684     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (endPoints);}
\DoxyCodeLine{1685     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (flags);}
\DoxyCodeLine{1686     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (xs);}
\DoxyCodeLine{1687     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (ys);}
\DoxyCodeLine{1688     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (outline);}
\DoxyCodeLine{1689 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=307pt]{hex2otf_8c_a326e4fa86eb32bb18e37eab8f495bd2f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{hex2otf_8c_a326e4fa86eb32bb18e37eab8f495bd2f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}\label{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}} 
\index{hex2otf.c@{hex2otf.c}!freeBuffer@{freeBuffer}}
\index{freeBuffer@{freeBuffer}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{freeBuffer()}{freeBuffer()}}
{\footnotesize\ttfamily void free\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structBuffer}{Buffer}} $\ast$}]{buf }\end{DoxyParamCaption})}



Free the memory previously allocated for a buffer. 

This function frees the memory allocated to an array of type \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buf} & The pointer to an array of type \mbox{\hyperlink{structBuffer}{Buffer}} $\ast$. \\
\hline
\end{DoxyParams}


Definition at line 337 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{338 \{}
\DoxyCodeLine{339     free (buf-\/>begin);}
\DoxyCodeLine{340     buf-\/>capacity = 0;}
\DoxyCodeLine{341 \}}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_a4cebe6a72365812b5f392f4db9dc5db5}\label{hex2otf_8c_a4cebe6a72365812b5f392f4db9dc5db5}} 
\index{hex2otf.c@{hex2otf.c}!initBuffers@{initBuffers}}
\index{initBuffers@{initBuffers}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{initBuffers()}{initBuffers()}}
{\footnotesize\ttfamily void init\+Buffers (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{count }\end{DoxyParamCaption})}



Initialize an array of buffer pointers to all zeroes. 

This function initializes the \char`\"{}all\+Buffers\char`\"{} array of buffer pointers to all zeroes.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em count} & The number of buffer array pointers to allocate. \\
\hline
\end{DoxyParams}


Definition at line 152 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{153 \{}
\DoxyCodeLine{154     assert (count > 0);}
\DoxyCodeLine{155     assert (\mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}} == 0); \textcolor{comment}{// uninitialized}}
\DoxyCodeLine{156     \mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}} = calloc (count, \textcolor{keyword}{sizeof} *\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}});}
\DoxyCodeLine{157     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}})}
\DoxyCodeLine{158         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to initialize buffers."{}});}
\DoxyCodeLine{159     \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}} = count;}
\DoxyCodeLine{160     \mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}} = 0;}
\DoxyCodeLine{161 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{hex2otf_8c_a4cebe6a72365812b5f392f4db9dc5db5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=215pt]{hex2otf_8c_a4cebe6a72365812b5f392f4db9dc5db5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a0ddf1224851353fc92bfbff6f499fa97}\label{hex2otf_8c_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{hex2otf.c@{hex2otf.c}!main@{main}}
\index{main@{main}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



The main function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em argc} & The number of command-\/line arguments. \\
\hline
\mbox{\texttt{ in}}  & {\em argv} & The array of command-\/line arguments. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
EXIT\+\_\+\+FAILURE upon fatal error, EXIT\+\_\+\+SUCCESS otherwise. 
\end{DoxyReturn}


Definition at line 2603 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2604 \{}
\DoxyCodeLine{2605     \mbox{\hyperlink{hex2otf_8c_a4cebe6a72365812b5f392f4db9dc5db5}{initBuffers}} (16);}
\DoxyCodeLine{2606     atexit (\mbox{\hyperlink{hex2otf_8c_ac947cbe076da5fbab8f5e4c1c821b7a6}{cleanBuffers}});}
\DoxyCodeLine{2607     \mbox{\hyperlink{structOptions}{Options}} opt = \mbox{\hyperlink{hex2otf_8c_ac2eec01939cae967aa9882b2517288a1}{parseOptions}} (argv);}
\DoxyCodeLine{2608     \mbox{\hyperlink{structFont}{Font}} font;}
\DoxyCodeLine{2609     font.tables = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (\textcolor{keyword}{sizeof} (\mbox{\hyperlink{structTable}{Table}}) * 16);}
\DoxyCodeLine{2610     font.glyphs = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (\textcolor{keyword}{sizeof} (\mbox{\hyperlink{structGlyph}{Glyph}}) * \mbox{\hyperlink{hex2otf_8c_a1a1d1da8a5f6da54d749399b173c9bfc}{MAX\_GLYPHS}});}
\DoxyCodeLine{2611     \mbox{\hyperlink{hex2otf_8c_ad77c441582f862d494a734eb9855dd41}{readGlyphs}} (\&font, opt.hex);}
\DoxyCodeLine{2612     \mbox{\hyperlink{hex2otf_8c_a77ff68152c5cb38605010bc7621b0722}{sortGlyphs}} (\&font);}
\DoxyCodeLine{2613     \textcolor{keyword}{enum} \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1ea}{LocaFormat}} loca = \mbox{\hyperlink{hex2otf_8c_a7da3527c69a413194afdce359b03e1eaa9c5871c30feb10df049d99bd703dfda4}{LOCA\_OFFSET16}};}
\DoxyCodeLine{2614     uint\_fast16\_t maxPoints = 0, maxContours = 0;}
\DoxyCodeLine{2615     \mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\_t}} xMin = 0;}
\DoxyCodeLine{2616     \textcolor{keywordflow}{if} (opt.pos)}
\DoxyCodeLine{2617         \mbox{\hyperlink{hex2otf_8c_af3ba1ba33ebe63ba0340842b7f83021c}{positionGlyphs}} (\&font, opt.pos, \&xMin);}
\DoxyCodeLine{2618     \textcolor{keywordflow}{if} (opt.gpos)}
\DoxyCodeLine{2619         \mbox{\hyperlink{hex2otf_8c_a6c1e982fdc6c51b9f84051daa2e71936}{fillGposTable}} (\&font);}
\DoxyCodeLine{2620     \textcolor{keywordflow}{if} (opt.gsub)}
\DoxyCodeLine{2621         \mbox{\hyperlink{hex2otf_8c_a06b8121dea15c8117b7c951ffb22fb7e}{fillGsubTable}} (\&font);}
\DoxyCodeLine{2622     \textcolor{keywordflow}{if} (opt.cff)}
\DoxyCodeLine{2623         \mbox{\hyperlink{hex2otf_8c_a3d62aa29f94c3fa78ca4438739d64a62}{fillCFF}} (\&font, opt.cff, opt.nameStrings);}
\DoxyCodeLine{2624     \textcolor{keywordflow}{if} (opt.truetype)}
\DoxyCodeLine{2625         \mbox{\hyperlink{hex2otf_8c_a326e4fa86eb32bb18e37eab8f495bd2f}{fillTrueType}} (\&font, \&loca, \&maxPoints, \&maxContours);}
\DoxyCodeLine{2626     \textcolor{keywordflow}{if} (opt.blankOutline)}
\DoxyCodeLine{2627         \mbox{\hyperlink{hex2otf_8c_ab37b4f7111692f8d1163bafd2aab831e}{fillBlankOutline}} (\&font);}
\DoxyCodeLine{2628     \textcolor{keywordflow}{if} (opt.bitmap)}
\DoxyCodeLine{2629         \mbox{\hyperlink{hex2otf_8c_afd499a24ff34cb5c19b52df795422c12}{fillBitmap}} (\&font);}
\DoxyCodeLine{2630     \mbox{\hyperlink{hex2otf_8c_a4ac0c02117b703a71bee3dd34e2eb306}{fillHeadTable}} (\&font, loca, xMin);}
\DoxyCodeLine{2631     \mbox{\hyperlink{hex2otf_8c_a28e889c3a36007c2e5d50a498046a6c6}{fillHheaTable}} (\&font, xMin);}
\DoxyCodeLine{2632     \mbox{\hyperlink{hex2otf_8c_aff4f28ce178c84c7365245ec10034433}{fillMaxpTable}} (\&font, opt.cff, maxPoints, maxContours);}
\DoxyCodeLine{2633     \mbox{\hyperlink{hex2otf_8c_ab6e3bb110dc3e55193c344cb7b56e328}{fillOS2Table}} (\&font);}
\DoxyCodeLine{2634     \mbox{\hyperlink{hex2otf_8c_a79d8a322be9d9131b684a9ea67abe05e}{fillNameTable}} (\&font, opt.nameStrings);}
\DoxyCodeLine{2635     \mbox{\hyperlink{hex2otf_8c_a97c9b2ae58f5989d68e639715c3f9df9}{fillHmtxTable}} (\&font);}
\DoxyCodeLine{2636     \mbox{\hyperlink{hex2otf_8c_a6362601eb41d051a103a1d9edcd4f284}{fillCmapTable}} (\&font);}
\DoxyCodeLine{2637     \mbox{\hyperlink{hex2otf_8c_a0ddc03905c4918e04aa1e54a7c1716b1}{fillPostTable}} (\&font);}
\DoxyCodeLine{2638     \mbox{\hyperlink{hex2otf_8c_a049e485562f7f4dfe978c4146ad225b8}{organizeTables}} (\&font, opt.cff);}
\DoxyCodeLine{2639     \mbox{\hyperlink{hex2otf_8c_a074562f0527ff6db8b1b956b9356a315}{writeFont}} (\&font, opt.cff, opt.out);}
\DoxyCodeLine{2640     \textcolor{keywordflow}{return} EXIT\_SUCCESS;}
\DoxyCodeLine{2641 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{hex2otf_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a4741278aec97f2731e9296930eef938e}\label{hex2otf_8c_a4741278aec97f2731e9296930eef938e}} 
\index{hex2otf.c@{hex2otf.c}!matchToken@{matchToken}}
\index{matchToken@{matchToken}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{matchToken()}{matchToken()}}
{\footnotesize\ttfamily const char$\ast$ match\+Token (\begin{DoxyParamCaption}\item[{const char $\ast$}]{operand,  }\item[{const char $\ast$}]{key,  }\item[{char}]{delimiter }\end{DoxyParamCaption})}



Match a command line option with its key for enabling. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em operand} & A pointer to the specified operand. \\
\hline
\mbox{\texttt{ in}}  & {\em key} & Pointer to the option structure. \\
\hline
\mbox{\texttt{ in}}  & {\em delimeter} & The delimiter to end searching. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the first character of the desired option. 
\end{DoxyReturn}


Definition at line 2470 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2471 \{}
\DoxyCodeLine{2472     \textcolor{keywordflow}{while} (*key)}
\DoxyCodeLine{2473         \textcolor{keywordflow}{if} (*operand++ != *key++)}
\DoxyCodeLine{2474             \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{2475     \textcolor{keywordflow}{if} (!*operand || *operand++ == delimiter)}
\DoxyCodeLine{2476         \textcolor{keywordflow}{return} operand;}
\DoxyCodeLine{2477     \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{2478 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{hex2otf_8c_a4741278aec97f2731e9296930eef938e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}\label{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}} 
\index{hex2otf.c@{hex2otf.c}!newBuffer@{newBuffer}}
\index{newBuffer@{newBuffer}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{newBuffer()}{newBuffer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structBuffer}{Buffer}}$\ast$ new\+Buffer (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{initial\+Capacity }\end{DoxyParamCaption})}



Create a new buffer. 

This function creates a new buffer array of type \mbox{\hyperlink{structBuffer}{Buffer}}, with an initial size of initial\+Capacity elements.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em initial\+Capacity} & The initial number of elements in the buffer. \\
\hline
\end{DoxyParams}


Definition at line 188 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{189 \{}
\DoxyCodeLine{190     assert (initialCapacity > 0);}
\DoxyCodeLine{191     \mbox{\hyperlink{structBuffer}{Buffer}} *buf = NULL;}
\DoxyCodeLine{192     \textcolor{keywordtype}{size\_t} sentinel = \mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}};}
\DoxyCodeLine{193     \textcolor{keywordflow}{do}}
\DoxyCodeLine{194     \{}
\DoxyCodeLine{195         \textcolor{keywordflow}{if} (\mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}} == \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}})}
\DoxyCodeLine{196             \mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}} = 0;}
\DoxyCodeLine{197         \textcolor{keywordflow}{if} (\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}}[\mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}}].capacity == 0)}
\DoxyCodeLine{198         \{}
\DoxyCodeLine{199             buf = \&\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}}[\mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}}++];}
\DoxyCodeLine{200             \textcolor{keywordflow}{break};}
\DoxyCodeLine{201         \}}
\DoxyCodeLine{202     \} \textcolor{keywordflow}{while} (++\mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}} != sentinel);}
\DoxyCodeLine{203     \textcolor{keywordflow}{if} (!buf) \textcolor{comment}{// no existing buffer available}}
\DoxyCodeLine{204     \{}
\DoxyCodeLine{205         \textcolor{keywordtype}{size\_t} newSize = \textcolor{keyword}{sizeof} (\mbox{\hyperlink{hex2otf_8c_a7feadaf37f40473cfc76921f8754c0f7}{Buffer}}) * \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}} * 2;}
\DoxyCodeLine{206         \textcolor{keywordtype}{void} *extended = realloc (\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}}, newSize);}
\DoxyCodeLine{207         \textcolor{keywordflow}{if} (!extended)}
\DoxyCodeLine{208             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to create new buffers."{}});}
\DoxyCodeLine{209         \mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}} = extended;}
\DoxyCodeLine{210         memset (\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}} + \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}}, 0, \textcolor{keyword}{sizeof} (\mbox{\hyperlink{structBuffer}{Buffer}}) * \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}});}
\DoxyCodeLine{211         buf = \&\mbox{\hyperlink{hex2otf_8c_a0524ff7f6df40782a03af6d8efd1cf45}{allBuffers}}[\mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}}];}
\DoxyCodeLine{212         \mbox{\hyperlink{hex2otf_8c_a11ea3753e3a4f90123b78a4b1f731bd4}{nextBufferIndex}} = \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}} + 1;}
\DoxyCodeLine{213         \mbox{\hyperlink{hex2otf_8c_a91d9682686a5100fae5b0cf362940e14}{bufferCount}} *= 2;}
\DoxyCodeLine{214     \}}
\DoxyCodeLine{215     buf-\/>begin = malloc (initialCapacity);}
\DoxyCodeLine{216     \textcolor{keywordflow}{if} (!buf-\/>begin)}
\DoxyCodeLine{217         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to allocate \%zu bytes of memory."{}}, initialCapacity);}
\DoxyCodeLine{218     buf-\/>capacity = initialCapacity;}
\DoxyCodeLine{219     buf-\/>next = buf-\/>begin;}
\DoxyCodeLine{220     buf-\/>end = buf-\/>begin + initialCapacity;}
\DoxyCodeLine{221     \textcolor{keywordflow}{return} buf;}
\DoxyCodeLine{222 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a049e485562f7f4dfe978c4146ad225b8}\label{hex2otf_8c_a049e485562f7f4dfe978c4146ad225b8}} 
\index{hex2otf.c@{hex2otf.c}!organizeTables@{organizeTables}}
\index{organizeTables@{organizeTables}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{organizeTables()}{organizeTables()}}
{\footnotesize\ttfamily void organize\+Tables (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{bool}]{is\+CFF }\end{DoxyParamCaption})}



Sort tables according to Open\+Type recommendations. 

The various tables in a font are sorted in an order recommended for True\+Type font files.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The font in which to sort tables. \\
\hline
\mbox{\texttt{ in}}  & {\em is\+CFF} & True iff Compact \mbox{\hyperlink{structFont}{Font}} Format (CFF) is being used. \\
\hline
\end{DoxyParams}


Definition at line 711 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{712 \{}
\DoxyCodeLine{713     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\textcolor{keyword}{const} cffOrder[] = \{\textcolor{stringliteral}{"{}head"{}},\textcolor{stringliteral}{"{}hhea"{}},\textcolor{stringliteral}{"{}maxp"{}},\textcolor{stringliteral}{"{}OS/2"{}},\textcolor{stringliteral}{"{}name"{}},}
\DoxyCodeLine{714         \textcolor{stringliteral}{"{}cmap"{}},\textcolor{stringliteral}{"{}post"{}},\textcolor{stringliteral}{"{}CFF "{}},NULL\};}
\DoxyCodeLine{715     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\textcolor{keyword}{const} truetypeOrder[] = \{\textcolor{stringliteral}{"{}head"{}},\textcolor{stringliteral}{"{}hhea"{}},\textcolor{stringliteral}{"{}maxp"{}},\textcolor{stringliteral}{"{}OS/2"{}},}
\DoxyCodeLine{716         \textcolor{stringliteral}{"{}hmtx"{}},\textcolor{stringliteral}{"{}LTSH"{}},\textcolor{stringliteral}{"{}VDMX"{}},\textcolor{stringliteral}{"{}hdmx"{}},\textcolor{stringliteral}{"{}cmap"{}},\textcolor{stringliteral}{"{}fpgm"{}},\textcolor{stringliteral}{"{}prep"{}},\textcolor{stringliteral}{"{}cvt "{}},\textcolor{stringliteral}{"{}loca"{}},}
\DoxyCodeLine{717         \textcolor{stringliteral}{"{}glyf"{}},\textcolor{stringliteral}{"{}kern"{}},\textcolor{stringliteral}{"{}name"{}},\textcolor{stringliteral}{"{}post"{}},\textcolor{stringliteral}{"{}gasp"{}},\textcolor{stringliteral}{"{}PCLT"{}},\textcolor{stringliteral}{"{}DSIG"{}},NULL\};}
\DoxyCodeLine{718     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\textcolor{keyword}{const} *\textcolor{keyword}{const} order = isCFF ? cffOrder : truetypeOrder;}
\DoxyCodeLine{719     \mbox{\hyperlink{structTable}{Table}} *unordered = getBufferHead (font-\/>tables);}
\DoxyCodeLine{720     \textcolor{keyword}{const} \mbox{\hyperlink{structTable}{Table}} *\textcolor{keyword}{const} tablesEnd = getBufferTail (font-\/>tables);}
\DoxyCodeLine{721     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *\textcolor{keyword}{const} *p = order; *p; p++)}
\DoxyCodeLine{722     \{}
\DoxyCodeLine{723         uint\_fast32\_t tag = tagAsU32 (*p);}
\DoxyCodeLine{724         \textcolor{keywordflow}{for} (\mbox{\hyperlink{structTable}{Table}} *t = unordered; t < tablesEnd; t++)}
\DoxyCodeLine{725         \{}
\DoxyCodeLine{726             \textcolor{keywordflow}{if} (t-\/>tag != tag)}
\DoxyCodeLine{727                 \textcolor{keywordflow}{continue};}
\DoxyCodeLine{728             \textcolor{keywordflow}{if} (t != unordered)}
\DoxyCodeLine{729             \{}
\DoxyCodeLine{730                 \mbox{\hyperlink{structTable}{Table}} temp = *unordered;}
\DoxyCodeLine{731                 *unordered = *t;}
\DoxyCodeLine{732                 *t = temp;}
\DoxyCodeLine{733             \}}
\DoxyCodeLine{734             unordered++;}
\DoxyCodeLine{735             \textcolor{keywordflow}{break};}
\DoxyCodeLine{736         \}}
\DoxyCodeLine{737     \}}
\DoxyCodeLine{738 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{hex2otf_8c_a049e485562f7f4dfe978c4146ad225b8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ac2eec01939cae967aa9882b2517288a1}\label{hex2otf_8c_ac2eec01939cae967aa9882b2517288a1}} 
\index{hex2otf.c@{hex2otf.c}!parseOptions@{parseOptions}}
\index{parseOptions@{parseOptions}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{parseOptions()}{parseOptions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structOptions}{Options}} parse\+Options (\begin{DoxyParamCaption}\item[{char $\ast$const}]{argv\mbox{[}const \mbox{]} }\end{DoxyParamCaption})}



Parse command line options. 

\begin{DoxyVerb}Option         Data Type      Description
------         ---------      -----------
truetype       bool           Generate TrueType outlines
blankOutline   bool           Generate blank outlines
bitmap         bool           Generate embedded bitmap
gpos           bool           Generate a dummy GPOS table
gsub           bool           Generate a dummy GSUB table
cff            int            Generate CFF 1 or CFF 2 outlines
hex            const char *   Name of Unifont .hex file
pos            const char *   Name of Unifont combining data file
out            const char *   Name of output font file
nameStrings    NameStrings    Array of TrueType font Name IDs
\end{DoxyVerb}
 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em argv} & Pointer to array of command line options. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Data structure to hold requested command line options. 
\end{DoxyReturn}


Definition at line 2500 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2501 \{}
\DoxyCodeLine{2502     \mbox{\hyperlink{structOptions}{Options}} opt = \{0\}; \textcolor{comment}{// all options default to 0, false and NULL}}
\DoxyCodeLine{2503     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *format = NULL;}
\DoxyCodeLine{2504     \textcolor{keyword}{struct }StringArg}
\DoxyCodeLine{2505     \{}
\DoxyCodeLine{2506         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\textcolor{keyword}{const} key;}
\DoxyCodeLine{2507         \textcolor{keyword}{const} \textcolor{keywordtype}{char} **\textcolor{keyword}{const} value;}
\DoxyCodeLine{2508     \} strArgs[] =}
\DoxyCodeLine{2509     \{}
\DoxyCodeLine{2510         \{\textcolor{stringliteral}{"{}hex"{}}, \&opt.hex\},}
\DoxyCodeLine{2511         \{\textcolor{stringliteral}{"{}pos"{}}, \&opt.pos\},}
\DoxyCodeLine{2512         \{\textcolor{stringliteral}{"{}out"{}}, \&opt.out\},}
\DoxyCodeLine{2513         \{\textcolor{stringliteral}{"{}format"{}}, \&format\},}
\DoxyCodeLine{2514         \{NULL, NULL\} \textcolor{comment}{// sentinel}}
\DoxyCodeLine{2515     \};}
\DoxyCodeLine{2516     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{char} *\textcolor{keyword}{const} *argp = argv + 1; *argp; argp++)}
\DoxyCodeLine{2517     \{}
\DoxyCodeLine{2518         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\textcolor{keyword}{const} arg = *argp;}
\DoxyCodeLine{2519         \textcolor{keyword}{struct }StringArg *p;}
\DoxyCodeLine{2520         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *value = NULL;}
\DoxyCodeLine{2521         \textcolor{keywordflow}{if} (strcmp (arg, \textcolor{stringliteral}{"{}-\/-\/help"{}}) == 0)}
\DoxyCodeLine{2522             \mbox{\hyperlink{hex2otf_8c_a0d20b69b0ad703df78459e1033d5c1d4}{printHelp}} ();}
\DoxyCodeLine{2523         \textcolor{keywordflow}{if} (strcmp (arg, \textcolor{stringliteral}{"{}-\/-\/version"{}}) == 0)}
\DoxyCodeLine{2524             \mbox{\hyperlink{hex2otf_8c_a9c4b081f1e1ad60def15811c71a936f2}{printVersion}} ();}
\DoxyCodeLine{2525         \textcolor{keywordflow}{for} (p = strArgs; p-\/>key; p++)}
\DoxyCodeLine{2526             \textcolor{keywordflow}{if} ((value = \mbox{\hyperlink{hex2otf_8c_a4741278aec97f2731e9296930eef938e}{matchToken}} (arg, p-\/>key, \textcolor{charliteral}{'='})))}
\DoxyCodeLine{2527                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{2528         \textcolor{keywordflow}{if} (p-\/>key)}
\DoxyCodeLine{2529         \{}
\DoxyCodeLine{2530             \textcolor{keywordflow}{if} (!*value)}
\DoxyCodeLine{2531                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Empty argument: '\%s'."{}}, p-\/>key);}
\DoxyCodeLine{2532             \textcolor{keywordflow}{if} (*p-\/>value)}
\DoxyCodeLine{2533                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Duplicate argument: '\%s'."{}}, p-\/>key);}
\DoxyCodeLine{2534             *p-\/>value = value;}
\DoxyCodeLine{2535         \}}
\DoxyCodeLine{2536         \textcolor{keywordflow}{else} \textcolor{comment}{// shall be a name string}}
\DoxyCodeLine{2537         \{}
\DoxyCodeLine{2538             \textcolor{keywordtype}{char} *endptr;}
\DoxyCodeLine{2539             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{id} = strtoul (arg, \&endptr, 10);}
\DoxyCodeLine{2540             \textcolor{keywordflow}{if} (endptr == arg || \textcolor{keywordtype}{id} >= \mbox{\hyperlink{hex2otf_8c_a06a292e7a76c13c1fa509187a7e6577a}{MAX\_NAME\_IDS}} || *endptr != \textcolor{charliteral}{'='})}
\DoxyCodeLine{2541                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Invalid argument: '\%s'."{}}, arg);}
\DoxyCodeLine{2542             endptr++; \textcolor{comment}{// skip '='}}
\DoxyCodeLine{2543             \textcolor{keywordflow}{if} (opt.nameStrings[\textcolor{keywordtype}{id}])}
\DoxyCodeLine{2544                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Duplicate name ID: \%lu."{}}, \textcolor{keywordtype}{id});}
\DoxyCodeLine{2545             opt.nameStrings[id] = endptr;}
\DoxyCodeLine{2546         \}}
\DoxyCodeLine{2547     \}}
\DoxyCodeLine{2548     \textcolor{keywordflow}{if} (!opt.hex)}
\DoxyCodeLine{2549         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Hex file is not specified."{}});}
\DoxyCodeLine{2550     \textcolor{keywordflow}{if} (opt.pos \&\& opt.pos[0] == \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{2551         opt.pos = NULL; \textcolor{comment}{// Position file is optional. Empty path means none.}}
\DoxyCodeLine{2552     \textcolor{keywordflow}{if} (!opt.out)}
\DoxyCodeLine{2553         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Output file is not specified."{}});}
\DoxyCodeLine{2554     \textcolor{keywordflow}{if} (!format)}
\DoxyCodeLine{2555         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Format is not specified."{}});}
\DoxyCodeLine{2556     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structNamePair}{NamePair}} *p = \mbox{\hyperlink{hex2otf_8h_a7932112a8cd522740aa941c15b79bd16}{defaultNames}}; p-\/>str; p++)}
\DoxyCodeLine{2557         \textcolor{keywordflow}{if} (!opt.nameStrings[p-\/>id])}
\DoxyCodeLine{2558             opt.nameStrings[p-\/>id] = p-\/>str;}
\DoxyCodeLine{2559     \textcolor{keywordtype}{bool} cff = \textcolor{keyword}{false}, cff2 = \textcolor{keyword}{false};}
\DoxyCodeLine{2560     \textcolor{keyword}{struct }Symbol}
\DoxyCodeLine{2561     \{}
\DoxyCodeLine{2562         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\textcolor{keyword}{const} key;}
\DoxyCodeLine{2563         \textcolor{keywordtype}{bool} *\textcolor{keyword}{const} found;}
\DoxyCodeLine{2564     \} symbols[] =}
\DoxyCodeLine{2565     \{}
\DoxyCodeLine{2566         \{\textcolor{stringliteral}{"{}cff"{}}, \&cff\},}
\DoxyCodeLine{2567         \{\textcolor{stringliteral}{"{}cff2"{}}, \&cff2\},}
\DoxyCodeLine{2568         \{\textcolor{stringliteral}{"{}truetype"{}}, \&opt.truetype\},}
\DoxyCodeLine{2569         \{\textcolor{stringliteral}{"{}blank"{}}, \&opt.blankOutline\},}
\DoxyCodeLine{2570         \{\textcolor{stringliteral}{"{}bitmap"{}}, \&opt.bitmap\},}
\DoxyCodeLine{2571         \{\textcolor{stringliteral}{"{}gpos"{}}, \&opt.gpos\},}
\DoxyCodeLine{2572         \{\textcolor{stringliteral}{"{}gsub"{}}, \&opt.gsub\},}
\DoxyCodeLine{2573         \{NULL, NULL\} \textcolor{comment}{// sentinel}}
\DoxyCodeLine{2574     \};}
\DoxyCodeLine{2575     \textcolor{keywordflow}{while} (*format)}
\DoxyCodeLine{2576     \{}
\DoxyCodeLine{2577         \textcolor{keyword}{const} \textcolor{keyword}{struct }Symbol *p;}
\DoxyCodeLine{2578         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *next = NULL;}
\DoxyCodeLine{2579         \textcolor{keywordflow}{for} (p = symbols; p-\/>key; p++)}
\DoxyCodeLine{2580             \textcolor{keywordflow}{if} ((next = \mbox{\hyperlink{hex2otf_8c_a4741278aec97f2731e9296930eef938e}{matchToken}} (format, p-\/>key, \textcolor{charliteral}{','})))}
\DoxyCodeLine{2581                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{2582         \textcolor{keywordflow}{if} (!p-\/>key)}
\DoxyCodeLine{2583             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Invalid format."{}});}
\DoxyCodeLine{2584         *p-\/>found = \textcolor{keyword}{true};}
\DoxyCodeLine{2585         format = next;}
\DoxyCodeLine{2586     \}}
\DoxyCodeLine{2587     \textcolor{keywordflow}{if} (cff + cff2 + opt.truetype + opt.blankOutline > 1)}
\DoxyCodeLine{2588         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}At most one outline format can be accepted."{}});}
\DoxyCodeLine{2589     \textcolor{keywordflow}{if} (!(cff || cff2 || opt.truetype || opt.bitmap))}
\DoxyCodeLine{2590         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Invalid format."{}});}
\DoxyCodeLine{2591     opt.cff = cff + cff2 * 2;}
\DoxyCodeLine{2592     \textcolor{keywordflow}{return} opt;}
\DoxyCodeLine{2593 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{hex2otf_8c_ac2eec01939cae967aa9882b2517288a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=229pt]{hex2otf_8c_ac2eec01939cae967aa9882b2517288a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_af3ba1ba33ebe63ba0340842b7f83021c}\label{hex2otf_8c_af3ba1ba33ebe63ba0340842b7f83021c}} 
\index{hex2otf.c@{hex2otf.c}!positionGlyphs@{positionGlyphs}}
\index{positionGlyphs@{positionGlyphs}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{positionGlyphs()}{positionGlyphs()}}
{\footnotesize\ttfamily void position\+Glyphs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{const char $\ast$}]{file\+Name,  }\item[{\mbox{\hyperlink{hex2otf_8c_ab9f46992237e1552d3ae221b2a5e95ff}{pixels\+\_\+t}} $\ast$}]{x\+Min }\end{DoxyParamCaption})}



Position a glyph within a 16-\/by-\/16 pixel bounding box. 

Position a glyph within the 16-\/by-\/16 pixel drawing area and note whether or not the glyph is a combining character.

N.\+B.\+: Glyphs must be sorted by code point before calling this function.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & \mbox{\hyperlink{structFont}{Font}} data structure pointer to store glyphs. \\
\hline
\mbox{\texttt{ in}}  & {\em file\+Name} & Name of glyph file to read. \\
\hline
\mbox{\texttt{ in}}  & {\em x\+Min} & Minimum x-\/axis value (for left side bearing). \\
\hline
\end{DoxyParams}


Definition at line 1061 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1062 \{}
\DoxyCodeLine{1063     *xMin = 0;}
\DoxyCodeLine{1064     FILE *file = fopen (fileName, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{1065     \textcolor{keywordflow}{if} (!file)}
\DoxyCodeLine{1066         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to open file '\%s'."{}}, fileName);}
\DoxyCodeLine{1067     \mbox{\hyperlink{structGlyph}{Glyph}} *glyphs = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{1068     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} endGlyph = glyphs + font-\/>glyphCount;}
\DoxyCodeLine{1069     \mbox{\hyperlink{structGlyph}{Glyph}} *nextGlyph = \&glyphs[1]; \textcolor{comment}{// predict and avoid search}}
\DoxyCodeLine{1070     \textcolor{keywordflow}{for} (;;)}
\DoxyCodeLine{1071     \{}
\DoxyCodeLine{1072         uint\_fast32\_t codePoint;}
\DoxyCodeLine{1073         \textcolor{keywordflow}{if} (\mbox{\hyperlink{hex2otf_8c_ae28f2f636e4d3dd3b5784a3bc3f92b58}{readCodePoint}} (\&codePoint, fileName, file))}
\DoxyCodeLine{1074             \textcolor{keywordflow}{break};}
\DoxyCodeLine{1075         \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = nextGlyph;}
\DoxyCodeLine{1076         \textcolor{keywordflow}{if} (glyph == endGlyph || glyph-\/>\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} != codePoint)}
\DoxyCodeLine{1077         \{}
\DoxyCodeLine{1078             \textcolor{comment}{// Prediction failed. Search.}}
\DoxyCodeLine{1079             \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} key = \{ .\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} = codePoint \};}
\DoxyCodeLine{1080             glyph = bsearch (\&key, glyphs + 1, font-\/>glyphCount -\/ 1,}
\DoxyCodeLine{1081                 \textcolor{keyword}{sizeof} key, \mbox{\hyperlink{hex2otf_8c_a0d187cc87528ef35478afd7a68309f08}{byCodePoint}});}
\DoxyCodeLine{1082             \textcolor{keywordflow}{if} (!glyph)}
\DoxyCodeLine{1083                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Glyph "{}}\mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\_CP}}\textcolor{stringliteral}{"{} is positioned but not defined."{}},}
\DoxyCodeLine{1084                     codePoint);}
\DoxyCodeLine{1085         \}}
\DoxyCodeLine{1086         nextGlyph = glyph + 1;}
\DoxyCodeLine{1087         \textcolor{keywordtype}{char} s[8];}
\DoxyCodeLine{1088         \textcolor{keywordflow}{if} (!fgets (s, \textcolor{keyword}{sizeof} s, file))}
\DoxyCodeLine{1089             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}\%s: Read error."{}}, fileName);}
\DoxyCodeLine{1090         \textcolor{keywordtype}{char} *end;}
\DoxyCodeLine{1091         \textcolor{keyword}{const} \textcolor{keywordtype}{long} value = strtol (s, \&end, 10);}
\DoxyCodeLine{1092         \textcolor{keywordflow}{if} (*end != \textcolor{charliteral}{'\(\backslash\)n'} \&\& *end != \textcolor{charliteral}{'\(\backslash\)0'})}
\DoxyCodeLine{1093             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Position of glyph "{}}\mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\_CP}}\textcolor{stringliteral}{"{} is invalid."{}}, codePoint);}
\DoxyCodeLine{1094         \textcolor{comment}{// Currently no glyph is moved to the right,}}
\DoxyCodeLine{1095         \textcolor{comment}{// so positive position is considered out of range.}}
\DoxyCodeLine{1096         \textcolor{comment}{// If this limit is to be lifted,}}
\DoxyCodeLine{1097         \textcolor{comment}{// 'xMax' of bounding box in 'head' table shall also be updated.}}
\DoxyCodeLine{1098         \textcolor{keywordflow}{if} (value < -\/GLYPH\_MAX\_WIDTH || value > 0)}
\DoxyCodeLine{1099             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Position of glyph "{}}\mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\_CP}}\textcolor{stringliteral}{"{} is out of range."{}}, codePoint);}
\DoxyCodeLine{1100         glyph-\/>\mbox{\hyperlink{structGlyph_ada6b8b4b9419096c413b5a29dbc54aac}{combining}} = \textcolor{keyword}{true};}
\DoxyCodeLine{1101         glyph-\/>\mbox{\hyperlink{structGlyph_ac113da35f4193641855eaf51547f9b43}{pos}} = value;}
\DoxyCodeLine{1102         glyph-\/>\mbox{\hyperlink{structGlyph_a7fb4dc03b71777de880164eee4ffbc51}{lsb}} = value; \textcolor{comment}{// updated during outline generation}}
\DoxyCodeLine{1103         \textcolor{keywordflow}{if} (value < *xMin)}
\DoxyCodeLine{1104             *xMin = value;}
\DoxyCodeLine{1105     \}}
\DoxyCodeLine{1106     fclose (file);}
\DoxyCodeLine{1107 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=226pt]{hex2otf_8c_af3ba1ba33ebe63ba0340842b7f83021c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{hex2otf_8c_af3ba1ba33ebe63ba0340842b7f83021c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a97af00050b8fd6b7e7b81c7027e4c8e6}\label{hex2otf_8c_a97af00050b8fd6b7e7b81c7027e4c8e6}} 
\index{hex2otf.c@{hex2otf.c}!prepareOffsets@{prepareOffsets}}
\index{prepareOffsets@{prepareOffsets}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{prepareOffsets()}{prepareOffsets()}}
{\footnotesize\ttfamily void prepare\+Offsets (\begin{DoxyParamCaption}\item[{size\+\_\+t $\ast$}]{sizes }\end{DoxyParamCaption})}



Prepare 32-\/bit glyph offsets in a font table. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em sizes} & Array of glyph sizes, for offset calculations. \\
\hline
\end{DoxyParams}


Definition at line 1275 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1276 \{}
\DoxyCodeLine{1277     \textcolor{keywordtype}{size\_t} *p = sizes;}
\DoxyCodeLine{1278     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} *i = sizes + 1; *i; i++)}
\DoxyCodeLine{1279         *i += *p++;}
\DoxyCodeLine{1280     \textcolor{keywordflow}{if} (*p > 2147483647U) \textcolor{comment}{// offset not representable}}
\DoxyCodeLine{1281         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}CFF table is too large."{}});}
\DoxyCodeLine{1282 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=225pt]{hex2otf_8c_a97af00050b8fd6b7e7b81c7027e4c8e6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_aa47cc913bb5b8dd3b3665ee5a587d6f7}\label{hex2otf_8c_aa47cc913bb5b8dd3b3665ee5a587d6f7}} 
\index{hex2otf.c@{hex2otf.c}!prepareStringIndex@{prepareStringIndex}}
\index{prepareStringIndex@{prepareStringIndex}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{prepareStringIndex()}{prepareStringIndex()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structBuffer}{Buffer}}$\ast$ prepare\+String\+Index (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{hex2otf_8c_a07c4a43c1a36ee79c8a163298ff9adac}{Name\+Strings}}}]{names }\end{DoxyParamCaption})}



Prepare a font name string index. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em names} & List of name strings. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to a \mbox{\hyperlink{structBuffer}{Buffer}} struct containing the string names. 
\end{DoxyReturn}
Get the number of elements in array char $\ast$strings\mbox{[}\mbox{]}.

Definition at line 1291 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1292 \{}
\DoxyCodeLine{1293     \mbox{\hyperlink{structBuffer}{Buffer}} *buf = \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (256);}
\DoxyCodeLine{1294     assert (names[6]);}
\DoxyCodeLine{1295     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *strings[] = \{\textcolor{stringliteral}{"{}Adobe"{}}, \textcolor{stringliteral}{"{}Identity"{}}, names[6]\};\textcolor{comment}{}}
\DoxyCodeLine{1296 \textcolor{comment}{    /// Get the number of elements in array char *strings[].}}
\DoxyCodeLine{1297 \textcolor{comment}{}\textcolor{preprocessor}{    \#define stringCount (sizeof strings / sizeof *strings)}}
\DoxyCodeLine{1298     \mbox{\hyperlink{hex2otf_8c_abce67139ad0bc979ef080a694e60fb36}{static\_assert}} (stringCount <= \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}}, \textcolor{stringliteral}{"{}too many strings"{}});}
\DoxyCodeLine{1299     \textcolor{keywordtype}{size\_t} offset = 1;}
\DoxyCodeLine{1300     \textcolor{keywordtype}{size\_t} lengths[stringCount];}
\DoxyCodeLine{1301     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < stringCount; i++)}
\DoxyCodeLine{1302     \{}
\DoxyCodeLine{1303         assert (strings[i]);}
\DoxyCodeLine{1304         lengths[i] = strlen (strings[i]);}
\DoxyCodeLine{1305         offset += lengths[i];}
\DoxyCodeLine{1306     \}}
\DoxyCodeLine{1307     \textcolor{keywordtype}{int} offsetSize = 1 + (offset > 0xff)}
\DoxyCodeLine{1308                        + (offset > 0xffff)}
\DoxyCodeLine{1309                        + (offset > 0xffffff);}
\DoxyCodeLine{1310     \mbox{\hyperlink{hex2otf_8c_a07b29528c561e5852a228c98391225f7}{cacheU16}} (buf, stringCount); \textcolor{comment}{// count}}
\DoxyCodeLine{1311     \mbox{\hyperlink{hex2otf_8c_a84d7310553d31f4ec587dc001f472834}{cacheU8}} (buf, offsetSize); \textcolor{comment}{// offSize}}
\DoxyCodeLine{1312     cacheU (buf, offset = 1, offsetSize); \textcolor{comment}{// offset[0]}}
\DoxyCodeLine{1313     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < stringCount; i++)}
\DoxyCodeLine{1314         cacheU (buf, offset += lengths[i], offsetSize); \textcolor{comment}{// offset[i + 1]}}
\DoxyCodeLine{1315     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < stringCount; i++)}
\DoxyCodeLine{1316         \mbox{\hyperlink{hex2otf_8c_a927c31a7e187d15a70667ce6b0ef296a}{cacheBytes}} (buf, strings[i], lengths[i]);}
\DoxyCodeLine{1317 \textcolor{preprocessor}{    \#undef stringCount}}
\DoxyCodeLine{1318     \textcolor{keywordflow}{return} buf;}
\DoxyCodeLine{1319 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{hex2otf_8c_aa47cc913bb5b8dd3b3665ee5a587d6f7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=334pt]{hex2otf_8c_aa47cc913bb5b8dd3b3665ee5a587d6f7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a0d20b69b0ad703df78459e1033d5c1d4}\label{hex2otf_8c_a0d20b69b0ad703df78459e1033d5c1d4}} 
\index{hex2otf.c@{hex2otf.c}!printHelp@{printHelp}}
\index{printHelp@{printHelp}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{printHelp()}{printHelp()}}
{\footnotesize\ttfamily void print\+Help (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Print help message to stdout and then exit. 

Print help message if invoked with the \char`\"{}-\/-\/help\char`\"{} option, and then exit successfully. 

Definition at line 2426 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2426              \{}
\DoxyCodeLine{2427     printf (\textcolor{stringliteral}{"{}Synopsis: hex2otf <options>:\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{2428     printf (\textcolor{stringliteral}{"{}    hex=<filename>        Specify Unifont .hex input file.\(\backslash\)n"{}});}
\DoxyCodeLine{2429     printf (\textcolor{stringliteral}{"{}    pos=<filename>        Specify combining file. (Optional)\(\backslash\)n"{}});}
\DoxyCodeLine{2430     printf (\textcolor{stringliteral}{"{}    out=<filename>        Specify output font file.\(\backslash\)n"{}});}
\DoxyCodeLine{2431     printf (\textcolor{stringliteral}{"{}    format=<f1>,<f2>,...  Specify font format(s); values:\(\backslash\)n"{}});}
\DoxyCodeLine{2432     printf (\textcolor{stringliteral}{"{}                             cff\(\backslash\)n"{}});}
\DoxyCodeLine{2433     printf (\textcolor{stringliteral}{"{}                             cff2\(\backslash\)n"{}});}
\DoxyCodeLine{2434     printf (\textcolor{stringliteral}{"{}                             truetype\(\backslash\)n"{}});}
\DoxyCodeLine{2435     printf (\textcolor{stringliteral}{"{}                             blank\(\backslash\)n"{}});}
\DoxyCodeLine{2436     printf (\textcolor{stringliteral}{"{}                             bitmap\(\backslash\)n"{}});}
\DoxyCodeLine{2437     printf (\textcolor{stringliteral}{"{}                             gpos\(\backslash\)n"{}});}
\DoxyCodeLine{2438     printf (\textcolor{stringliteral}{"{}                             gsub\(\backslash\)n"{}});}
\DoxyCodeLine{2439     printf (\textcolor{stringliteral}{"{}\(\backslash\)nExample:\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{2440     printf (\textcolor{stringliteral}{"{}    hex2otf hex=Myfont.hex out=Myfont.otf format=cff\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{2441     printf (\textcolor{stringliteral}{"{}For more information, consult the hex2otf(1) man page.\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{2442 }
\DoxyCodeLine{2443     exit (EXIT\_SUCCESS);}
\DoxyCodeLine{2444 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{hex2otf_8c_a0d20b69b0ad703df78459e1033d5c1d4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a9c4b081f1e1ad60def15811c71a936f2}\label{hex2otf_8c_a9c4b081f1e1ad60def15811c71a936f2}} 
\index{hex2otf.c@{hex2otf.c}!printVersion@{printVersion}}
\index{printVersion@{printVersion}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{printVersion()}{printVersion()}}
{\footnotesize\ttfamily void print\+Version (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Print program version string on stdout. 

Print program version if invoked with the \char`\"{}-\/-\/version\char`\"{} option, and then exit successfully. 

Definition at line 2407 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{2407                 \{}
\DoxyCodeLine{2408     printf (\textcolor{stringliteral}{"{}hex2otf (GNU Unifont) \%s\(\backslash\)n"{}}, \mbox{\hyperlink{hex2otf_8c_a1c6d5de492ac61ad29aec7aa9a436bbf}{VERSION}});}
\DoxyCodeLine{2409     printf (\textcolor{stringliteral}{"{}Copyright \(\backslash\)u00A9 2022 \(\backslash\)u4F55\(\backslash\)u5FD7\(\backslash\)u7FD4 (He Zhixiang)\(\backslash\)n"{}});}
\DoxyCodeLine{2410     printf (\textcolor{stringliteral}{"{}License GPLv2+: GNU GPL version 2 or later\(\backslash\)n"{}});}
\DoxyCodeLine{2411     printf (\textcolor{stringliteral}{"{}<https://gnu.org/licenses/gpl.html>\(\backslash\)n"{}});}
\DoxyCodeLine{2412     printf (\textcolor{stringliteral}{"{}This is free software: you are free to change and\(\backslash\)n"{}});}
\DoxyCodeLine{2413     printf (\textcolor{stringliteral}{"{}redistribute it.  There is NO WARRANTY, to the extent\(\backslash\)n"{}});}
\DoxyCodeLine{2414     printf (\textcolor{stringliteral}{"{}permitted by law.\(\backslash\)n"{}});}
\DoxyCodeLine{2415 }
\DoxyCodeLine{2416     exit (EXIT\_SUCCESS);}
\DoxyCodeLine{2417 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=333pt]{hex2otf_8c_a9c4b081f1e1ad60def15811c71a936f2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ae28f2f636e4d3dd3b5784a3bc3f92b58}\label{hex2otf_8c_ae28f2f636e4d3dd3b5784a3bc3f92b58}} 
\index{hex2otf.c@{hex2otf.c}!readCodePoint@{readCodePoint}}
\index{readCodePoint@{readCodePoint}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{readCodePoint()}{readCodePoint()}}
{\footnotesize\ttfamily bool read\+Code\+Point (\begin{DoxyParamCaption}\item[{uint\+\_\+fast32\+\_\+t $\ast$}]{code\+Point,  }\item[{const char $\ast$}]{file\+Name,  }\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})}



Read up to 6 hexadecimal digits and a colon from file. 

This function reads up to 6 hexadecimal digits followed by a colon from a file.

If the end of the file is reached, the function returns true. The file name is provided to include in an error message if the end of file was reached unexpectedly.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em code\+Point} & The Unicode code point. \\
\hline
\mbox{\texttt{ in}}  & {\em file\+Name} & The name of the input file. \\
\hline
\mbox{\texttt{ in}}  & {\em file} & Pointer to the input file stream. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if at end of file, false otherwise. 
\end{DoxyReturn}


Definition at line 919 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{920 \{}
\DoxyCodeLine{921     *codePoint = 0;}
\DoxyCodeLine{922     uint\_fast8\_t digitCount = 0;}
\DoxyCodeLine{923     \textcolor{keywordflow}{for} (;;)}
\DoxyCodeLine{924     \{}
\DoxyCodeLine{925         \textcolor{keywordtype}{int} c = getc (file);}
\DoxyCodeLine{926         \textcolor{keywordflow}{if} (isxdigit (c) \&\& ++digitCount <= 6)}
\DoxyCodeLine{927         \{}
\DoxyCodeLine{928             *codePoint = (*codePoint << 4) | nibbleValue (c);}
\DoxyCodeLine{929             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{930         \}}
\DoxyCodeLine{931         \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{':'} \&\& digitCount > 0)}
\DoxyCodeLine{932             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{933         \textcolor{keywordflow}{if} (c == EOF)}
\DoxyCodeLine{934         \{}
\DoxyCodeLine{935             \textcolor{keywordflow}{if} (digitCount == 0)}
\DoxyCodeLine{936                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{937             \textcolor{keywordflow}{if} (feof (file))}
\DoxyCodeLine{938                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}\%s: Unexpected end of file."{}}, fileName);}
\DoxyCodeLine{939             \textcolor{keywordflow}{else}}
\DoxyCodeLine{940                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}\%s: Read error."{}}, fileName);}
\DoxyCodeLine{941         \}}
\DoxyCodeLine{942         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}\%s: Unexpected character: \%\#.2x."{}}, fileName, (\textcolor{keywordtype}{unsigned})c);}
\DoxyCodeLine{943     \}}
\DoxyCodeLine{944 \}}

\end{DoxyCode}
\mbox{\Hypertarget{hex2otf_8c_ad77c441582f862d494a734eb9855dd41}\label{hex2otf_8c_ad77c441582f862d494a734eb9855dd41}} 
\index{hex2otf.c@{hex2otf.c}!readGlyphs@{readGlyphs}}
\index{readGlyphs@{readGlyphs}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{readGlyphs()}{readGlyphs()}}
{\footnotesize\ttfamily void read\+Glyphs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{const char $\ast$}]{file\+Name }\end{DoxyParamCaption})}



Read glyph definitions from a Unifont .hex format file. 

This function reads in the glyph bitmaps contained in a Unifont .hex format file. These input files contain one glyph bitmap per line. Each line is of the form \begin{DoxyVerb}<hexadecimal code point> ':' <hexadecimal bitmap sequence>
\end{DoxyVerb}
 The code point field typically consists of 4 hexadecimal digits for a code point in Unicode Plane 0, and 6 hexadecimal digits for code points above Plane 0. The hexadecimal bitmap sequence is 32 hexadecimal digits long for a glyph that is 8 pixels wide by 16 pixels high, and 64 hexadecimal digits long for a glyph that is 16 pixels wide by 16 pixels high.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & The font data structure to update with new glyphs. \\
\hline
\mbox{\texttt{ in}}  & {\em file\+Name} & The name of the Unifont .hex format input file. \\
\hline
\end{DoxyParams}


Definition at line 966 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{967 \{}
\DoxyCodeLine{968     FILE *file = fopen (fileName, \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{969     \textcolor{keywordflow}{if} (!file)}
\DoxyCodeLine{970         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to open file '\%s'."{}}, fileName);}
\DoxyCodeLine{971     uint\_fast32\_t glyphCount = 1; \textcolor{comment}{// for glyph 0}}
\DoxyCodeLine{972     uint\_fast8\_t maxByteCount = 0;}
\DoxyCodeLine{973     \{ \textcolor{comment}{// Hard code the .notdef glyph.}}
\DoxyCodeLine{974         \textcolor{keyword}{const} \textcolor{keywordtype}{byte} bitmap[] = \textcolor{stringliteral}{"{}\(\backslash\)0\(\backslash\)0\(\backslash\)0\string~fZZzvv\string~vv\string~\(\backslash\)0\(\backslash\)0"{}}; \textcolor{comment}{// same as U+FFFD}}
\DoxyCodeLine{975         \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} byteCount = \textcolor{keyword}{sizeof} bitmap -\/ 1;}
\DoxyCodeLine{976         assert (byteCount <= \mbox{\hyperlink{hex2otf_8c_ad0f95bf4a3a4a28b173b971e246b8745}{GLYPH\_MAX\_BYTE\_COUNT}});}
\DoxyCodeLine{977         assert (byteCount \% \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}} == 0);}
\DoxyCodeLine{978         \mbox{\hyperlink{structGlyph}{Glyph}} *notdef = getBufferSlot (font-\/>glyphs, sizeof (\mbox{\hyperlink{structGlyph}{Glyph}}));}
\DoxyCodeLine{979         memcpy (notdef-\/>\mbox{\hyperlink{structGlyph_abbbc1113c6e10dc0fa986abbb7f7665e}{bitmap}}, bitmap, byteCount);}
\DoxyCodeLine{980         notdef-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}} = maxByteCount = byteCount;}
\DoxyCodeLine{981         notdef-\/>\mbox{\hyperlink{structGlyph_ada6b8b4b9419096c413b5a29dbc54aac}{combining}} = \textcolor{keyword}{false};}
\DoxyCodeLine{982         notdef-\/>\mbox{\hyperlink{structGlyph_ac113da35f4193641855eaf51547f9b43}{pos}} = 0;}
\DoxyCodeLine{983         notdef-\/>\mbox{\hyperlink{structGlyph_a7fb4dc03b71777de880164eee4ffbc51}{lsb}} = 0;}
\DoxyCodeLine{984     \}}
\DoxyCodeLine{985     \textcolor{keywordflow}{for} (;;)}
\DoxyCodeLine{986     \{}
\DoxyCodeLine{987         uint\_fast32\_t codePoint;}
\DoxyCodeLine{988         \textcolor{keywordflow}{if} (\mbox{\hyperlink{hex2otf_8c_ae28f2f636e4d3dd3b5784a3bc3f92b58}{readCodePoint}} (\&codePoint, fileName, file))}
\DoxyCodeLine{989             \textcolor{keywordflow}{break};}
\DoxyCodeLine{990         \textcolor{keywordflow}{if} (++glyphCount > \mbox{\hyperlink{hex2otf_8c_a1a1d1da8a5f6da54d749399b173c9bfc}{MAX\_GLYPHS}})}
\DoxyCodeLine{991             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}OpenType does not support more than \%lu glyphs."{}},}
\DoxyCodeLine{992                 \mbox{\hyperlink{hex2otf_8c_a1a1d1da8a5f6da54d749399b173c9bfc}{MAX\_GLYPHS}});}
\DoxyCodeLine{993         \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = getBufferSlot (font-\/>glyphs, sizeof (\mbox{\hyperlink{structGlyph}{Glyph}}));}
\DoxyCodeLine{994         glyph-\/>\mbox{\hyperlink{structGlyph_a08ed20f3df1902ce776f6e1fccd089b9}{codePoint}} = codePoint;}
\DoxyCodeLine{995         glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}} = 0;}
\DoxyCodeLine{996         glyph-\/>\mbox{\hyperlink{structGlyph_ada6b8b4b9419096c413b5a29dbc54aac}{combining}} = \textcolor{keyword}{false};}
\DoxyCodeLine{997         glyph-\/>\mbox{\hyperlink{structGlyph_ac113da35f4193641855eaf51547f9b43}{pos}} = 0;}
\DoxyCodeLine{998         glyph-\/>\mbox{\hyperlink{structGlyph_a7fb4dc03b71777de880164eee4ffbc51}{lsb}} = 0;}
\DoxyCodeLine{999         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{byte} *p = glyph-\/>\mbox{\hyperlink{structGlyph_abbbc1113c6e10dc0fa986abbb7f7665e}{bitmap}};; p++)}
\DoxyCodeLine{1000         \{}
\DoxyCodeLine{1001             \textcolor{keywordtype}{int} h, l;}
\DoxyCodeLine{1002             \textcolor{keywordflow}{if} (isxdigit (h = getc (file)) \&\& isxdigit (l = getc (file)))}
\DoxyCodeLine{1003             \{}
\DoxyCodeLine{1004                 \textcolor{keywordflow}{if} (++glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}} > \mbox{\hyperlink{hex2otf_8c_ad0f95bf4a3a4a28b173b971e246b8745}{GLYPH\_MAX\_BYTE\_COUNT}})}
\DoxyCodeLine{1005                     \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Hex stream of "{}}\mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\_CP}}\textcolor{stringliteral}{"{} is too long."{}}, codePoint);}
\DoxyCodeLine{1006                 *p = nibbleValue (h) << 4 | nibbleValue (l);}
\DoxyCodeLine{1007             \}}
\DoxyCodeLine{1008             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (h == \textcolor{charliteral}{'\(\backslash\)n'} || (h == EOF \&\& feof (file)))}
\DoxyCodeLine{1009                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{1010             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ferror (file))}
\DoxyCodeLine{1011                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}\%s: Read error."{}}, fileName);}
\DoxyCodeLine{1012             \textcolor{keywordflow}{else}}
\DoxyCodeLine{1013                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Hex stream of "{}}\mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\_CP}}\textcolor{stringliteral}{"{} is invalid."{}}, codePoint);}
\DoxyCodeLine{1014         \}}
\DoxyCodeLine{1015         \textcolor{keywordflow}{if} (glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}} \% \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}} != 0)}
\DoxyCodeLine{1016             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Hex length of "{}}\mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\_CP}}\textcolor{stringliteral}{"{} is indivisible by glyph height \%d."{}},}
\DoxyCodeLine{1017                 codePoint, \mbox{\hyperlink{hex2otf_8c_a7d0a7ac24105d9c91bce2b5a1e9a1ad3}{GLYPH\_HEIGHT}});}
\DoxyCodeLine{1018         \textcolor{keywordflow}{if} (glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}} > maxByteCount)}
\DoxyCodeLine{1019             maxByteCount = glyph-\/>\mbox{\hyperlink{structGlyph_aa309ceb984d5524ef7dab0e8927fdd64}{byteCount}};}
\DoxyCodeLine{1020     \}}
\DoxyCodeLine{1021     \textcolor{keywordflow}{if} (glyphCount == 1)}
\DoxyCodeLine{1022         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}No glyph is specified."{}});}
\DoxyCodeLine{1023     font-\/>glyphCount = glyphCount;}
\DoxyCodeLine{1024     font-\/>maxWidth = \mbox{\hyperlink{hex2otf_8c_a79e768c38f3b21419f01d2d1347523be}{PW}} (maxByteCount);}
\DoxyCodeLine{1025     fclose (file);}
\DoxyCodeLine{1026 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{hex2otf_8c_ad77c441582f862d494a734eb9855dd41_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{hex2otf_8c_ad77c441582f862d494a734eb9855dd41_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a77ff68152c5cb38605010bc7621b0722}\label{hex2otf_8c_a77ff68152c5cb38605010bc7621b0722}} 
\index{hex2otf.c@{hex2otf.c}!sortGlyphs@{sortGlyphs}}
\index{sortGlyphs@{sortGlyphs}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{sortGlyphs()}{sortGlyphs()}}
{\footnotesize\ttfamily void sort\+Glyphs (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font }\end{DoxyParamCaption})}



Sort the glyphs in a font by Unicode code point. 

This function reads in an array of glyphs and sorts them by Unicode code point. If a duplicate code point is encountered, that will result in a fatal error with an error message to stderr.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em font} & Pointer to a \mbox{\hyperlink{structFont}{Font}} structure with glyphs to sort. \\
\hline
\end{DoxyParams}


Definition at line 1119 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{1120 \{}
\DoxyCodeLine{1121     \mbox{\hyperlink{structGlyph}{Glyph}} *glyphs = getBufferHead (font-\/>glyphs);}
\DoxyCodeLine{1122     \textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *\textcolor{keyword}{const} glyphsEnd = getBufferTail (font-\/>glyphs);}
\DoxyCodeLine{1123     glyphs++; \textcolor{comment}{// glyph 0 does not need sorting}}
\DoxyCodeLine{1124     qsort (glyphs, glyphsEnd -\/ glyphs, \textcolor{keyword}{sizeof} *glyphs, \mbox{\hyperlink{hex2otf_8c_a0d187cc87528ef35478afd7a68309f08}{byCodePoint}});}
\DoxyCodeLine{1125     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structGlyph}{Glyph}} *glyph = glyphs; glyph < glyphsEnd -\/ 1; glyph++)}
\DoxyCodeLine{1126     \{}
\DoxyCodeLine{1127         \textcolor{keywordflow}{if} (glyph[0].codePoint == glyph[1].codePoint)}
\DoxyCodeLine{1128             \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Duplicate code point: "{}}\mbox{\hyperlink{hex2otf_8c_af25acbe53b9070c1400a04c9231691bb}{PRI\_CP}}\textcolor{stringliteral}{"{}."{}}, glyph[0].codePoint);}
\DoxyCodeLine{1129         assert (glyph[0].codePoint < glyph[1].codePoint);}
\DoxyCodeLine{1130     \}}
\DoxyCodeLine{1131 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{hex2otf_8c_a77ff68152c5cb38605010bc7621b0722_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380}\label{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380}} 
\index{hex2otf.c@{hex2otf.c}!writeBytes@{writeBytes}}
\index{writeBytes@{writeBytes}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{writeBytes()}{writeBytes()}}
{\footnotesize\ttfamily void write\+Bytes (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{hex2otf_8c_a0c8186d9b9b7880309c27230bbb5e69d}{byte}}}]{bytes\mbox{[}$\,$\mbox{]},  }\item[{size\+\_\+t}]{count,  }\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})}



Write an array of bytes to an output file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em bytes} & An array of unsigned bytes to write. \\
\hline
\mbox{\texttt{ in}}  & {\em file} & The file pointer for writing, of type FILE $\ast$. \\
\hline
\end{DoxyParams}


Definition at line 538 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{539 \{}
\DoxyCodeLine{540     \textcolor{keywordflow}{if} (fwrite (bytes, count, 1, file) != 1 \&\& count != 0)}
\DoxyCodeLine{541         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to write \%zu bytes to output file."{}}, count);}
\DoxyCodeLine{542 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a074562f0527ff6db8b1b956b9356a315}\label{hex2otf_8c_a074562f0527ff6db8b1b956b9356a315}} 
\index{hex2otf.c@{hex2otf.c}!writeFont@{writeFont}}
\index{writeFont@{writeFont}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{writeFont()}{writeFont()}}
{\footnotesize\ttfamily void write\+Font (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structFont}{Font}} $\ast$}]{font,  }\item[{bool}]{is\+CFF,  }\item[{const char $\ast$}]{file\+Name }\end{DoxyParamCaption})}



Write Open\+Type font to output file. 

This function writes the constructed Open\+Type font to the output file named \char`\"{}filename\char`\"{}.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em font} & Pointer to the font, of type \mbox{\hyperlink{structFont}{Font}} $\ast$. \\
\hline
\mbox{\texttt{ in}}  & {\em is\+CFF} & Boolean indicating whether the font has CFF data. \\
\hline
\mbox{\texttt{ in}}  & {\em filename} & The name of the font file to create. \\
\hline
\end{DoxyParams}
Add a byte shifted by 24, 16, 8, or 0 bits.

Definition at line 786 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{787 \{}
\DoxyCodeLine{788     FILE *file = fopen (fileName, \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{789     \textcolor{keywordflow}{if} (!file)}
\DoxyCodeLine{790         \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Failed to open file '\%s'."{}}, fileName);}
\DoxyCodeLine{791     \textcolor{keyword}{const} \mbox{\hyperlink{structTable}{Table}} *\textcolor{keyword}{const} tables = getBufferHead (font-\/>tables);}
\DoxyCodeLine{792     \textcolor{keyword}{const} \mbox{\hyperlink{structTable}{Table}} *\textcolor{keyword}{const} tablesEnd = getBufferTail (font-\/>tables);}
\DoxyCodeLine{793     \textcolor{keywordtype}{size\_t} tableCount = tablesEnd -\/ tables;}
\DoxyCodeLine{794     assert (0 < tableCount \&\& tableCount <= \mbox{\hyperlink{hex2otf_8c_a01d5b7bf9004b7a8c920f958861d2a8e}{U16MAX}});}
\DoxyCodeLine{795     \textcolor{keywordtype}{size\_t} offset = 12 + 16 * tableCount;}
\DoxyCodeLine{796     uint\_fast32\_t totalChecksum = 0;}
\DoxyCodeLine{797     \mbox{\hyperlink{structBuffer}{Buffer}} *tableRecords =}
\DoxyCodeLine{798         \mbox{\hyperlink{hex2otf_8c_aefca579e9f2fec4fa23f9907e9633548}{newBuffer}} (\textcolor{keyword}{sizeof} (\textcolor{keyword}{struct} \mbox{\hyperlink{structTableRecord}{TableRecord}}) * tableCount);}
\DoxyCodeLine{799     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < tableCount; i++)}
\DoxyCodeLine{800     \{}
\DoxyCodeLine{801         \textcolor{keyword}{struct }\mbox{\hyperlink{structTableRecord}{TableRecord}} *record =}
\DoxyCodeLine{802             getBufferSlot (tableRecords, \textcolor{keyword}{sizeof} *record);}
\DoxyCodeLine{803         record-\/>tag = tables[i].tag;}
\DoxyCodeLine{804         \textcolor{keywordtype}{size\_t} length = countBufferedBytes (tables[i].content);}
\DoxyCodeLine{805 \textcolor{preprocessor}{        \#if SIZE\_MAX > U32MAX}}
\DoxyCodeLine{806             \textcolor{keywordflow}{if} (offset > \mbox{\hyperlink{hex2otf_8c_a7ccab01e56208030185cefdca13e0ac8}{U32MAX}})}
\DoxyCodeLine{807                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Table offset exceeded 4 GiB."{}});}
\DoxyCodeLine{808             \textcolor{keywordflow}{if} (length > \mbox{\hyperlink{hex2otf_8c_a7ccab01e56208030185cefdca13e0ac8}{U32MAX}})}
\DoxyCodeLine{809                 \mbox{\hyperlink{hex2otf_8c_a2f5976201b1e630a94045f04a0348572}{fail}} (\textcolor{stringliteral}{"{}Table size exceeded 4 GiB."{}});}
\DoxyCodeLine{810 \textcolor{preprocessor}{        \#endif}}
\DoxyCodeLine{811         record-\/>length = length;}
\DoxyCodeLine{812         record-\/>checksum = 0;}
\DoxyCodeLine{813         \textcolor{keyword}{const} \textcolor{keywordtype}{byte} *p = getBufferHead (tables[i].content);}
\DoxyCodeLine{814         \textcolor{keyword}{const} \textcolor{keywordtype}{byte} *\textcolor{keyword}{const} end = getBufferTail (tables[i].content);}
\DoxyCodeLine{815 \textcolor{comment}{}}
\DoxyCodeLine{816 \textcolor{comment}{        /// Add a byte shifted by 24, 16, 8, or 0 bits.}}
\DoxyCodeLine{817 \textcolor{comment}{}\textcolor{preprocessor}{        \#define addByte(shift) \(\backslash\)}}
\DoxyCodeLine{818 \textcolor{preprocessor}{            if (p == end) \(\backslash\)}}
\DoxyCodeLine{819 \textcolor{preprocessor}{                break; \(\backslash\)}}
\DoxyCodeLine{820 \textcolor{preprocessor}{            record-\/>checksum += (uint\_fast32\_t)*p++ << (shift);}}
\DoxyCodeLine{821 }
\DoxyCodeLine{822         \textcolor{keywordflow}{for} (;;)}
\DoxyCodeLine{823         \{}
\DoxyCodeLine{824             addByte (24)}
\DoxyCodeLine{825             addByte (16)}
\DoxyCodeLine{826             addByte (8)}
\DoxyCodeLine{827             addByte (0)}
\DoxyCodeLine{828         \}}
\DoxyCodeLine{829         \textcolor{preprocessor}{\#undef addByte}}
\DoxyCodeLine{830         \mbox{\hyperlink{hex2otf_8c_a0d4560c5d562d31a33f092bb579f8397}{cacheZeros}} (tables[i].content, (\string~length + 1U) \& 3U);}
\DoxyCodeLine{831         record-\/>offset = offset;}
\DoxyCodeLine{832         offset += countBufferedBytes (tables[i].content);}
\DoxyCodeLine{833         totalChecksum += record-\/>checksum;}
\DoxyCodeLine{834     \}}
\DoxyCodeLine{835     \textcolor{keyword}{struct }\mbox{\hyperlink{structTableRecord}{TableRecord}} *records = getBufferHead (tableRecords);}
\DoxyCodeLine{836     qsort (records, tableCount, \textcolor{keyword}{sizeof} *records, \mbox{\hyperlink{hex2otf_8c_af1223f39e8627e0a3b0b7b533e6d0b64}{byTableTag}});}
\DoxyCodeLine{837     \textcolor{comment}{// Offset Table}}
\DoxyCodeLine{838     uint\_fast32\_t sfntVersion = isCFF ? 0x4f54544f : 0x00010000;}
\DoxyCodeLine{839     \mbox{\hyperlink{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}{writeU32}} (sfntVersion, file); \textcolor{comment}{// sfntVersion}}
\DoxyCodeLine{840     totalChecksum += sfntVersion;}
\DoxyCodeLine{841     uint\_fast16\_t entrySelector = 0;}
\DoxyCodeLine{842     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} k = tableCount; k != 1; k >>= 1)}
\DoxyCodeLine{843         entrySelector++;}
\DoxyCodeLine{844     uint\_fast16\_t searchRange = 1 << (entrySelector + 4);}
\DoxyCodeLine{845     uint\_fast16\_t rangeShift = (tableCount -\/ (1 << entrySelector)) << 4;}
\DoxyCodeLine{846     \mbox{\hyperlink{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1}{writeU16}} (tableCount, file); \textcolor{comment}{// numTables}}
\DoxyCodeLine{847     \mbox{\hyperlink{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1}{writeU16}} (searchRange, file); \textcolor{comment}{// searchRange}}
\DoxyCodeLine{848     \mbox{\hyperlink{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1}{writeU16}} (entrySelector, file); \textcolor{comment}{// entrySelector}}
\DoxyCodeLine{849     \mbox{\hyperlink{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1}{writeU16}} (rangeShift, file); \textcolor{comment}{// rangeShift}}
\DoxyCodeLine{850     totalChecksum += (uint\_fast32\_t)tableCount << 16;}
\DoxyCodeLine{851     totalChecksum += searchRange;}
\DoxyCodeLine{852     totalChecksum += (uint\_fast32\_t)entrySelector << 16;}
\DoxyCodeLine{853     totalChecksum += rangeShift;}
\DoxyCodeLine{854     \textcolor{comment}{// Table Records (always sorted by table tags)}}
\DoxyCodeLine{855     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < tableCount; i++)}
\DoxyCodeLine{856     \{}
\DoxyCodeLine{857         \textcolor{comment}{// Table Record}}
\DoxyCodeLine{858         \mbox{\hyperlink{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}{writeU32}} (records[i].tag, file); \textcolor{comment}{// tableTag}}
\DoxyCodeLine{859         \mbox{\hyperlink{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}{writeU32}} (records[i].checksum, file); \textcolor{comment}{// checkSum}}
\DoxyCodeLine{860         \mbox{\hyperlink{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}{writeU32}} (records[i].offset, file); \textcolor{comment}{// offset}}
\DoxyCodeLine{861         \mbox{\hyperlink{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}{writeU32}} (records[i].length, file); \textcolor{comment}{// length}}
\DoxyCodeLine{862         totalChecksum += records[i].tag;}
\DoxyCodeLine{863         totalChecksum += records[i].checksum;}
\DoxyCodeLine{864         totalChecksum += records[i].offset;}
\DoxyCodeLine{865         totalChecksum += records[i].length;}
\DoxyCodeLine{866     \}}
\DoxyCodeLine{867     \mbox{\hyperlink{hex2otf_8c_ac928f7761fc187ff86f33805309bec21}{freeBuffer}} (tableRecords);}
\DoxyCodeLine{868     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \mbox{\hyperlink{structTable}{Table}} *table = tables; table < tablesEnd; table++)}
\DoxyCodeLine{869     \{}
\DoxyCodeLine{870         \textcolor{keywordflow}{if} (table-\/>tag == 0x68656164) \textcolor{comment}{// 'head' table}}
\DoxyCodeLine{871         \{}
\DoxyCodeLine{872             \textcolor{keywordtype}{byte} *begin = getBufferHead (table-\/>content);}
\DoxyCodeLine{873             \textcolor{keywordtype}{byte} *end = getBufferTail (table-\/>content);}
\DoxyCodeLine{874             \mbox{\hyperlink{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380}{writeBytes}} (begin, 8, file);}
\DoxyCodeLine{875             \mbox{\hyperlink{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}{writeU32}} (0xb1b0afbaU -\/ totalChecksum, file); \textcolor{comment}{// checksumAdjustment}}
\DoxyCodeLine{876             \mbox{\hyperlink{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380}{writeBytes}} (begin + 12, end -\/ (begin + 12), file);}
\DoxyCodeLine{877             \textcolor{keywordflow}{continue};}
\DoxyCodeLine{878         \}}
\DoxyCodeLine{879         writeBuffer (table-\/>content, file);}
\DoxyCodeLine{880     \}}
\DoxyCodeLine{881     fclose (file);}
\DoxyCodeLine{882 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{hex2otf_8c_a074562f0527ff6db8b1b956b9356a315_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{hex2otf_8c_a074562f0527ff6db8b1b956b9356a315_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1}\label{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1}} 
\index{hex2otf.c@{hex2otf.c}!writeU16@{writeU16}}
\index{writeU16@{writeU16}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{writeU16()}{writeU16()}}
{\footnotesize\ttfamily void write\+U16 (\begin{DoxyParamCaption}\item[{uint\+\_\+fast16\+\_\+t}]{value,  }\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})}



Write an unsigned 16-\/bit value to an output file. 

This function writes a 16-\/bit unsigned value in big-\/endian order to an output file specified with a file pointer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em value} & The 16-\/bit value to write. \\
\hline
\mbox{\texttt{ in}}  & {\em file} & The file pointer for writing, of type FILE $\ast$. \\
\hline
\end{DoxyParams}


Definition at line 554 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{555 \{}
\DoxyCodeLine{556     \textcolor{keywordtype}{byte} bytes[] =}
\DoxyCodeLine{557     \{}
\DoxyCodeLine{558         (value >> 8) \& 0xff,}
\DoxyCodeLine{559         (value     ) \& 0xff,}
\DoxyCodeLine{560     \};}
\DoxyCodeLine{561     \mbox{\hyperlink{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380}{writeBytes}} (bytes, \textcolor{keyword}{sizeof} bytes, file);}
\DoxyCodeLine{562 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{hex2otf_8c_a83aece82aa1fe815fc24a12be34a24b1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}\label{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f}} 
\index{hex2otf.c@{hex2otf.c}!writeU32@{writeU32}}
\index{writeU32@{writeU32}!hex2otf.c@{hex2otf.c}}
\doxysubsubsection{\texorpdfstring{writeU32()}{writeU32()}}
{\footnotesize\ttfamily void write\+U32 (\begin{DoxyParamCaption}\item[{uint\+\_\+fast32\+\_\+t}]{value,  }\item[{FILE $\ast$}]{file }\end{DoxyParamCaption})}



Write an unsigned 32-\/bit value to an output file. 

This function writes a 32-\/bit unsigned value in big-\/endian order to an output file specified with a file pointer.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em value} & The 32-\/bit value to write. \\
\hline
\mbox{\texttt{ in}}  & {\em file} & The file pointer for writing, of type FILE $\ast$. \\
\hline
\end{DoxyParams}


Definition at line 574 of file hex2otf.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{575 \{}
\DoxyCodeLine{576     \textcolor{keywordtype}{byte} bytes[] =}
\DoxyCodeLine{577     \{}
\DoxyCodeLine{578         (value >> 24) \& 0xff,}
\DoxyCodeLine{579         (value >> 16) \& 0xff,}
\DoxyCodeLine{580         (value >>  8) \& 0xff,}
\DoxyCodeLine{581         (value      ) \& 0xff,}
\DoxyCodeLine{582     \};}
\DoxyCodeLine{583     \mbox{\hyperlink{hex2otf_8c_ae2b46edf2ac290c695e2b27d16f1b380}{writeBytes}} (bytes, \textcolor{keyword}{sizeof} bytes, file);}
\DoxyCodeLine{584 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{hex2otf_8c_a941153850cde042e39ce40d47d5aac5f_cgraph}
\end{center}
\end{figure}
