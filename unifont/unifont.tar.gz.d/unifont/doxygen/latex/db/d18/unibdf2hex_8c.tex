\hypertarget{unibdf2hex_8c}{}\doxysection{src/unibdf2hex.c File Reference}
\label{unibdf2hex_8c}\index{src/unibdf2hex.c@{src/unibdf2hex.c}}


unibdf2hex -\/ Convert a B\+DF file into a unifont.\+hex file  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for unibdf2hex.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{db/df8/unibdf2hex_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{unibdf2hex_8c_a2e467ad6d1fb7b24985a45af8b1e7ad1}\label{unibdf2hex_8c_a2e467ad6d1fb7b24985a45af8b1e7ad1}} 
\#define \mbox{\hyperlink{unibdf2hex_8c_a2e467ad6d1fb7b24985a45af8b1e7ad1}{U\+N\+I\+S\+T\+A\+RT}}~0x3400
\begin{DoxyCompactList}\small\item\em First Unicode code point to examine. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{unibdf2hex_8c_afd5dcd82c8e611d544ad18b798c54d50}\label{unibdf2hex_8c_afd5dcd82c8e611d544ad18b798c54d50}} 
\#define \mbox{\hyperlink{unibdf2hex_8c_afd5dcd82c8e611d544ad18b798c54d50}{U\+N\+I\+S\+T\+OP}}~0x4\+D\+BF
\begin{DoxyCompactList}\small\item\em Last Unicode code point to examine. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}\label{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}} 
\#define \mbox{\hyperlink{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}{M\+A\+X\+B\+UF}}~256
\begin{DoxyCompactList}\small\item\em Maximum allowable input file line length -\/ 1. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{unibdf2hex_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}} ()
\begin{DoxyCompactList}\small\item\em The main function. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
unibdf2hex -\/ Convert a B\+DF file into a unifont.\+hex file 

\begin{DoxyAuthor}{Author}
Paul Hardy, January 2008
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
Copyright (C) 2008, 2013 Paul Hardy
\end{DoxyCopyright}
Note\+: currently this has hard-\/coded code points for glyphs extracted from Wen Quan Yi to create the Unifont source file \char`\"{}wqy.\+hex\char`\"{}. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{unibdf2hex_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}\label{unibdf2hex_8c_ae66f6b31b5ad750f1fe042a706a4e3d4}} 
\index{unibdf2hex.c@{unibdf2hex.c}!main@{main}}
\index{main@{main}!unibdf2hex.c@{unibdf2hex.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The main function. 

\begin{DoxyReturn}{Returns}
Exit status is always 0 (successful termination). 
\end{DoxyReturn}


Definition at line 46 of file unibdf2hex.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{47 \{}
\DoxyCodeLine{48    \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{49    \textcolor{keywordtype}{int} digitsout;  \textcolor{comment}{/* how many hex digits we output in a bitmap */}}
\DoxyCodeLine{50    \textcolor{keywordtype}{int} thispoint;}
\DoxyCodeLine{51    \textcolor{keywordtype}{char} inbuf[\mbox{\hyperlink{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}{MAXBUF}}];}
\DoxyCodeLine{52    \textcolor{keywordtype}{int} bbxx, bbxy, bbxxoff, bbxyoff;}
\DoxyCodeLine{53 }
\DoxyCodeLine{54    \textcolor{keywordtype}{int} descent=4; \textcolor{comment}{/* font descent wrt baseline */}}
\DoxyCodeLine{55    \textcolor{keywordtype}{int} startrow;  \textcolor{comment}{/* row to start glyph        */}}
\DoxyCodeLine{56    \textcolor{keywordtype}{unsigned} rowout;}
\DoxyCodeLine{57 }
\DoxyCodeLine{58    \textcolor{keywordflow}{while} (fgets (inbuf, \mbox{\hyperlink{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}{MAXBUF}} -\/ 1, stdin) != NULL) \{}
\DoxyCodeLine{59       \textcolor{keywordflow}{if} (strncmp (inbuf, \textcolor{stringliteral}{"{}ENCODING "{}}, 9) == 0) \{}
\DoxyCodeLine{60          sscanf (\&inbuf[9], \textcolor{stringliteral}{"{}\%d"{}}, \&thispoint); \textcolor{comment}{/* get code point */}}
\DoxyCodeLine{61          \textcolor{comment}{/*}}
\DoxyCodeLine{62 \textcolor{comment}{            If we want this code point, get the BBX (bounding box) and}}
\DoxyCodeLine{63 \textcolor{comment}{            BITMAP information.}}
\DoxyCodeLine{64 \textcolor{comment}{         */}}
\DoxyCodeLine{65          \textcolor{keywordflow}{if} ((thispoint >= 0x2E80 \&\& thispoint <= 0x2EFF) || \textcolor{comment}{// CJK Radicals Supplement}}
\DoxyCodeLine{66              (thispoint >= 0x2F00 \&\& thispoint <= 0x2FDF) || \textcolor{comment}{// Kangxi Radicals}}
\DoxyCodeLine{67              (thispoint >= 0x2FF0 \&\& thispoint <= 0x2FFF) || \textcolor{comment}{// Ideographic Description Characters}}
\DoxyCodeLine{68              (thispoint >= 0x3001 \&\& thispoint <= 0x303F) || \textcolor{comment}{// CJK Symbols and Punctuation (U+3000 is a space)}}
\DoxyCodeLine{69              (thispoint >= 0x3100 \&\& thispoint <= 0x312F) || \textcolor{comment}{// Bopomofo}}
\DoxyCodeLine{70              (thispoint >= 0x31A0 \&\& thispoint <= 0x31BF) || \textcolor{comment}{// Bopomofo extend}}
\DoxyCodeLine{71              (thispoint >= 0x31C0 \&\& thispoint <= 0x31EF) || \textcolor{comment}{// CJK Strokes}}
\DoxyCodeLine{72              (thispoint >= 0x3400 \&\& thispoint <= 0x4DBF) || \textcolor{comment}{// CJK Unified Ideographs Extension A}}
\DoxyCodeLine{73              (thispoint >= 0x4E00 \&\& thispoint <= 0x9FCF) || \textcolor{comment}{// CJK Unified Ideographs}}
\DoxyCodeLine{74              (thispoint >= 0xF900 \&\& thispoint <= 0xFAFF))   \textcolor{comment}{// CJK Compatibility Ideographs}}
\DoxyCodeLine{75             \{}
\DoxyCodeLine{76             \textcolor{keywordflow}{while} (fgets (inbuf, \mbox{\hyperlink{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}{MAXBUF}} -\/ 1, stdin) != NULL \&\&}
\DoxyCodeLine{77                    strncmp (inbuf, \textcolor{stringliteral}{"{}BBX "{}}, 4) != 0); \textcolor{comment}{/* find bounding box */}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79             sscanf (\&inbuf[4], \textcolor{stringliteral}{"{}\%d \%d \%d \%d"{}}, \&bbxx, \&bbxy, \&bbxxoff, \&bbxyoff);}
\DoxyCodeLine{80             \textcolor{keywordflow}{while} (fgets (inbuf, \mbox{\hyperlink{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}{MAXBUF}} -\/ 1, stdin) != NULL \&\&}
\DoxyCodeLine{81                    strncmp (inbuf, \textcolor{stringliteral}{"{}BITMAP"{}}, 6) != 0); \textcolor{comment}{/* find bitmap start */}}
\DoxyCodeLine{82             fprintf (stdout, \textcolor{stringliteral}{"{}\%04X:"{}}, thispoint);}
\DoxyCodeLine{83             digitsout = 0;}
\DoxyCodeLine{84             \textcolor{comment}{/* Print initial blank rows */}}
\DoxyCodeLine{85             startrow = descent + bbxyoff + bbxy;}
\DoxyCodeLine{86 }
\DoxyCodeLine{87             \textcolor{comment}{/* Force everything to 16 pixels wide */}}
\DoxyCodeLine{88             \textcolor{keywordflow}{for} (i = 16; i > startrow; i-\/-\/) \{}
\DoxyCodeLine{89                fprintf (stdout,\textcolor{stringliteral}{"{}0000"{}});}
\DoxyCodeLine{90                digitsout += 4;}
\DoxyCodeLine{91             \}}
\DoxyCodeLine{92             \textcolor{keywordflow}{while} (fgets (inbuf, \mbox{\hyperlink{unibdf2hex_8c_ad7871643c05865c80f5d8050aead2b57}{MAXBUF}} -\/ 1, stdin) != NULL \&\&}
\DoxyCodeLine{93                    strncmp (inbuf, \textcolor{stringliteral}{"{}END"{}}, 3) != 0) \{ \textcolor{comment}{/* copy bitmap until END */}}
\DoxyCodeLine{94                sscanf (inbuf, \textcolor{stringliteral}{"{}\%X"{}}, \&rowout);}
\DoxyCodeLine{95                \textcolor{comment}{/* Now force glyph to a 16x16 grid even if they'd fit in 8x16 */}}
\DoxyCodeLine{96                \textcolor{keywordflow}{if} (bbxx <= 8) rowout <<= 8;  \textcolor{comment}{/* shift left for 16x16 glyph */}}
\DoxyCodeLine{97                rowout >>= bbxxoff;}
\DoxyCodeLine{98                fprintf (stdout, \textcolor{stringliteral}{"{}\%04X"{}}, rowout);}
\DoxyCodeLine{99                digitsout += 4;}
\DoxyCodeLine{100             \}}
\DoxyCodeLine{101 }
\DoxyCodeLine{102             \textcolor{comment}{/* Pad for 16x16 glyph */}}
\DoxyCodeLine{103             \textcolor{keywordflow}{while} (digitsout < 64) \{}
\DoxyCodeLine{104                fprintf (stdout,\textcolor{stringliteral}{"{}0000"{}});}
\DoxyCodeLine{105                digitsout += 4;}
\DoxyCodeLine{106             \}}
\DoxyCodeLine{107             fprintf (stdout,\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{108          \}}
\DoxyCodeLine{109       \}}
\DoxyCodeLine{110    \}}
\DoxyCodeLine{111    exit (0);}
\DoxyCodeLine{112 \}}

\end{DoxyCode}
