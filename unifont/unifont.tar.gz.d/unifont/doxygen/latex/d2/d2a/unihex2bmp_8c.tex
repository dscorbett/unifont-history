\hypertarget{unihex2bmp_8c}{}\doxysection{src/unihex2bmp.c File Reference}
\label{unihex2bmp_8c}\index{src/unihex2bmp.c@{src/unihex2bmp.c}}


unihex2bmp -\/ Turn a G\+NU Unifont hex glyph page of 256 code points into a bitmap for editing  


{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for unihex2bmp.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{de/de3/unihex2bmp_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{unihex2bmp_8c_ad7871643c05865c80f5d8050aead2b57}\label{unihex2bmp_8c_ad7871643c05865c80f5d8050aead2b57}} 
\#define {\bfseries M\+A\+X\+B\+UF}~256
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{unihex2bmp_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em The main function. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{unihex2bmp_8c_a62ecfabc9a441d36b570aae42755b232}{hex2bit}} (char $\ast$instring, unsigned char character\mbox{[}32\mbox{]}\mbox{[}4\mbox{]})
\begin{DoxyCompactList}\small\item\em Generate a bitmap for one glyph. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{unihex2bmp_8c_a0ae74e74805cbaa4bf60ff3c8df15512}{init}} (unsigned char bitmap\mbox{[}17 $\ast$32\mbox{]}\mbox{[}18 $\ast$4\mbox{]})
\begin{DoxyCompactList}\small\item\em Initialize the bitmap grid. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char $\ast$ \mbox{\hyperlink{unihex2bmp_8c_aeb8bd6e54b538e3e803e1e431c21fcf7}{hex}} \mbox{[}18\mbox{]}
\begin{DoxyCompactList}\small\item\em G\+NU Unifont bitmaps for hexadecimal digits. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}\label{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}} 
unsigned char \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}} \mbox{[}18\mbox{]}\mbox{[}32\mbox{]}
\begin{DoxyCompactList}\small\item\em The digits converted into bitmaps. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}\label{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}} 
unsigned \mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}} =0
\begin{DoxyCompactList}\small\item\em Unicode page number, 0x00..0xff. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}\label{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}} 
int \mbox{\hyperlink{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}{flip}} =1
\begin{DoxyCompactList}\small\item\em Transpose entire matrix as in Unicode book. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
unihex2bmp -\/ Turn a G\+NU Unifont hex glyph page of 256 code points into a bitmap for editing 

\begin{DoxyAuthor}{Author}
Paul Hardy, unifoundry $<$at$>$ unifoundry.\+com, December 2007
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
Copyright (C) 2007, 2008, 2013, 2017 Paul Hardy
\end{DoxyCopyright}
This program reads in a G\+NU Unifont .hex file, extracts a range of 256 code points, and converts it a Microsoft Bitmap (.bmp) or Wireless Bitmap file.

Synopsis\+: unihex2bmp \mbox{[}-\/iin\+\_\+file.\+hex\mbox{]} \mbox{[}-\/oout\+\_\+file.\+bmp\mbox{]} \mbox{[}-\/f\mbox{]} \mbox{[}-\/phex\+\_\+page\+\_\+num\mbox{]} \mbox{[}-\/w\mbox{]} 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{unihex2bmp_8c_a62ecfabc9a441d36b570aae42755b232}\label{unihex2bmp_8c_a62ecfabc9a441d36b570aae42755b232}} 
\index{unihex2bmp.c@{unihex2bmp.c}!hex2bit@{hex2bit}}
\index{hex2bit@{hex2bit}!unihex2bmp.c@{unihex2bmp.c}}
\doxysubsubsection{\texorpdfstring{hex2bit()}{hex2bit()}}
{\footnotesize\ttfamily int hex2bit (\begin{DoxyParamCaption}\item[{char $\ast$}]{instring,  }\item[{unsigned char}]{character\mbox{[}32\mbox{]}\mbox{[}4\mbox{]} }\end{DoxyParamCaption})}



Generate a bitmap for one glyph. 

Convert the portion of a hex string after the \textquotesingle{}\+:\textquotesingle{} into a character bitmap.

If string is $>$= 128 characters, it will fill all 4 bytes per row. If string is $>$= 64 characters and $<$ 128, it will fill 2 bytes per row. Otherwise, it will fill 1 byte per row.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em instring} & The character array containing the glyph bitmap. \\
\hline
\mbox{\texttt{ out}}  & {\em character} & \mbox{\hyperlink{structGlyph}{Glyph}} bitmap, 8, 16, or 32 columns by 16 rows tall. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0. 
\end{DoxyReturn}


Definition at line 361 of file unihex2bmp.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{362 \{}
\DoxyCodeLine{363 }
\DoxyCodeLine{364    \textcolor{keywordtype}{int} i;  \textcolor{comment}{/* current row in bitmap character */}}
\DoxyCodeLine{365    \textcolor{keywordtype}{int} j;  \textcolor{comment}{/* current character in input string */}}
\DoxyCodeLine{366    \textcolor{keywordtype}{int} k;  \textcolor{comment}{/* current byte in bitmap character */}}
\DoxyCodeLine{367    \textcolor{keywordtype}{int} width;  \textcolor{comment}{/* number of output bytes to fill -\/ 1: 0, 1, 2, or 3 */}}
\DoxyCodeLine{368 }
\DoxyCodeLine{369    \textcolor{keywordflow}{for} (i=0; i<32; i++)  \textcolor{comment}{/* erase previous character */}}
\DoxyCodeLine{370       character[i][0] = character[i][1] = character[i][2] = character[i][3] = 0; }
\DoxyCodeLine{371    j=0;  \textcolor{comment}{/* current location is at beginning of instring */}}
\DoxyCodeLine{372 }
\DoxyCodeLine{373    \textcolor{keywordflow}{if} (strlen (instring) <= 34)  \textcolor{comment}{/* 32 + possible '\(\backslash\)r', '\(\backslash\)n' */}}
\DoxyCodeLine{374       width = 0;}
\DoxyCodeLine{375    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strlen (instring) <= 66)  \textcolor{comment}{/* 64 + possible '\(\backslash\)r', '\(\backslash\)n' */}}
\DoxyCodeLine{376       width = 1;}
\DoxyCodeLine{377    \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strlen (instring) <= 98)  \textcolor{comment}{/* 96 + possible '\(\backslash\)r', '\(\backslash\)n' */}}
\DoxyCodeLine{378       width = 3;}
\DoxyCodeLine{379    \textcolor{keywordflow}{else}  \textcolor{comment}{/* the maximum allowed is quadruple-\/width */}}
\DoxyCodeLine{380       width = 4;}
\DoxyCodeLine{381 }
\DoxyCodeLine{382    k = (width > 1) ? 0 : 1; \textcolor{comment}{/* if width > double, start at index 1 else at 0 */}}
\DoxyCodeLine{383 }
\DoxyCodeLine{384    \textcolor{keywordflow}{for} (i=8; i<24; i++) \{  \textcolor{comment}{/* 16 rows per input character, rows 8..23 */}}
\DoxyCodeLine{385       sscanf (\&instring[j], \textcolor{stringliteral}{"{}\%2hhx"{}}, \&character[i][k]);}
\DoxyCodeLine{386       j += 2;}
\DoxyCodeLine{387       \textcolor{keywordflow}{if} (width > 0) \{ \textcolor{comment}{/* add next pair of hex digits to this row */}}
\DoxyCodeLine{388          sscanf (\&instring[j], \textcolor{stringliteral}{"{}\%2hhx"{}}, \&character[i][k+1]);}
\DoxyCodeLine{389          j += 2;}
\DoxyCodeLine{390          \textcolor{keywordflow}{if} (width > 1) \{ \textcolor{comment}{/* add next pair of hex digits to this row */}}
\DoxyCodeLine{391             sscanf (\&instring[j], \textcolor{stringliteral}{"{}\%2hhx"{}}, \&character[i][k+2]);}
\DoxyCodeLine{392             j += 2;}
\DoxyCodeLine{393             \textcolor{keywordflow}{if} (width > 2) \{  \textcolor{comment}{/* quadruple-\/width is maximum width */}}
\DoxyCodeLine{394                sscanf (\&instring[j], \textcolor{stringliteral}{"{}\%2hhx"{}}, \&character[i][k+3]);}
\DoxyCodeLine{395                j += 2;}
\DoxyCodeLine{396             \}}
\DoxyCodeLine{397          \}}
\DoxyCodeLine{398       \}}
\DoxyCodeLine{399    \}}
\DoxyCodeLine{400 }
\DoxyCodeLine{401    \textcolor{keywordflow}{return} (0);}
\DoxyCodeLine{402 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=278pt]{d2/d2a/unihex2bmp_8c_a62ecfabc9a441d36b570aae42755b232_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{unihex2bmp_8c_a0ae74e74805cbaa4bf60ff3c8df15512}\label{unihex2bmp_8c_a0ae74e74805cbaa4bf60ff3c8df15512}} 
\index{unihex2bmp.c@{unihex2bmp.c}!init@{init}}
\index{init@{init}!unihex2bmp.c@{unihex2bmp.c}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily int init (\begin{DoxyParamCaption}\item[{unsigned char}]{bitmap\mbox{[}17 $\ast$32\mbox{]}\mbox{[}18 $\ast$4\mbox{]} }\end{DoxyParamCaption})}



Initialize the bitmap grid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em bitmap} & The bitmap to generate, with 32x32 pixel glyph areas. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Always returns 0. 
\end{DoxyReturn}


Definition at line 412 of file unihex2bmp.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{413 \{}
\DoxyCodeLine{414    \textcolor{keywordtype}{int} i, j;}
\DoxyCodeLine{415    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} charbits[32][4];  \textcolor{comment}{/* bitmap for one character, 4 bytes/row */}}
\DoxyCodeLine{416    \textcolor{keywordtype}{unsigned} toppixelrow;}
\DoxyCodeLine{417    \textcolor{keywordtype}{unsigned} thiscol;}
\DoxyCodeLine{418    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} pnybble0, pnybble1, pnybble2, pnybble3;}
\DoxyCodeLine{419 }
\DoxyCodeLine{420    \textcolor{keywordflow}{for} (i=0; i<18; i++) \{ \textcolor{comment}{/* bitmaps for '0'..'9', 'A'-\/'F', 'u', '+' */}}
\DoxyCodeLine{421 }
\DoxyCodeLine{422       \mbox{\hyperlink{unihex2bmp_8c_a62ecfabc9a441d36b570aae42755b232}{hex2bit}} (\&\mbox{\hyperlink{unihex2bmp_8c_aeb8bd6e54b538e3e803e1e431c21fcf7}{hex}}[i][5], charbits);  \textcolor{comment}{/* convert hex string to 32*4 bitmap */}}
\DoxyCodeLine{423 }
\DoxyCodeLine{424       \textcolor{keywordflow}{for} (j=0; j<32; j++) \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[i][j] = \string~charbits[j][1];}
\DoxyCodeLine{425    \}}
\DoxyCodeLine{426 }
\DoxyCodeLine{427    \textcolor{comment}{/*}}
\DoxyCodeLine{428 \textcolor{comment}{      Initialize bitmap to all white.}}
\DoxyCodeLine{429 \textcolor{comment}{   */}}
\DoxyCodeLine{430    \textcolor{keywordflow}{for} (toppixelrow=0; toppixelrow < 17*32; toppixelrow++) \{}
\DoxyCodeLine{431       \textcolor{keywordflow}{for} (thiscol=0; thiscol<18; thiscol++) \{}
\DoxyCodeLine{432          bitmap[toppixelrow][(thiscol << 2)    ] = 0xff;}
\DoxyCodeLine{433          bitmap[toppixelrow][(thiscol << 2) | 1] = 0xff;}
\DoxyCodeLine{434          bitmap[toppixelrow][(thiscol << 2) | 2] = 0xff;}
\DoxyCodeLine{435          bitmap[toppixelrow][(thiscol << 2) | 3] = 0xff;}
\DoxyCodeLine{436       \}}
\DoxyCodeLine{437    \}}
\DoxyCodeLine{438    \textcolor{comment}{/*}}
\DoxyCodeLine{439 \textcolor{comment}{      Write the "{}u+nnnn"{} table header in the upper left-\/hand corner,}}
\DoxyCodeLine{440 \textcolor{comment}{      where nnnn is the upper 16 bits of a 32-\/bit Unicode assignment.}}
\DoxyCodeLine{441 \textcolor{comment}{   */}}
\DoxyCodeLine{442    pnybble3 = (\mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}} >> 20);}
\DoxyCodeLine{443    pnybble2 = (\mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}} >> 16) \& 0xf;}
\DoxyCodeLine{444    pnybble1 = (\mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}} >> 12) \& 0xf;}
\DoxyCodeLine{445    pnybble0 = (\mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}} >>  8) \& 0xf;}
\DoxyCodeLine{446    \textcolor{keywordflow}{for} (i=0; i<32; i++) \{}
\DoxyCodeLine{447       bitmap[i][1] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[16][i];  \textcolor{comment}{/* copy 'u' */}}
\DoxyCodeLine{448       bitmap[i][2] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[17][i];  \textcolor{comment}{/* copy '+' */}}
\DoxyCodeLine{449       bitmap[i][3] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble3][i];}
\DoxyCodeLine{450       bitmap[i][4] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble2][i];}
\DoxyCodeLine{451       bitmap[i][5] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble1][i];}
\DoxyCodeLine{452       bitmap[i][6] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble0][i];}
\DoxyCodeLine{453    \}}
\DoxyCodeLine{454    \textcolor{comment}{/*}}
\DoxyCodeLine{455 \textcolor{comment}{      Write low-\/order 2 bytes of Unicode number assignments, as hex labels}}
\DoxyCodeLine{456 \textcolor{comment}{   */}}
\DoxyCodeLine{457    pnybble3 = (\mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}} >> 4) \& 0xf;  \textcolor{comment}{/* Highest-\/order hex digit */}}
\DoxyCodeLine{458    pnybble2 = (\mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}}     ) \& 0xf;  \textcolor{comment}{/* Next highest-\/order hex digit */}}
\DoxyCodeLine{459    \textcolor{comment}{/*}}
\DoxyCodeLine{460 \textcolor{comment}{      Write the column headers in bitmap[][] (row headers if flipped)}}
\DoxyCodeLine{461 \textcolor{comment}{   */}}
\DoxyCodeLine{462    toppixelrow = 32 * 17 -\/ 1; \textcolor{comment}{/* maximum pixel row number */}}
\DoxyCodeLine{463    \textcolor{comment}{/*}}
\DoxyCodeLine{464 \textcolor{comment}{      Label the column headers. The hexbits[][] bytes are split across two}}
\DoxyCodeLine{465 \textcolor{comment}{      bitmap[][] entries to center a the hex digits in a column of 4 bytes.}}
\DoxyCodeLine{466 \textcolor{comment}{      OR highest byte with 0xf0 and lowest byte with 0x0f to make outer}}
\DoxyCodeLine{467 \textcolor{comment}{      nybbles white (0=black, 1-\/white).}}
\DoxyCodeLine{468 \textcolor{comment}{   */}}
\DoxyCodeLine{469    \textcolor{keywordflow}{for} (i=0; i<16; i++) \{}
\DoxyCodeLine{470       \textcolor{keywordflow}{for} (j=0; j<32; j++) \{}
\DoxyCodeLine{471          \textcolor{keywordflow}{if} (\mbox{\hyperlink{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}{flip}}) \{  \textcolor{comment}{/* transpose matrix */}}
\DoxyCodeLine{472             bitmap[j][((i+2) << 2) | 0]  = (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble3][j] >> 4) | 0xf0;}
\DoxyCodeLine{473             bitmap[j][((i+2) << 2) | 1]  = (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble3][j] << 4) |}
\DoxyCodeLine{474                                            (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble2][j] >> 4);}
\DoxyCodeLine{475             bitmap[j][((i+2) << 2) | 2]  = (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble2][j] << 4) |}
\DoxyCodeLine{476                                            (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[i][j] >> 4);}
\DoxyCodeLine{477             bitmap[j][((i+2) << 2) | 3]  = (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[i][j] << 4) | 0x0f;}
\DoxyCodeLine{478          \}}
\DoxyCodeLine{479          \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{480             bitmap[j][((i+2) << 2) | 1] = (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[i][j] >> 4) | 0xf0;}
\DoxyCodeLine{481             bitmap[j][((i+2) << 2) | 2] = (\mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[i][j] << 4) | 0x0f;}
\DoxyCodeLine{482          \}}
\DoxyCodeLine{483       \}}
\DoxyCodeLine{484    \}}
\DoxyCodeLine{485    \textcolor{comment}{/*}}
\DoxyCodeLine{486 \textcolor{comment}{      Now use the single hex digit column graphics to label the row headers.}}
\DoxyCodeLine{487 \textcolor{comment}{   */}}
\DoxyCodeLine{488    \textcolor{keywordflow}{for} (i=0; i<16; i++) \{}
\DoxyCodeLine{489       toppixelrow = 32 * (i + 1) -\/ 1; \textcolor{comment}{/* from bottom to top    */}}
\DoxyCodeLine{490 }
\DoxyCodeLine{491       \textcolor{keywordflow}{for} (j=0; j<32; j++) \{}
\DoxyCodeLine{492          \textcolor{keywordflow}{if} (!\mbox{\hyperlink{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}{flip}}) \{  \textcolor{comment}{/* if not transposing matrix */}}
\DoxyCodeLine{493             bitmap[toppixelrow + j][4] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble3][j];}
\DoxyCodeLine{494             bitmap[toppixelrow + j][5] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[pnybble2][j];}
\DoxyCodeLine{495          \}}
\DoxyCodeLine{496          bitmap[toppixelrow + j][6] = \mbox{\hyperlink{unihex2bmp_8c_aeae48f98967f7227522bea4cb3821192}{hexbits}}[i][j];}
\DoxyCodeLine{497       \}}
\DoxyCodeLine{498    \}}
\DoxyCodeLine{499    \textcolor{comment}{/*}}
\DoxyCodeLine{500 \textcolor{comment}{      Now draw grid lines in bitmap, around characters we just copied.}}
\DoxyCodeLine{501 \textcolor{comment}{   */}}
\DoxyCodeLine{502    \textcolor{comment}{/* draw vertical lines 2 pixels wide */}}
\DoxyCodeLine{503    \textcolor{keywordflow}{for} (i=1*32; i<17*32; i++) \{}
\DoxyCodeLine{504       \textcolor{keywordflow}{if} ((i \& 0x1f) == 7)}
\DoxyCodeLine{505          i++;}
\DoxyCodeLine{506       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((i \& 0x1f) == 14)}
\DoxyCodeLine{507          i += 2;}
\DoxyCodeLine{508       \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((i \& 0x1f) == 22)}
\DoxyCodeLine{509          i++;}
\DoxyCodeLine{510       \textcolor{keywordflow}{for} (j=1; j<18; j++) \{}
\DoxyCodeLine{511          bitmap[i][(j << 2) | 3] \&= 0xfe;}
\DoxyCodeLine{512       \}}
\DoxyCodeLine{513    \}}
\DoxyCodeLine{514    \textcolor{comment}{/* draw horizontal lines 1 pixel tall */}}
\DoxyCodeLine{515    \textcolor{keywordflow}{for} (i=1*32-\/1; i<18*32-\/1; i+=32) \{}
\DoxyCodeLine{516       \textcolor{keywordflow}{for} (j=2; j<18; j++) \{}
\DoxyCodeLine{517          bitmap[i][(j << 2)    ] = 0x00;}
\DoxyCodeLine{518          bitmap[i][(j << 2) | 1] = 0x81;}
\DoxyCodeLine{519          bitmap[i][(j << 2) | 2] = 0x81;}
\DoxyCodeLine{520          bitmap[i][(j << 2) | 3] = 0x00;}
\DoxyCodeLine{521       \}}
\DoxyCodeLine{522    \}}
\DoxyCodeLine{523    \textcolor{comment}{/* fill in top left corner pixel of grid */}}
\DoxyCodeLine{524    bitmap[31][7] = 0xfe;}
\DoxyCodeLine{525 }
\DoxyCodeLine{526    \textcolor{keywordflow}{return} (0);}
\DoxyCodeLine{527 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=201pt]{d2/d2a/unihex2bmp_8c_a0ae74e74805cbaa4bf60ff3c8df15512_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=189pt]{d2/d2a/unihex2bmp_8c_a0ae74e74805cbaa4bf60ff3c8df15512_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{unihex2bmp_8c_a0ddf1224851353fc92bfbff6f499fa97}\label{unihex2bmp_8c_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{unihex2bmp.c@{unihex2bmp.c}!main@{main}}
\index{main@{main}!unihex2bmp.c@{unihex2bmp.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



The main function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em argc} & The count of command line arguments. \\
\hline
\mbox{\texttt{ in}}  & {\em argv} & Pointer to array of command line arguments. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This program exits with status 0. 
\end{DoxyReturn}


Definition at line 96 of file unihex2bmp.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{97 \{}
\DoxyCodeLine{98 }
\DoxyCodeLine{99    \textcolor{keywordtype}{int} i, j;                  \textcolor{comment}{/* loop variables                    */}}
\DoxyCodeLine{100    \textcolor{keywordtype}{unsigned} k0;               \textcolor{comment}{/* temp Unicode char variable        */}}
\DoxyCodeLine{101    \textcolor{keywordtype}{unsigned} swap;             \textcolor{comment}{/* temp variable for swapping values */}}
\DoxyCodeLine{102    \textcolor{keywordtype}{char} inbuf[256];           \textcolor{comment}{/* input buffer                      */}}
\DoxyCodeLine{103    \textcolor{keywordtype}{unsigned} filesize;         \textcolor{comment}{/* size of file in bytes             */}}
\DoxyCodeLine{104    \textcolor{keywordtype}{unsigned} bitmapsize;       \textcolor{comment}{/* size of bitmap image in bytes     */}}
\DoxyCodeLine{105    \textcolor{keywordtype}{unsigned} thischar;         \textcolor{comment}{/* the current character             */}}
\DoxyCodeLine{106    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} thischarbyte; \textcolor{comment}{/* unsigned char lowest byte of Unicode char */}}
\DoxyCodeLine{107    \textcolor{keywordtype}{int} thischarrow;           \textcolor{comment}{/* row 0..15 where this character belongs  */}}
\DoxyCodeLine{108    \textcolor{keywordtype}{int} thiscol;               \textcolor{comment}{/* column 0..15 where this character belongs */}}
\DoxyCodeLine{109    \textcolor{keywordtype}{int} toppixelrow;           \textcolor{comment}{/* pixel row, 0..16*32-\/1               */}}
\DoxyCodeLine{110    \textcolor{keywordtype}{unsigned} lastpage=0;       \textcolor{comment}{/* the last Unicode page read in font file */}}
\DoxyCodeLine{111    \textcolor{keywordtype}{int} wbmp=0;                \textcolor{comment}{/* set to 1 if writing .wbmp format file */}}
\DoxyCodeLine{112 }
\DoxyCodeLine{113    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} bitmap[17*32][18*4]; \textcolor{comment}{/* final bitmap */}}
\DoxyCodeLine{114    \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} charbits[32][4];  \textcolor{comment}{/* bitmap for one character, 4 bytes/row */}}
\DoxyCodeLine{115 }
\DoxyCodeLine{116    \textcolor{keywordtype}{char} *infile=\textcolor{stringliteral}{"{}"{}}, *outfile=\textcolor{stringliteral}{"{}"{}};  \textcolor{comment}{/* names of input and output files */}}
\DoxyCodeLine{117    FILE *infp, *outfp;      \textcolor{comment}{/* file pointers of input and output files */}}
\DoxyCodeLine{118 }
\DoxyCodeLine{119    \textcolor{keywordtype}{int} \mbox{\hyperlink{unihex2bmp_8c_a0ae74e74805cbaa4bf60ff3c8df15512}{init}}();                  \textcolor{comment}{/* initializes bitmap row/col labeling, \&c. */}}
\DoxyCodeLine{120    \textcolor{keywordtype}{int} \mbox{\hyperlink{unihex2bmp_8c_a62ecfabc9a441d36b570aae42755b232}{hex2bit}}();               \textcolor{comment}{/* convert hex string -\/-\/> bitmap */}}
\DoxyCodeLine{121 }
\DoxyCodeLine{122    bitmapsize = 17*32*18*4;  \textcolor{comment}{/* 17 rows by 18 cols, each 4 bytes */}}
\DoxyCodeLine{123 }
\DoxyCodeLine{124    \textcolor{keywordflow}{if} (argc > 1) \{}
\DoxyCodeLine{125       \textcolor{keywordflow}{for} (i = 1; i < argc; i++) \{}
\DoxyCodeLine{126          \textcolor{keywordflow}{if} (argv[i][0] == \textcolor{charliteral}{'-\/'}) \{  \textcolor{comment}{/* this is an option argument */}}
\DoxyCodeLine{127             \textcolor{keywordflow}{switch} (argv[i][1]) \{}
\DoxyCodeLine{128                \textcolor{keywordflow}{case} \textcolor{charliteral}{'f'}:  \textcolor{comment}{/* flip (transpose) glyphs in bitmap as in standard */}}
\DoxyCodeLine{129                   \mbox{\hyperlink{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}{flip}} = !\mbox{\hyperlink{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}{flip}};}
\DoxyCodeLine{130                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{131                \textcolor{keywordflow}{case} \textcolor{charliteral}{'i'}:  \textcolor{comment}{/* name of input file */}}
\DoxyCodeLine{132                   infile = \&argv[i][2];}
\DoxyCodeLine{133                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{134                \textcolor{keywordflow}{case} \textcolor{charliteral}{'o'}:  \textcolor{comment}{/* name of output file */}}
\DoxyCodeLine{135                   outfile = \&argv[i][2];}
\DoxyCodeLine{136                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{137                \textcolor{keywordflow}{case} \textcolor{charliteral}{'p'}:  \textcolor{comment}{/* specify a Unicode page other than default of 0 */}}
\DoxyCodeLine{138                   sscanf (\&argv[i][2], \textcolor{stringliteral}{"{}\%x"{}}, \&\mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}}); \textcolor{comment}{/* Get Unicode page */}}
\DoxyCodeLine{139                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{140                \textcolor{keywordflow}{case} \textcolor{charliteral}{'w'}:  \textcolor{comment}{/* write a .wbmp file instead of a .bmp file */}}
\DoxyCodeLine{141                   wbmp = 1;}
\DoxyCodeLine{142                   \textcolor{keywordflow}{break};}
\DoxyCodeLine{143                \textcolor{keywordflow}{default}:   \textcolor{comment}{/* if unrecognized option, print list and exit */}}
\DoxyCodeLine{144                   fprintf (stderr, \textcolor{stringliteral}{"{}\(\backslash\)nSyntax:\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{145                   fprintf (stderr, \textcolor{stringliteral}{"{}   \%s -\/p<Unicode\_Page> "{}}, argv[0]);}
\DoxyCodeLine{146                   fprintf (stderr, \textcolor{stringliteral}{"{}-\/i<Input\_File> -\/o<Output\_File> -\/w\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{147                   fprintf (stderr, \textcolor{stringliteral}{"{}   -\/w specifies .wbmp output instead of "{}});}
\DoxyCodeLine{148                   fprintf (stderr, \textcolor{stringliteral}{"{}default Windows .bmp output.\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{149                   fprintf (stderr, \textcolor{stringliteral}{"{}   -\/p is followed by 1 to 6 "{}});}
\DoxyCodeLine{150                   fprintf (stderr, \textcolor{stringliteral}{"{}Unicode page hex digits "{}});}
\DoxyCodeLine{151                   fprintf (stderr, \textcolor{stringliteral}{"{}(default is Page 0).\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{152                   fprintf (stderr, \textcolor{stringliteral}{"{}\(\backslash\)nExample:\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{153                   fprintf (stderr, \textcolor{stringliteral}{"{}   \%s -\/p83 -\/iunifont.hex -\/ou83.bmp\(\backslash\)n\(\backslash\)n\(\backslash\)n"{}},}
\DoxyCodeLine{154                          argv[0]);}
\DoxyCodeLine{155                   exit (1);}
\DoxyCodeLine{156             \}}
\DoxyCodeLine{157          \}}
\DoxyCodeLine{158       \}}
\DoxyCodeLine{159    \}}
\DoxyCodeLine{160    \textcolor{comment}{/*}}
\DoxyCodeLine{161 \textcolor{comment}{      Make sure we can open any I/O files that were specified before}}
\DoxyCodeLine{162 \textcolor{comment}{      doing anything else.}}
\DoxyCodeLine{163 \textcolor{comment}{   */}}
\DoxyCodeLine{164    \textcolor{keywordflow}{if} (strlen (infile) > 0) \{}
\DoxyCodeLine{165       \textcolor{keywordflow}{if} ((infp = fopen (infile, \textcolor{stringliteral}{"{}r"{}})) == NULL) \{}
\DoxyCodeLine{166          fprintf (stderr, \textcolor{stringliteral}{"{}Error: can't open \%s for input.\(\backslash\)n"{}}, infile);}
\DoxyCodeLine{167          exit (1);}
\DoxyCodeLine{168       \}}
\DoxyCodeLine{169    \}}
\DoxyCodeLine{170    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{171       infp = stdin;}
\DoxyCodeLine{172    \}}
\DoxyCodeLine{173    \textcolor{keywordflow}{if} (strlen (outfile) > 0) \{}
\DoxyCodeLine{174       \textcolor{keywordflow}{if} ((outfp = fopen (outfile, \textcolor{stringliteral}{"{}w"{}})) == NULL) \{}
\DoxyCodeLine{175          fprintf (stderr, \textcolor{stringliteral}{"{}Error: can't open \%s for output.\(\backslash\)n"{}}, outfile);}
\DoxyCodeLine{176          exit (1);}
\DoxyCodeLine{177       \}}
\DoxyCodeLine{178    \}}
\DoxyCodeLine{179    \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{180       outfp = stdout;}
\DoxyCodeLine{181    \}}
\DoxyCodeLine{182 }
\DoxyCodeLine{183    (void)\mbox{\hyperlink{unihex2bmp_8c_a0ae74e74805cbaa4bf60ff3c8df15512}{init}}(bitmap); \textcolor{comment}{/* initialize bitmap with row/column headers, etc. */}}
\DoxyCodeLine{184 }
\DoxyCodeLine{185    \textcolor{comment}{/*}}
\DoxyCodeLine{186 \textcolor{comment}{      Read in the characters in the page}}
\DoxyCodeLine{187 \textcolor{comment}{   */}}
\DoxyCodeLine{188    \textcolor{keywordflow}{while} (lastpage <= \mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}} \&\& fgets (inbuf, MAXBUF-\/1, infp) != NULL) \{}
\DoxyCodeLine{189       sscanf (inbuf, \textcolor{stringliteral}{"{}\%x"{}}, \&thischar);}
\DoxyCodeLine{190       lastpage = thischar >> 8; \textcolor{comment}{/* keep Unicode page to see if we can stop */}}
\DoxyCodeLine{191       \textcolor{keywordflow}{if} (lastpage == \mbox{\hyperlink{unihex2bmp_8c_a725bf527e95e9b9ac1168abcaff63dc9}{unipage}}) \{}
\DoxyCodeLine{192          thischarbyte = (\textcolor{keywordtype}{unsigned} char)(thischar \& 0xff);}
\DoxyCodeLine{193          \textcolor{keywordflow}{for} (k0=0; inbuf[k0] != \textcolor{charliteral}{':'}; k0++);}
\DoxyCodeLine{194          k0++;}
\DoxyCodeLine{195          \mbox{\hyperlink{unihex2bmp_8c_a62ecfabc9a441d36b570aae42755b232}{hex2bit}} (\&inbuf[k0], charbits);  \textcolor{comment}{/* convert hex string to 32*4 bitmap */}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197          \textcolor{comment}{/*}}
\DoxyCodeLine{198 \textcolor{comment}{            Now write character bitmap upside-\/down in page array, to match}}
\DoxyCodeLine{199 \textcolor{comment}{            .bmp file order.  In the .wbmp` and .bmp files, white is a '1'}}
\DoxyCodeLine{200 \textcolor{comment}{            bit and black is a '0' bit, so complement charbits[][].}}
\DoxyCodeLine{201 \textcolor{comment}{         */}}
\DoxyCodeLine{202 }
\DoxyCodeLine{203          thiscol = (thischarbyte \& 0xf) + 2;  \textcolor{comment}{/* column number will be 1..16  */}}
\DoxyCodeLine{204          thischarrow = thischarbyte >> 4;     \textcolor{comment}{/* charcter row number, 0..15   */}}
\DoxyCodeLine{205          \textcolor{keywordflow}{if} (\mbox{\hyperlink{unihex2bmp_8c_a8b05735de97cfd5336895936c06b293a}{flip}}) \{  \textcolor{comment}{/* swap row and column placement */}}
\DoxyCodeLine{206             swap = thiscol;}
\DoxyCodeLine{207             thiscol = thischarrow;}
\DoxyCodeLine{208             thischarrow = swap;}
\DoxyCodeLine{209             thiscol += 2;       \textcolor{comment}{/* column index starts at 1 */}}
\DoxyCodeLine{210             thischarrow -\/= 2;   \textcolor{comment}{/* row index starts at 0    */}}
\DoxyCodeLine{211          \}}
\DoxyCodeLine{212          toppixelrow = 32 * (thischarrow + 1) -\/ 1; \textcolor{comment}{/* from bottom to top    */}}
\DoxyCodeLine{213    }
\DoxyCodeLine{214          \textcolor{comment}{/*}}
\DoxyCodeLine{215 \textcolor{comment}{            Copy the center of charbits[][] because hex characters only}}
\DoxyCodeLine{216 \textcolor{comment}{            occupy rows 8 to 23 and column byte 2 (and for 16 bit wide}}
\DoxyCodeLine{217 \textcolor{comment}{            characters, byte 3).  The charbits[][] array was given 32 rows}}
\DoxyCodeLine{218 \textcolor{comment}{            and 4 column bytes for completeness in the beginning.}}
\DoxyCodeLine{219 \textcolor{comment}{         */}}
\DoxyCodeLine{220          \textcolor{keywordflow}{for} (i=8; i<24; i++) \{}
\DoxyCodeLine{221             bitmap[toppixelrow + i][(thiscol << 2) | 0] =}
\DoxyCodeLine{222                \string~charbits[i][0] \& 0xff;}
\DoxyCodeLine{223             bitmap[toppixelrow + i][(thiscol << 2) | 1] =}
\DoxyCodeLine{224                \string~charbits[i][1] \& 0xff;}
\DoxyCodeLine{225             bitmap[toppixelrow + i][(thiscol << 2) | 2] =}
\DoxyCodeLine{226                \string~charbits[i][2] \& 0xff;}
\DoxyCodeLine{227             \textcolor{comment}{/* Only use first 31 bits; leave vertical rule in 32nd column */}}
\DoxyCodeLine{228             bitmap[toppixelrow + i][(thiscol << 2) | 3] =}
\DoxyCodeLine{229                \string~charbits[i][3] \& 0xfe;}
\DoxyCodeLine{230          \}}
\DoxyCodeLine{231          \textcolor{comment}{/*}}
\DoxyCodeLine{232 \textcolor{comment}{            Leave white space in 32nd column of rows 8, 14, 15, and 23}}
\DoxyCodeLine{233 \textcolor{comment}{            to leave 16 pixel height upper, middle, and lower guides.}}
\DoxyCodeLine{234 \textcolor{comment}{         */}}
\DoxyCodeLine{235          bitmap[toppixelrow +  8][(thiscol << 2) | 3] |= 1;}
\DoxyCodeLine{236          bitmap[toppixelrow + 14][(thiscol << 2) | 3] |= 1;}
\DoxyCodeLine{237          bitmap[toppixelrow + 15][(thiscol << 2) | 3] |= 1;}
\DoxyCodeLine{238          bitmap[toppixelrow + 23][(thiscol << 2) | 3] |= 1;}
\DoxyCodeLine{239       \}}
\DoxyCodeLine{240    \}}
\DoxyCodeLine{241    \textcolor{comment}{/*}}
\DoxyCodeLine{242 \textcolor{comment}{      Now write the appropriate bitmap file format, either}}
\DoxyCodeLine{243 \textcolor{comment}{      Wireless Bitmap or Microsoft Windows bitmap.}}
\DoxyCodeLine{244 \textcolor{comment}{   */}}
\DoxyCodeLine{245    \textcolor{keywordflow}{if} (wbmp) \{  \textcolor{comment}{/* Write a Wireless Bitmap .wbmp format file */}}
\DoxyCodeLine{246       \textcolor{comment}{/*}}
\DoxyCodeLine{247 \textcolor{comment}{         Write WBMP header}}
\DoxyCodeLine{248 \textcolor{comment}{      */}}
\DoxyCodeLine{249       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, 0x00); \textcolor{comment}{/* Type of image; always 0 (monochrome) */}}
\DoxyCodeLine{250       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, 0x00); \textcolor{comment}{/* Reserved; always 0                   */}}
\DoxyCodeLine{251       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c"{}}, 0x84, 0x40); \textcolor{comment}{/* Width  = 576 pixels          */}}
\DoxyCodeLine{252       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c"{}}, 0x84, 0x20); \textcolor{comment}{/* Height = 544 pixels          */}}
\DoxyCodeLine{253       \textcolor{comment}{/*}}
\DoxyCodeLine{254 \textcolor{comment}{         Write bitmap image}}
\DoxyCodeLine{255 \textcolor{comment}{      */}}
\DoxyCodeLine{256       \textcolor{keywordflow}{for} (toppixelrow=0; toppixelrow <= 17*32-\/1; toppixelrow++) \{}
\DoxyCodeLine{257          \textcolor{keywordflow}{for} (j=0; j<18; j++) \{}
\DoxyCodeLine{258             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2)    ]);}
\DoxyCodeLine{259             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2) | 1]);}
\DoxyCodeLine{260             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2) | 2]);}
\DoxyCodeLine{261             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2) | 3]);}
\DoxyCodeLine{262          \}}
\DoxyCodeLine{263       \}}
\DoxyCodeLine{264    \}}
\DoxyCodeLine{265    \textcolor{keywordflow}{else} \{  \textcolor{comment}{/* otherwise, write a Microsoft Windows .bmp format file */}}
\DoxyCodeLine{266       \textcolor{comment}{/*}}
\DoxyCodeLine{267 \textcolor{comment}{         Write the .bmp file -\/-\/ start with the header, then write the bitmap}}
\DoxyCodeLine{268 \textcolor{comment}{      */}}
\DoxyCodeLine{269 }
\DoxyCodeLine{270       \textcolor{comment}{/* 'B', 'M' appears at start of every .bmp file */}}
\DoxyCodeLine{271       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c"{}}, 0x42, 0x4d);}
\DoxyCodeLine{272 }
\DoxyCodeLine{273       \textcolor{comment}{/* Write file size in bytes */}}
\DoxyCodeLine{274       filesize   = 0x3E + bitmapsize;}
\DoxyCodeLine{275       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((filesize        ) \& 0xff));}
\DoxyCodeLine{276       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((filesize >> 0x08) \& 0xff));}
\DoxyCodeLine{277       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((filesize >> 0x10) \& 0xff));}
\DoxyCodeLine{278       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((filesize >> 0x18) \& 0xff));}
\DoxyCodeLine{279 }
\DoxyCodeLine{280       \textcolor{comment}{/* Reserved -\/ 0's */}}
\DoxyCodeLine{281       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x00, 0x00, 0x00, 0x00);}
\DoxyCodeLine{282 }
\DoxyCodeLine{283       \textcolor{comment}{/* Offset from start of file to bitmap data */}}
\DoxyCodeLine{284       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x3E, 0x00, 0x00, 0x00);}
\DoxyCodeLine{285 }
\DoxyCodeLine{286       \textcolor{comment}{/* Length of bitmap info header */}}
\DoxyCodeLine{287       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x28, 0x00, 0x00, 0x00);}
\DoxyCodeLine{288 }
\DoxyCodeLine{289       \textcolor{comment}{/* Width of bitmap in pixels */}}
\DoxyCodeLine{290       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x40, 0x02, 0x00, 0x00);}
\DoxyCodeLine{291 }
\DoxyCodeLine{292       \textcolor{comment}{/* Height of bitmap in pixels */}}
\DoxyCodeLine{293       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x20, 0x02, 0x00, 0x00);}
\DoxyCodeLine{294 }
\DoxyCodeLine{295       \textcolor{comment}{/* Planes in bitmap (fixed at 1) */}}
\DoxyCodeLine{296       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c"{}}, 0x01, 0x00);}
\DoxyCodeLine{297 }
\DoxyCodeLine{298       \textcolor{comment}{/* bits per pixel (1 = monochrome) */}}
\DoxyCodeLine{299       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c"{}}, 0x01, 0x00);}
\DoxyCodeLine{300 }
\DoxyCodeLine{301       \textcolor{comment}{/* Compression (0 = none) */}}
\DoxyCodeLine{302       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x00, 0x00, 0x00, 0x00);}
\DoxyCodeLine{303 }
\DoxyCodeLine{304       \textcolor{comment}{/* Size of bitmap data in bytes */}}
\DoxyCodeLine{305       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((bitmapsize        ) \& 0xff));}
\DoxyCodeLine{306       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((bitmapsize >> 0x08) \& 0xff));}
\DoxyCodeLine{307       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((bitmapsize >> 0x10) \& 0xff));}
\DoxyCodeLine{308       fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char})((bitmapsize >> 0x18) \& 0xff));}
\DoxyCodeLine{309 }
\DoxyCodeLine{310       \textcolor{comment}{/* Horizontal resolution in pixels per meter */}}
\DoxyCodeLine{311       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0xC4, 0x0E, 0x00, 0x00);}
\DoxyCodeLine{312 }
\DoxyCodeLine{313       \textcolor{comment}{/* Vertical resolution in pixels per meter */}}
\DoxyCodeLine{314       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0xC4, 0x0E, 0x00, 0x00);}
\DoxyCodeLine{315 }
\DoxyCodeLine{316       \textcolor{comment}{/* Number of colors used */}}
\DoxyCodeLine{317       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x02, 0x00, 0x00, 0x00);}
\DoxyCodeLine{318 }
\DoxyCodeLine{319       \textcolor{comment}{/* Number of important colors */}}
\DoxyCodeLine{320       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x02, 0x00, 0x00, 0x00);}
\DoxyCodeLine{321 }
\DoxyCodeLine{322       \textcolor{comment}{/* The color black: B=0x00, G=0x00, R=0x00, Filler=0xFF */}}
\DoxyCodeLine{323       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0x00, 0x00, 0x00, 0x00);}
\DoxyCodeLine{324 }
\DoxyCodeLine{325       \textcolor{comment}{/* The color white: B=0xFF, G=0xFF, R=0xFF, Filler=0xFF */}}
\DoxyCodeLine{326       fprintf (outfp, \textcolor{stringliteral}{"{}\%c\%c\%c\%c"{}}, 0xFF, 0xFF, 0xFF, 0x00);}
\DoxyCodeLine{327 }
\DoxyCodeLine{328       \textcolor{comment}{/*}}
\DoxyCodeLine{329 \textcolor{comment}{         Now write the raw data bits.  Data is written from the lower}}
\DoxyCodeLine{330 \textcolor{comment}{         left-\/hand corner of the image to the upper right-\/hand corner}}
\DoxyCodeLine{331 \textcolor{comment}{         of the image.}}
\DoxyCodeLine{332 \textcolor{comment}{      */}}
\DoxyCodeLine{333       \textcolor{keywordflow}{for} (toppixelrow=17*32-\/1; toppixelrow >= 0; toppixelrow-\/-\/) \{}
\DoxyCodeLine{334          \textcolor{keywordflow}{for} (j=0; j<18; j++) \{}
\DoxyCodeLine{335             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2)    ]);}
\DoxyCodeLine{336             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2) | 1]);}
\DoxyCodeLine{337             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2) | 2]);}
\DoxyCodeLine{338 }
\DoxyCodeLine{339             fprintf (outfp, \textcolor{stringliteral}{"{}\%c"{}}, bitmap[toppixelrow][(j<<2) | 3]);}
\DoxyCodeLine{340          \}}
\DoxyCodeLine{341       \}}
\DoxyCodeLine{342    \}}
\DoxyCodeLine{343    exit (0);}
\DoxyCodeLine{344 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=278pt]{d2/d2a/unihex2bmp_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{unihex2bmp_8c_aeb8bd6e54b538e3e803e1e431c21fcf7}\label{unihex2bmp_8c_aeb8bd6e54b538e3e803e1e431c21fcf7}} 
\index{unihex2bmp.c@{unihex2bmp.c}!hex@{hex}}
\index{hex@{hex}!unihex2bmp.c@{unihex2bmp.c}}
\doxysubsubsection{\texorpdfstring{hex}{hex}}
{\footnotesize\ttfamily char$\ast$ hex\mbox{[}18\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0030:00000000182442424242424224180000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0031:000000000818280808080808083E0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0032:000000003C4242020C102040407E0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0033:000000003C4242021C020242423C0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0034:00000000040C142444447E0404040000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0035:000000007E4040407C020202423C0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0036:000000001C2040407C424242423C0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0037:000000007E0202040404080808080000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0038:000000003C4242423C424242423C0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0039:000000003C4242423E02020204380000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0041:0000000018242442427E424242420000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0042:000000007C4242427C424242427C0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0043:000000003C42424040404042423C0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0044:00000000784442424242424244780000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0045:000000007E4040407C404040407E0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0046:000000007E4040407C40404040400000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}0055:000000004242424242424242423C0000"{}},  }
\DoxyCodeLine{      \textcolor{stringliteral}{"{}002B:0000000000000808087F080808000000"{}}   }
\DoxyCodeLine{   \}}

\end{DoxyCode}


G\+NU Unifont bitmaps for hexadecimal digits. 

These are the G\+NU Unifont hex strings for \textquotesingle{}0\textquotesingle{}-\/\textquotesingle{}9\textquotesingle{} and \textquotesingle{}A\textquotesingle{}-\/\textquotesingle{}F\textquotesingle{}, for encoding as bit strings in row and column headers.

Looking at the final bitmap as a grid of 32$\ast$32 bit tiles, the first row contains a hexadecimal character string of the first 3 hex digits in a 4 digit Unicode character name; the top column contains a hex character string of the 4th (low-\/order) hex digit of the Unicode character. 

Definition at line 62 of file unihex2bmp.\+c.

